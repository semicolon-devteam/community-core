{"version":3,"file":"index.esm.js","sources":["../lib/utils/numberUtil.ts","../lib/utils/dateUtil.ts","../lib/utils/authUtil.ts","../lib/utils/imageUtil.ts","../lib/utils/levelUtil.ts","../lib/utils/stringUtil.ts","../lib/utils/urlUtil.ts","../lib/utils/jwtUtil.ts","../lib/utils/uploadErrorHandler.ts","../lib/config/init.ts","../lib/theme/tokens/colors.ts","../lib/theme/tokens/typography.ts","../lib/theme/tokens/spacing.ts","../lib/theme/tokens/components.ts","../lib/theme/defaultThemes.ts","../lib/theme/utils/mergeTheme.ts","../lib/theme/utils/cssVariables.ts","../lib/theme/ThemeProvider.tsx","../lib/components/atoms/Button/index.tsx","../lib/components/atoms/Badge/index.tsx","../lib/components/atoms/Avatar/index.tsx","../lib/components/atoms/Input.tsx","../lib/components/atoms/Select.tsx","../lib/components/atoms/Checkbox.tsx","../lib/components/atoms/Radio.tsx","../lib/components/atoms/Switch.tsx","../lib/components/atoms/TextArea.tsx","../lib/components/atoms/Skeleton/index.tsx","../lib/config/axios.ts","../lib/types/common/index.ts","../lib/services/baseService.ts","../lib/services/userService.ts","../lib/services/postService.ts","../lib/services/boardService.ts","../lib/services/authService.ts","../lib/services/permissionService.ts","../node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.production.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js","../node_modules/use-sync-external-store/with-selector.js","../node_modules/react-redux/dist/react-redux.mjs","../lib/hooks/common/useDeviceType.ts","../lib/hooks/common/useGlobalLoader.ts","../lib/hooks/common/usePermission.ts","../lib/hooks/common/useRouterWithLoader.ts","../lib/hooks/common/index.ts","../lib/hooks/User/useAuth.ts","../lib/hooks/common/useAuthGuard.ts","../lib/hooks/queries/useUserQuery.ts","../lib/hooks/queries/usePostQuery.ts","../lib/hooks/queries/useBoardQuery.ts","../lib/hooks/queries/useCommentQuery.ts","../lib/theme/utils/themeHelpers.ts","../lib/theme/index.ts","../lib/index.ts","../lib/config/Supabase/client.ts"],"sourcesContent":["/**\n * 숫자를 1000 단위로 콤마(,)를 찍어서 문자열로 변환\n * @param num 변환할 숫자 또는 숫자 형태의 문자열\n * @returns 1000단위로 콤마가 포함된 문자열\n */\nexport const formatNumberWithComma = (num: number | string): string => {\n\n    if (num === null || num === undefined || num === '') {\n        return '';\n    }\n    \n    // 숫자나 문자열을 문자열로 변환\n    const numStr: string = typeof num === 'number' ? num.toString() : num;\n    \n    // 소수점이 있는 경우 처리\n    const parts = numStr.split('.');\n    \n    // 정수 부분에 3자리마다 콤마 추가\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    \n    // 소수점이 있으면 다시 합치고, 없으면 정수 부분만 반환\n    return parts.length > 1 ? parts.join('.') : parts[0];\n};\n\n/**\n * 문자열에서 콤마를 제거하고 숫자로 변환\n * @param str 콤마가 포함된 문자열\n * @returns 콤마가 제거된 숫자\n */\nexport const removeCommaFromString = (str: string): number => {\n  if (!str) return 0;\n  return parseFloat(str.replace(/,/g, ''));\n};\n","// formatDate와 timeAgo 함수를 서버와 클라이언트 모두에서 사용할 수 있게 설정\n\nexport function formatDate(dateString: string, isSimple = false): string {\n  if (!dateString) return \"\";\n\n  const date = new Date(dateString);\n\n  // 날짜가 유효하지 않은 경우\n  if (isNaN(date.getTime())) {\n    return dateString;\n  }\n\n  // 날짜를 YYYY.MM.DD. HH:MM:SS 형식으로 포맷팅\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const hours = String(date.getHours()).padStart(2, \"0\");\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\n  const seconds = String(date.getSeconds()).padStart(2, \"0\");\n\n  return isSimple\n    ? `${year}.${month}.${day}`\n    : `${year}.${month}.${day}. ${hours}:${minutes}:${seconds}`;\n}\n\nexport function timeAgo(dateString: string, isSimple: boolean = true): string {\n  if (!dateString) return \"\";\n\n  const date = new Date(dateString);\n\n  // 날짜가 유효하지 않은 경우\n  if (isNaN(date.getTime())) {\n    return dateString;\n  }\n\n  // 서버 측 렌더링 시 포맷된 날짜 반환\n  // if (typeof window === \"undefined\") {\n  //   // 서버에서는 정적인 포맷으로 반환\n  //   return formatDate(dateString);\n  // }\n\n  const now = new Date();\n  const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n\n  // 1분 미만\n  if (seconds < 60) {\n    return \"방금 전\";\n  }\n\n  // 1시간 미만\n  const minutes = Math.floor(seconds / 60);\n  if (minutes < 60) {\n    return `${minutes}분 전`;\n  }\n\n  // 24시간 미만\n  const hours = Math.floor(minutes / 60);\n  if (hours < 24) {\n    return `${hours}시간 전`;\n  }\n\n  return isSimple ? DateUtil.toChar(dateString, \"MM.dd\") : DateUtil.toChar(dateString, \"yyyy.MM.dd. HH:mm:ss\");\n\n  // // 30일 미만\n  // const days = Math.floor(hours / 24);\n  // if (days < 30) {\n  //   return `${days}일 전`;\n  // }\n\n  // // 12개월 미만\n  // const months = Math.floor(days / 30);\n  // if (months < 12) {\n  //   return `${months}개월 전`;\n  // }\n\n  // // 1년 이상\n  // const years = Math.floor(months / 12);\n  // return `${years}년 전`;\n}\n\nexport const DateUtil = {\n  toChar(\n    input: string | Date,\n    format: string = \"YYYY.MM.DD. HH:MM:SS\"\n  ): string {\n    const date = typeof input === \"string\" ? new Date(input) : input;\n\n    if (!date || isNaN(date.getTime())) return \"\";\n\n    const map: Record<string, string> = {\n      yyyy: String(date.getFullYear()),\n      MM: String(date.getMonth() + 1).padStart(2, \"0\"),\n      dd: String(date.getDate()).padStart(2, \"0\"),\n      HH: String(date.getHours()).padStart(2, \"0\"),\n      mm: String(date.getMinutes()).padStart(2, \"0\"),\n      ss: String(date.getSeconds()).padStart(2, \"0\"),\n    };\n\n    return Object.entries(map).reduce(\n      (result, [key, value]) => result.replace(key, value),\n      format\n    );\n  },\n};\n","/**\n * 통합 인증 및 권한 관리 유틸리티\n */\n\nimport type { User, permissionType } from '../types/User';\n\ninterface JWTUserPayload {\n  sub: string;\n  user_metadata: any;\n  is_admin?: boolean;\n  level?: number;\n}\n\nexport interface AuthUser {\n  id: string;\n  nickname: string;\n  level: number;\n  permissionType: permissionType;\n  is_admin?: boolean;\n}\n\n/**\n * 사용자가 JWT 페이로드인지 확인하는 타입 가드\n */\nexport function isJWTPayload(user: any): user is JWTUserPayload {\n  return user && typeof user.sub === 'string' && user.user_metadata;\n}\n\n/**\n * 사용자가 User 객체인지 확인하는 타입 가드 (Redux store에서 온 데이터)\n */\nexport function isUserObject(user: any): user is User {\n  return (\n    user &&\n    typeof user.id === 'string' &&\n    user.nickname &&\n    user.permissionType\n  );\n}\n\nexport const isValidUser = (user: User | null): user is User => {\n  return (\n    !!user &&\n    typeof user.id === 'string' &&\n    !!user.nickname &&\n    !!user.permissionType\n  );\n};\n\n// checkIsAdmin 함수의 타입을 User와 완벽하게 호환되도록 수정\nexport const checkIsAdmin = (user: {\n  level: number;\n  permissionType: permissionType;\n}): boolean => {\n  return (\n    user.level >= 99 ||\n    user.permissionType === 'admin' ||\n    user.permissionType === 'super_admin'\n  );\n};\n\nexport const isAdmin = (user: AuthUser | User | null): boolean => {\n  if (!user) return false;\n  return checkIsAdmin(user);\n};\n\nexport const isSuperAdmin = (user: AuthUser | User | null): boolean => {\n  if (!user) return false;\n  return checkIsAdmin(user);\n};\n\nexport const isAdminOrSuperAdmin = (user: AuthUser | User | null): boolean => {\n  if (!user) return false;\n  return checkIsAdmin(user);\n};\n\n/**\n * 특정 레벨 이상 권한 체크\n * @param user 사용자 정보 (Redux store의 User 객체 권장)\n * @param requiredLevel 필요한 최소 레벨\n * @returns 권한 여부\n */\nexport const hasLevelPermission = (\n  user?: AuthUser | null,\n  requiredLevel: number = 0\n): boolean => {\n  // 사용자가 없거나 빈 객체인 경우\n  if (!user || (typeof user === 'object' && Object.keys(user).length === 0)) {\n    return requiredLevel === 0;\n  }\n\n  // 관리자는 모든 권한 보유\n  if (isAdmin(user)) return true;\n\n  // Redux store의 User 객체인 경우 (권장)\n  if (isUserObject(user)) {\n    return user.level >= requiredLevel;\n  }\n\n  // JWT 페이로드인 경우 (레거시 호환성 - 권장하지 않음)\n  if (isJWTPayload(user)) {\n    console.warn(\n      '[DEPRECATED] JWT 기반 권한 체크는 권장하지 않습니다. useAppSelector(selectUserInfo)를 사용하여 Redux store의 사용자 정보를 활용하세요.'\n    );\n    // 레거시 호환성을 위한 기본 권한 매핑\n    const userLevel = user.is_admin ? 99 : (user.level || 1);\n    return userLevel >= requiredLevel;\n  }\n\n  // 기존 UserPermission 형태인 경우 (레거시)\n  return user.level >= requiredLevel;\n};\n\n/**\n * 게시판 권한 체크 (읽기, 쓰기, 댓글 등)\n * @param user 사용자 정보 (Redux store의 User 객체 권장)\n * @param requiredLevel 필요한 권한 레벨\n * @param isLoggedIn 로그인 여부\n * @returns 권한 여부\n */\nexport const hasBoardPermission = (\n  user?: AuthUser | null,\n  requiredLevel: number | 'free' = 0,\n  isLoggedIn: boolean = false\n): boolean => {\n  // 'free' 또는 0인 경우 모든 사용자 접근 가능\n  if (requiredLevel === 'free' || requiredLevel === 0) {\n    return true;\n  }\n\n  // 로그인이 필요한 경우\n  if (!isLoggedIn || !user) {\n    return false;\n  }\n\n  return hasLevelPermission(user, requiredLevel);\n};\n\n/**\n * 사용자 권한 레벨 반환\n * @param user 사용자 정보 (Redux store의 User 객체 권장)\n * @returns 사용자 레벨\n */\nexport const getUserLevel = (user?: AuthUser | null): number => {\n  if (!user) return 0;\n\n  // Redux store의 User 객체인 경우 (권장)\n  if (isUserObject(user)) {\n    return user.level || 0;\n  }\n\n  // JWT 페이로드인 경우 (레거시 호환성 - 권장하지 않음)\n  if (isJWTPayload(user)) {\n    console.warn(\n      '[DEPRECATED] JWT 기반 레벨 조회는 권장하지 않습니다. useAppSelector(selectUserInfo)를 사용하여 Redux store의 사용자 정보를 활용하세요.'\n    );\n    // 레거시 호환성을 위한 기본 레벨 매핑\n    return user.is_admin ? 99 : (user.level || 1);\n  }\n\n  // 기존 UserPermission 형태인 경우 (레거시)\n  return user.level || 0;\n};\n\nexport const getUserPermissionType = (user: AuthUser | User | null): permissionType => {\n  if (!user) {\n    return 'anonymous';\n  }\n\n  return user.permissionType || 'user';\n};\n\nexport const getUserPermissionTypeFromJWT = (user: AuthUser | User | null): permissionType => {\n  if (!user) {\n    return 'anonymous';\n  }\n\n  return user.permissionType || 'user';\n};\n\nexport const getUserPermissionTypeFromDB = (user: AuthUser | User | null): permissionType => {\n  if (!user) {\n    return 'anonymous';\n  }\n\n  return user.permissionType || 'user';\n};\n","// 이미지 캐싱을 위한 사이즈 상수\nexport const IMAGE_SIZE = {\n  sm: 120,\n  md: 240,\n  lg: 480,\n  xl: 720,\n  xxl: 960,\n} as const;\n\nexport type ImageSizeKey = keyof typeof IMAGE_SIZE;\n\n/**\n * Supabase Storage URL을 Image Transformation URL로 변환\n * @param url - 원본 Supabase Storage URL\n * @param size - 이미지 사이즈 (IMAGE_SIZE의 키 또는 숫자)\n * @param quality - 이미지 품질 (20-100, 기본값: 70)\n * @returns 변환된 Image Transformation URL\n */\nexport function transformSupabaseImageUrl(\n  url: string,\n  size: ImageSizeKey | number = 'md',\n  quality: number = 70\n): string {\n  if (!url || !url.includes('/storage/v1/object/')) {\n    return url;\n  }\n\n  try {\n    // object를 render/image로 변경\n    const transformedUrl = url.replace(\n      '/storage/v1/object/',\n      '/storage/v1/render/image/'\n    );\n\n    // 사이즈 값 결정\n    const width = typeof size === 'number' ? size : IMAGE_SIZE[size];\n\n    // 품질 값 검증 (20-100 범위)\n    const validQuality = Math.max(20, Math.min(100, quality));\n\n    // 쿼리 파라미터 추가\n    const separator = transformedUrl.includes('?') ? '&' : '?';\n    const params = `width=${width}&quality=${validQuality}`;\n\n    return `${transformedUrl}${separator}${params}`;\n  } catch (error) {\n    console.error('Failed to transform Supabase image URL:', error);\n    return url; // 변환 실패 시 원본 URL 반환\n  }\n}\n\n/**\n * 여러 사이즈의 이미지 URL을 생성 (srcSet용)\n * @param url - 원본 Supabase Storage URL\n * @param sizes - 생성할 사이즈 배열\n * @param quality - 이미지 품질 (기본값: 70)\n * @returns 사이즈별 URL 객체\n */\nexport function generateImageSrcSet(\n  url: string,\n  sizes: ImageSizeKey[] = ['sm', 'md', 'lg'],\n  quality: number = 70\n): Record<ImageSizeKey, string> {\n  const result = {} as Record<ImageSizeKey, string>;\n\n  sizes.forEach(size => {\n    result[size] = transformSupabaseImageUrl(url, size, quality);\n  });\n\n  return result;\n}\n\n/**\n * Next.js Image 컴포넌트용 로더 함수\n * @param src - 이미지 소스 (버킷 경로)\n * @param width - 요청된 너비\n * @param quality - 이미지 품질\n * @returns 변환된 URL\n */\nexport function supabaseImageLoader({\n  src,\n  width,\n  quality,\n}: {\n  src: string;\n  width: number;\n  quality?: number;\n}): string {\n  const baseUrl = 'https://community.semi-colon.space';\n  const validQuality = quality || 75;\n\n  return `${baseUrl}/storage/v1/render/image/public/${src}?width=${width}&quality=${validQuality}`;\n}\n\n/**\n * 이미지 src의 절대경로를 상대경로로 변환\n * NEXT_PUBLIC_STORAGE_URL 또는 NEXT_PUBLIC_SUPABASE_URL이 포함된 URL을 상대경로로 변환합니다.\n * @param src - 변환할 이미지 소스 URL\n * @returns 상대경로로 변환된 URL 또는 원본 URL\n */\nexport function normalizeImageSrc(src: string): string {\n  if (!src || typeof src !== 'string') {\n    return src;\n  }\n\n  try {\n    const resourceUrl = process.env.NEXT_PUBLIC_STORAGE_URL;\n    \n    // NEXT_PUBLIC_STORAGE_URL이 설정되어 있고, src가 해당 URL로 시작하는 경우\n    if (resourceUrl && src.startsWith(resourceUrl)) {\n      // NEXT_PUBLIC_STORAGE_URL 부분을 제거하여 상대경로로 변환\n      const relativePath = src.replace(resourceUrl, '');\n      \n      // relativePath가 '/'로 시작하지 않는 경우 '/'를 붙이도록 처리\n      if (!relativePath.startsWith('/')) {\n        return `/${relativePath}`;\n      }\n      return relativePath;\n    }\n\n    // NEXT_PUBLIC_RESOURCE_URL이 없거나 해당 URL로 시작하지 않는 경우 원본 반환\n    return src;\n  } catch (error) {\n    console.error('Failed to normalize image src:', error);\n    return src; // 에러 발생 시 원본 URL 반환\n  }\n}\n\n/**\n * Next.js Image 컴포넌트용 src 변환 헬퍼\n * 절대경로를 상대경로로 변환하고 Supabase 이미지 최적화도 적용합니다.\n * @param src - 원본 이미지 소스\n * @param size - 이미지 사이즈 (선택사항)\n * @param quality - 이미지 품질 (선택사항)\n * @returns 최적화된 이미지 URL\n */\nexport function optimizeImageSrc(\n  src: string,\n  size?: ImageSizeKey | number,\n  quality?: number\n): string {\n  // 먼저 상대경로로 변환\n  const normalizedSrc = normalizeImageSrc(src);\n  \n  // Supabase 이미지인 경우 최적화 적용\n  if (size !== undefined && normalizedSrc.includes('/storage/v1/object/')) {\n    return transformSupabaseImageUrl(normalizedSrc, size, quality);\n  }\n  \n  return normalizedSrc;\n}\n\n/**\n * 이미지가 GIF 파일인지 확인\n * @param src - 이미지 소스 URL\n * @returns GIF 파일 여부\n */\nexport function isGifImage(src: string): boolean {\n  if (!src || typeof src !== 'string') {\n    return false;\n  }\n  \n  // URL에서 확장자 확인 (.gif로 끝나는지)\n  const lowerSrc = src.toLowerCase();\n  return lowerSrc.endsWith('.gif') || lowerSrc.includes('.gif?');\n}\n\n/**\n * 이미지가 애니메이션 포맷인지 확인 (GIF, WEBP 애니메이션 등)\n * @param src - 이미지 소스 URL\n * @returns 애니메이션 이미지 여부\n */\nexport function isAnimatedImage(src: string): boolean {\n  if (!src || typeof src !== 'string') {\n    return false;\n  }\n  \n  const lowerSrc = src.toLowerCase();\n  // GIF는 항상 애니메이션일 가능성이 있음\n  // WEBP는 애니메이션을 지원하지만 URL만으로는 판단 불가\n  return isGifImage(src);\n}\n\n/**\n * Next.js Image 컴포넌트에 필요한 props를 자동으로 결정\n * GIF 파일의 경우 unoptimized 속성을 추가\n * @param src - 이미지 소스 URL\n * @returns Image 컴포넌트용 추가 props\n */\nexport function getImageProps(src: string): { unoptimized?: boolean } {\n  // GIF 파일인 경우 unoptimized 설정\n  if (isGifImage(src)) {\n    return { unoptimized: true };\n  }\n  \n  return {};\n}\n","// 임시 타입 정의 (Phase 2에서 적절한 위치로 이동 예정)\ninterface LevelInfo {\n  level: number;\n  required_points: number;\n}\n\n/**\n * 레벨 관련 유틸리티 함수들\n */\nexport class LevelUtil {\n  /**\n   * 현재 포인트를 기반으로 사용자의 실제 레벨을 계산\n   */\n  static calculateUserLevel(currentPoints: number, levelTable: LevelInfo[]): number {\n    if (!levelTable.length) return 0;\n    \n    // 레벨표를 오름차순으로 정렬\n    const sortedLevels = [...levelTable].sort((a, b) => a.level - b.level);\n    \n    let userLevel = 0;\n    for (const level of sortedLevels) {\n      if (currentPoints >= level.required_points) {\n        userLevel = level.level;\n      } else {\n        break;\n      }\n    }\n    \n    return userLevel;\n  }\n\n  /**\n   * 현재 레벨과 다음 레벨 정보를 반환\n   */\n  static getLevelProgress(currentPoints: number, levelTable: LevelInfo[]) {\n    \n    if (!levelTable.length) {\n      return {\n        currentLevel: 0,\n        currentLevelPoints: 0,\n        nextLevel: 1,\n        nextLevelPoints: 0,\n        progressPercentage: 0,\n        pointsToNext: 0,\n      };\n    }\n\n    const sortedLevels = [...levelTable].sort((a, b) => a.level - b.level);\n    const userLevel = this.calculateUserLevel(currentPoints, levelTable);\n    \n    // 현재 레벨 정보 찾기\n    const currentLevelInfo = sortedLevels.find(level => level.level === userLevel);\n    const currentLevelPoints = currentLevelInfo?.required_points || 0;\n    \n    // 다음 레벨 정보 찾기\n    const nextLevelInfo = sortedLevels.find(level => level.level === userLevel + 1);\n    const nextLevel = nextLevelInfo?.level || userLevel;\n    const nextLevelPoints = nextLevelInfo?.required_points || currentLevelPoints;\n    \n    // 진행률 계산\n    let progressPercentage = 0;\n    let pointsToNext = 0;\n    \n    if (nextLevelInfo) {\n      // 현재 레벨에서 다음 레벨까지 필요한 포인트\n      const pointsNeededForNext = nextLevelPoints - currentLevelPoints;\n      // 현재 레벨을 넘어선 포인트\n      const pointsEarnedInCurrentLevel = currentPoints - currentLevelPoints;\n      \n      progressPercentage = pointsNeededForNext > 0 \n        ? Math.min(100, (pointsEarnedInCurrentLevel / pointsNeededForNext) * 100)\n        : 100;\n      \n      pointsToNext = Math.max(0, nextLevelPoints - currentPoints);\n    } else {\n      // 최고 레벨에 도달한 경우\n      progressPercentage = 100;\n      pointsToNext = 0;\n    }\n\n    return {\n      currentLevel: userLevel,\n      currentLevelPoints,\n      nextLevel,\n      nextLevelPoints,\n      progressPercentage: Math.round(progressPercentage),\n      pointsToNext,\n    };\n  }\n  /**\n   * 다음 레벨 정보를 반환 (간단한 형태)\n   */\n  static getNextLevelInfo(currentPoints: number, levelTable: LevelInfo[]) {\n    if (!levelTable.length) {\n      return {\n        nextLevel: 1,\n        requiredPoint: 0,\n        levelUpPercentage: 0,\n        isMaxLevel: true,\n      };\n    }\n    \n\n    const sortedLevels = [...levelTable].sort((a, b) => a.level - b.level);\n    const userLevel = this.calculateUserLevel(currentPoints, levelTable);\n    \n    // 현재 레벨 정보 찾기\n    const currentLevelInfo = sortedLevels.find(level => level.level === userLevel);\n    const currentLevelPoints = currentLevelInfo?.required_points || 0;\n    \n    // 다음 레벨 정보 찾기\n    const nextLevelInfo = sortedLevels.find(level => level.level === userLevel + 1);\n    \n    if (!nextLevelInfo) {\n      // 최고 레벨에 도달한 경우\n      return {\n        nextLevel: userLevel,\n        requiredPoint: 0,\n        levelUpPercent: 100,\n        isMaxLevel: true,\n      };\n    }\n    \n    const nextLevel = nextLevelInfo.level;\n    const nextLevelPoints = nextLevelInfo.required_points;\n    \n    // 다음 레벨까지 필요한 포인트\n    const requiredPoint = Math.max(0, nextLevelPoints - currentPoints);\n    \n    // 현재 레벨에서 다음 레벨까지의 진행률 계산\n    const pointsNeededForNext = nextLevelPoints - currentLevelPoints;\n    const pointsEarnedInCurrentLevel = currentPoints - currentLevelPoints;\n    \n    const levelUpPercent = pointsNeededForNext > 0 \n      ? Math.min(100, Math.round((pointsEarnedInCurrentLevel / pointsNeededForNext) * 100))\n      : 100;\n\n    return {\n      nextLevel,\n      requiredPoint,\n      levelUpPercent,\n      isMaxLevel: false,\n    };\n  }\n\n}","/**\n * 문자열 변환 관련 유틸리티 함수들\n */\n\n/**\n * snake_case 문자열을 camelCase로 변환\n * @param str snake_case 문자열\n * @returns camelCase 문자열\n */\nexport const toCamelCase = (str: string): string => {\n  return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\n};\n\n/**\n * camelCase 문자열을 snake_case로 변환\n * @param str camelCase 문자열\n * @returns snake_case 문자열\n */\nexport const toSnakeCase = (str: string): string => {\n  return str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n};\n\n/**\n * 객체의 키를 snake_case에서 camelCase로 변환\n * @param obj snake_case 키를 가진 객체\n * @returns camelCase 키를 가진 객체\n */\nexport const keysToCamelCase = <T extends Record<string, any>>(\n  obj: T\n): { [K in keyof T as K extends string ? CamelCase<K> : K]: T[K] } => {\n  if (obj === null || obj === undefined) {\n    return obj as any;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(item => \n      typeof item === 'object' && item !== null ? keysToCamelCase(item) : item\n    ) as any;\n  }\n\n  if (typeof obj === 'object') {\n    const result: Record<string, any> = {};\n    \n    for (const [key, value] of Object.entries(obj)) {\n      const camelKey = toCamelCase(key);\n      \n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        result[camelKey] = keysToCamelCase(value);\n      } else if (Array.isArray(value)) {\n        result[camelKey] = value.map(item =>\n          typeof item === 'object' && item !== null ? keysToCamelCase(item) : item\n        );\n      } else {\n        result[camelKey] = value;\n      }\n    }\n    \n    return result as any;\n  }\n\n  return obj as any;\n};\n\n/**\n * 객체의 키를 camelCase에서 snake_case로 변환\n * @param obj camelCase 키를 가진 객체\n * @returns snake_case 키를 가진 객체\n */\nexport const keysToSnakeCase = <T extends Record<string, any>>(\n  obj: T\n): { [K in keyof T as K extends string ? SnakeCase<K> : K]: T[K] } => {\n  if (obj === null || obj === undefined) {\n    return obj as any;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(item => \n      typeof item === 'object' && item !== null ? keysToSnakeCase(item) : item\n    ) as any;\n  }\n\n  if (typeof obj === 'object') {\n    const result: Record<string, any> = {};\n    \n    for (const [key, value] of Object.entries(obj)) {\n      const snakeKey = toSnakeCase(key);\n      \n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        result[snakeKey] = keysToSnakeCase(value);\n      } else if (Array.isArray(value)) {\n        result[snakeKey] = value.map(item =>\n          typeof item === 'object' && item !== null ? keysToSnakeCase(item) : item\n        );\n      } else {\n        result[snakeKey] = value;\n      }\n    }\n    \n    return result as any;\n  }\n\n  return obj as any;\n};\n\n// 타입 헬퍼들\ntype CamelCase<S extends string> = S extends `${infer P1}_${infer P2}${infer P3}`\n  ? `${P1}${Uppercase<P2>}${CamelCase<P3>}`\n  : S;\n\ntype SnakeCase<S extends string> = S extends `${infer C}${infer T}`\n  ? C extends Uppercase<C>\n    ? `_${Lowercase<C>}${SnakeCase<T>}`\n    : `${C}${SnakeCase<T>}`\n  : S; ","/**\n * URL 파라미터를 안전하게 추가/수정하는 유틸리티 함수\n */\nexport const addUrlParams = (\n  baseUrl: string, \n  params: Record<string, string>\n): string => {\n  try {\n    // 절대 URL인지 상대 URL인지 확인\n    const url = baseUrl.startsWith('http') \n      ? new URL(baseUrl)\n      : new URL(baseUrl, window.location.origin);\n    \n    const searchParams = new URLSearchParams(url.search);\n    \n    // 새로운 파라미터들을 추가/업데이트\n    Object.entries(params).forEach(([key, value]) => {\n      searchParams.set(key, value);\n    });\n    \n    // pathname과 새로운 search params를 결합\n    return `${url.pathname}?${searchParams.toString()}`;\n  } catch (error) {\n    console.error('URL 파싱 오류:', error);\n    throw new Error('유효하지 않은 URL입니다.');\n  }\n};\n\n/**\n * sessionStorage에서 이전 페이지 URL을 가져와서 파라미터를 추가한 후 반환\n */\nexport const getPreviousUrlWithParams = (\n  storageKey: string,\n  params: Record<string, string>,\n  fallbackUrl: string = '/'\n): string => {\n  const previousUrl = sessionStorage.getItem(storageKey);\n  \n  if (!previousUrl) {\n    return fallbackUrl;\n  }\n  \n  try {\n    return addUrlParams(previousUrl, params);\n  } catch (error) {\n    console.error('이전 URL 처리 오류:', error);\n    return fallbackUrl;\n  }\n}; ","/**\n * JWT 토큰 디코딩 및 사용자 정보 추출 유틸리티\n */\n\nexport interface JWTUserPayload {\n  aal: string;\n  amr: Array<{ method: string; timestamp: number }>;\n  app_metadata: {\n    provider: string;\n    providers: string[];\n    [key: string]: any; // 추가 앱 메타데이터\n  };\n  aud: string;\n  created_at: string;\n  email: string;\n  exp: number;\n  iat: number;\n  is_anonymous: boolean;\n  phone: string;\n  role: string;\n  session_id: string;\n  sub: string; // auth_user_id (UUID)\n  user_metadata: {\n    email?: string;\n    email_verified?: boolean;\n    login_id?: string;\n    nickname?: string;\n    phone_verified?: boolean;\n    role?: string;\n    sub?: string;\n    [key: string]: any; // 추가 사용자 메타데이터\n  };\n  \n  // 애플리케이션별 확장 필드 (실제로 JWT에 없을 수 있음)\n  user_id?: number; // users 테이블의 실제 ID\n  permission_type?: string;\n  is_admin?: boolean;\n}\n\n/**\n * Base64 URL 디코딩\n */\nfunction base64UrlDecode(str: string): string {\n  // Base64 URL을 일반 Base64로 변환\n  str = str.replace(/-/g, '+').replace(/_/g, '/');\n  \n  // 패딩 추가\n  while (str.length % 4) {\n    str += '=';\n  }\n  \n  // Base64 디코딩 후 UTF-8 문자열로 변환\n  return decodeURIComponent(\n    atob(str)\n      .split('')\n      .map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n      .join('')\n  );\n}\n\n/**\n * JWT 토큰에서 페이로드 추출\n * @param token JWT 액세스 토큰\n * @returns 디코딩된 사용자 정보 또는 null\n */\nexport function decodeJWTPayload(token: string): JWTUserPayload | null {\n  try {\n    // JWT는 header.payload.signature 형태\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n      console.error('Invalid JWT format');\n      return null;\n    }\n    \n    // 페이로드 부분 디코딩\n    const payload = base64UrlDecode(parts[1]);\n    return JSON.parse(payload) as JWTUserPayload;\n  } catch (error) {\n    console.error('JWT 디코딩 실패:', error);\n    return null;\n  }\n}\n\n/**\n * 현재 세션에서 사용자 정보 추출\n * @returns 사용자 정보 또는 null\n */\nexport async function getCurrentUserFromToken(): Promise<JWTUserPayload | null> {\n  try {\n    const { clientSupabase } = await import(\"../config/Supabase/client\");\n    const { data: { session } } = await clientSupabase.auth.getSession();\n    \n    if (!session?.access_token) {\n      return null;\n    }\n    \n    return decodeJWTPayload(session.access_token);\n  } catch (error) {\n    console.error('토큰에서 사용자 정보 추출 실패:', error);\n    return null;\n  }\n}\n\n/**\n * JWT 토큰이 만료되었는지 확인\n * @param payload JWT 페이로드\n * @returns 만료 여부\n */\nexport function isTokenExpired(payload: JWTUserPayload): boolean {\n  const now = Math.floor(Date.now() / 1000);\n  return payload.exp <= now;\n}\n\n/**\n * 토큰 만료까지 남은 시간 (초)\n * @param payload JWT 페이로드\n * @returns 남은 시간 (초), 음수면 이미 만료\n */\nexport function getTokenTimeToExpiry(payload: JWTUserPayload): number {\n  const now = Math.floor(Date.now() / 1000);\n  return payload.exp - now;\n}\n\n/**\n * 만료된 토큰을 쿠키에서 자동으로 제거\n * @param cookieName 쿠키 이름 (기본값: 'sb-access-token')\n */\nexport function removeExpiredTokenFromCookie(cookieName: string = 'sb-access-token'): void {\n  if (typeof window === 'undefined') return;\n\n  try {\n    // 쿠키에서 토큰 읽기\n    const cookieString = document.cookie\n      .split('; ')\n      .find(row => row.startsWith(`${cookieName}=`))\n      ?.split('=')[1];\n\n    if (!cookieString) return;\n\n    // 토큰 파싱 및 검증\n    const decodedCookie = decodeURIComponent(cookieString);\n    const sessionData = JSON.parse(decodedCookie);\n    const accessToken = sessionData?.access_token;\n\n    if (!accessToken) return;\n\n    // JWT 토큰 디코딩 및 만료 확인\n    const payload = decodeJWTPayload(accessToken);\n    if (payload && isTokenExpired(payload)) {\n      console.log('🗑️ 만료된 토큰 감지, 쿠키에서 제거 중...');\n      \n      // 만료된 토큰 제거\n      document.cookie = `${cookieName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax`;\n      \n      // 추가 토큰 관련 쿠키들도 정리\n      const relatedCookies = ['supabase-auth-token', 'sb-auth-token', 'auth-token'];\n      relatedCookies.forEach(name => {\n        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax`;\n      });\n\n      console.log('✅ 만료된 토큰 쿠키 제거 완료');\n    }\n  } catch (error) {\n    console.error('❌ 만료된 토큰 제거 중 오류:', error);\n  }\n}\n\n/**\n * 토큰 유효성을 검증하고 만료된 경우 자동으로 정리\n * @returns 유효한 토큰이 있으면 페이로드 반환, 없으면 null\n */\nexport async function validateAndCleanToken(): Promise<JWTUserPayload | null> {\n  try {\n    const { clientSupabase } = await import(\"../config/Supabase/client\");\n    const { data: { session } } = await clientSupabase.auth.getSession();\n    \n    if (!session?.access_token) {\n      // 세션이 없는 경우 쿠키 정리\n      removeExpiredTokenFromCookie();\n      return null;\n    }\n    \n    const payload = decodeJWTPayload(session.access_token);\n    if (!payload) {\n      // 토큰 디코딩 실패 시 쿠키 정리\n      removeExpiredTokenFromCookie();\n      return null;\n    }\n    \n    if (isTokenExpired(payload)) {\n      // 만료된 토큰 정리\n      removeExpiredTokenFromCookie();\n      \n      // Supabase 세션도 정리\n      await clientSupabase.auth.signOut();\n      return null;\n    }\n    \n    return payload;\n  } catch (error) {\n    console.error('토큰 검증 및 정리 실패:', error);\n    removeExpiredTokenFromCookie(); // 오류 시에도 쿠키 정리\n    return null;\n  }\n}\n\n/**\n * 토큰 만료 5분 전 여부 확인 (갱신 시점 판단용)\n * @param payload JWT 페이로드\n * @returns true면 갱신이 필요한 시점\n */\nexport function shouldRefreshToken(payload: JWTUserPayload): boolean {\n  const timeToExpiry = getTokenTimeToExpiry(payload);\n  return timeToExpiry <= 300; // 5분 이하 남으면 갱신\n} ","// 업로드 에러 타입 정의\nexport enum UploadErrorType {\n  NETWORK_ERROR = 'network_error',\n  FILE_TOO_LARGE = 'file_too_large',\n  UNSUPPORTED_FORMAT = 'unsupported_format',\n  PERMISSION_DENIED = 'permission_denied',\n  SERVER_ERROR = 'server_error',\n  UPLOAD_TIMEOUT = 'upload_timeout',\n  QUOTA_EXCEEDED = 'quota_exceeded',\n  INVALID_POST = 'invalid_post',\n}\n\n// 에러 메시지 매핑\nconst ERROR_MESSAGES: Record<UploadErrorType, string> = {\n  [UploadErrorType.FILE_TOO_LARGE]: '파일 크기가 너무 큽니다. 이미지는 10MB, 비디오는 100MB 이하로 업로드해주세요.',\n  [UploadErrorType.UNSUPPORTED_FORMAT]: '지원하지 않는 파일 형식입니다. JPG, PNG, GIF, WebP, MP4, AVI, MOV 파일만 업로드 가능합니다.',\n  [UploadErrorType.PERMISSION_DENIED]: '파일 업로드 권한이 없습니다. 로그인 상태를 확인해주세요.',\n  [UploadErrorType.NETWORK_ERROR]: '네트워크 오류가 발생했습니다. 인터넷 연결을 확인하고 다시 시도해주세요.',\n  [UploadErrorType.SERVER_ERROR]: '서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.',\n  [UploadErrorType.UPLOAD_TIMEOUT]: '업로드 시간이 초과되었습니다. 파일 크기를 확인하거나 다시 시도해주세요.',\n  [UploadErrorType.QUOTA_EXCEEDED]: '업로드 할당량을 초과했습니다. 불필요한 파일을 삭제하거나 관리자에게 문의하세요.',\n  [UploadErrorType.INVALID_POST]: '유효하지 않은 게시글입니다. 게시글을 다시 생성해주세요.',\n};\n\n// 에러 분석 및 사용자 친화적 메시지 생성\nexport function getUploadErrorMessage(error: any): string {\n  const errorMessage = error?.message?.toLowerCase() || '';\n  const errorResponse = error?.response?.data;\n\n  // API 에러 응답에서 구체적인 에러 코드 확인\n  if (errorResponse?.error?.code) {\n    const errorCode = errorResponse.error.code as UploadErrorType;\n    if (ERROR_MESSAGES[errorCode]) {\n      return ERROR_MESSAGES[errorCode];\n    }\n  }\n\n  // 에러 메시지 키워드 기반 분석\n  if (errorMessage.includes('file too large') || errorMessage.includes('413')) {\n    return ERROR_MESSAGES[UploadErrorType.FILE_TOO_LARGE];\n  }\n\n  if (errorMessage.includes('unsupported') || \n      errorMessage.includes('invalid format') || \n      errorMessage.includes('415')) {\n    return ERROR_MESSAGES[UploadErrorType.UNSUPPORTED_FORMAT];\n  }\n\n  if (errorMessage.includes('permission') || \n      errorMessage.includes('unauthorized') || \n      errorMessage.includes('401') || \n      errorMessage.includes('403')) {\n    return ERROR_MESSAGES[UploadErrorType.PERMISSION_DENIED];\n  }\n\n  if (errorMessage.includes('network') || \n      errorMessage.includes('fetch') || \n      errorMessage.includes('timeout') ||\n      error?.code === 'NETWORK_ERROR') {\n    return ERROR_MESSAGES[UploadErrorType.NETWORK_ERROR];\n  }\n\n  if (errorMessage.includes('quota') || \n      errorMessage.includes('storage full') ||\n      errorMessage.includes('429')) {\n    return ERROR_MESSAGES[UploadErrorType.QUOTA_EXCEEDED];\n  }\n\n  if (errorMessage.includes('post not found') || \n      errorMessage.includes('invalid post') ||\n      errorMessage.includes('404')) {\n    return ERROR_MESSAGES[UploadErrorType.INVALID_POST];\n  }\n\n  // 기본 에러 메시지\n  return '파일 업로드 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.';\n}\n\n// 재시도 가능한 에러인지 확인\nexport function isRetryableError(error: any): boolean {\n  const errorMessage = error?.message?.toLowerCase() || '';\n  const errorCode = error?.response?.data?.error?.code;\n\n  // 재시도 불가능한 에러들\n  const nonRetryableErrors = [\n    UploadErrorType.FILE_TOO_LARGE,\n    UploadErrorType.UNSUPPORTED_FORMAT,\n    UploadErrorType.PERMISSION_DENIED,\n    UploadErrorType.QUOTA_EXCEEDED,\n    UploadErrorType.INVALID_POST,\n  ];\n\n  if (nonRetryableErrors.includes(errorCode)) {\n    return false;\n  }\n\n  // 키워드 기반 재시도 불가능 에러 체크\n  if (errorMessage.includes('file too large') ||\n      errorMessage.includes('unsupported') ||\n      errorMessage.includes('invalid format') ||\n      errorMessage.includes('permission') ||\n      errorMessage.includes('unauthorized') ||\n      errorMessage.includes('quota')) {\n    return false;\n  }\n\n  // 그 외는 모두 재시도 가능\n  return true;\n}\n\n// 업로드 에러 로깅\nexport function logUploadError(\n  error: any, \n  context: {\n    postId?: number;\n    fileName?: string;\n    fileSize?: number;\n    fileType?: string;\n    action?: 'upload' | 'retry' | 'progress' | 'cancel';\n  }\n): void {\n  const errorInfo = {\n    message: error?.message || 'Unknown error',\n    stack: error?.stack,\n    response: error?.response?.data,\n    context,\n    timestamp: new Date().toISOString(),\n    userAgent: navigator.userAgent,\n  };\n\n  // 개발 환경에서는 콘솔에 상세 출력\n  if (process.env.NODE_ENV === 'development') {\n    console.group('🚨 Upload Error');\n    console.error('Error Details:', errorInfo);\n    console.groupEnd();\n  }\n\n  // 프로덕션에서는 모니터링 서비스로 전송\n  if (process.env.NODE_ENV === 'production') {\n    // 예: Sentry, LogRocket 등으로 전송\n    // window.Sentry?.captureException(error, { extra: errorInfo });\n    console.error('Upload Error:', errorInfo);\n  }\n}\n\n// 업로드 진행 상황 추적을 위한 인터페이스\nexport interface UploadMetrics {\n  startTime: number;\n  totalFiles: number;\n  completedFiles: number;\n  failedFiles: number;\n  totalBytes: number;\n  uploadedBytes: number;\n  retryCount: number;\n}\n\n// 업로드 메트릭스 계산\nexport function calculateUploadMetrics(files: any[], startTime: number): UploadMetrics {\n  const totalFiles = files.length;\n  const completedFiles = files.filter(f => f.status === 'completed').length;\n  const failedFiles = files.filter(f => f.status === 'failed').length;\n  const totalBytes = files.reduce((sum, f) => sum + (f.fileSize || 0), 0);\n  const uploadedBytes = files.reduce((sum, f) => {\n    return sum + (f.fileSize || 0) * ((f.progress || 0) / 100);\n  }, 0);\n\n  return {\n    startTime,\n    totalFiles,\n    completedFiles,\n    failedFiles,\n    totalBytes,\n    uploadedBytes,\n    retryCount: 0, // 별도 관리 필요\n  };\n}\n\n// 예상 완료 시간 계산\nexport function estimateCompletionTime(metrics: UploadMetrics): number | null {\n  const elapsed = Date.now() - metrics.startTime;\n  const progress = metrics.uploadedBytes / metrics.totalBytes;\n  \n  if (progress === 0) return null;\n  \n  const totalEstimated = elapsed / progress;\n  const remaining = totalEstimated - elapsed;\n  \n  return Math.max(0, remaining);\n}\n\n// 업로드 속도 계산 (MB/s)\nexport function calculateUploadSpeed(metrics: UploadMetrics): number {\n  const elapsed = (Date.now() - metrics.startTime) / 1000; // 초 단위\n  const uploadedMB = metrics.uploadedBytes / (1024 * 1024);\n  \n  return elapsed > 0 ? uploadedMB / elapsed : 0;\n}","/**\n * @semicolon/community-core initialization\n * \n * This module provides package initialization functionality\n * to configure the core package for optimal usage.\n */\n\nexport interface CommunityPackageConfig {\n  /** API base URL for backend services */\n  apiUrl?: string;\n  \n  /** Supabase configuration */\n  supabase?: {\n    url?: string;\n    anonKey?: string;\n  };\n  \n  /** Default locale for formatting */\n  locale?: string;\n  \n  /** Enable development mode features */\n  development?: boolean;\n}\n\nlet globalConfig: CommunityPackageConfig = {};\n\n/**\n * Initialize @semicolon/community-core package with configuration\n * \n * @example\n * ```typescript\n * import { initializeCommunityCore } from '@semicolon/community-core';\n * \n * initializeCommunityCore({\n *   apiUrl: process.env.REACT_APP_API_URL,\n *   supabase: {\n *     url: process.env.REACT_APP_SUPABASE_URL,\n *     anonKey: process.env.REACT_APP_SUPABASE_ANON_KEY,\n *   },\n *   locale: 'ko-KR',\n *   development: process.env.NODE_ENV === 'development'\n * });\n * ```\n */\nexport function initializeCommunityCore(config: CommunityPackageConfig): void {\n  globalConfig = { ...globalConfig, ...config };\n  \n  if (config.development) {\n    console.log('🚀 @semicolon/community-core initialized with config:', globalConfig);\n  }\n}\n\n/**\n * Get current package configuration\n */\nexport function getPackageConfig(): Readonly<CommunityPackageConfig> {\n  return Object.freeze({ ...globalConfig });\n}\n\n/**\n * Get specific config value with fallback\n */\nexport function getConfigValue<T>(key: keyof CommunityPackageConfig, fallback?: T): T {\n  return (globalConfig[key] as T) ?? fallback;\n}","/**\r\n * 디자인 시스템 색상 토큰\r\n * @description 기본 색상 팔레트 및 시맨틱 색상 정의\r\n */\r\n\r\nimport type { ColorPalette, SemanticColors, SystemColors } from '../../types/theme';\r\n\r\n// ========================================\r\n// 기본 색상 팔레트\r\n// ========================================\r\n\r\nexport const defaultColorPalettes = {\r\n  slate: {\r\n    50: '#f8fafc',\r\n    100: '#f1f5f9',\r\n    200: '#e2e8f0',\r\n    300: '#cbd5e1',\r\n    400: '#94a3b8',\r\n    500: '#64748b',\r\n    600: '#475569',\r\n    700: '#334155',\r\n    800: '#1e293b',\r\n    900: '#0f172a',\r\n    950: '#020617',\r\n  } as ColorPalette,\r\n\r\n  blue: {\r\n    50: '#eff6ff',\r\n    100: '#dbeafe',\r\n    200: '#bfdbfe',\r\n    300: '#93c5fd',\r\n    400: '#60a5fa',\r\n    500: '#3b82f6',\r\n    600: '#2563eb',\r\n    700: '#1d4ed8',\r\n    800: '#1e40af',\r\n    900: '#1e3a8a',\r\n    950: '#172554',\r\n  } as ColorPalette,\r\n\r\n  emerald: {\r\n    50: '#ecfdf5',\r\n    100: '#d1fae5',\r\n    200: '#a7f3d0',\r\n    300: '#6ee7b7',\r\n    400: '#34d399',\r\n    500: '#10b981',\r\n    600: '#059669',\r\n    700: '#047857',\r\n    800: '#065f46',\r\n    900: '#064e3b',\r\n    950: '#022c22',\r\n  } as ColorPalette,\r\n\r\n  amber: {\r\n    50: '#fffbeb',\r\n    100: '#fef3c7',\r\n    200: '#fde68a',\r\n    300: '#fcd34d',\r\n    400: '#fbbf24',\r\n    500: '#f59e0b',\r\n    600: '#d97706',\r\n    700: '#b45309',\r\n    800: '#92400e',\r\n    900: '#78350f',\r\n    950: '#451a03',\r\n  } as ColorPalette,\r\n\r\n  red: {\r\n    50: '#fef2f2',\r\n    100: '#fee2e2',\r\n    200: '#fecaca',\r\n    300: '#fca5a5',\r\n    400: '#f87171',\r\n    500: '#ef4444',\r\n    600: '#dc2626',\r\n    700: '#b91c1c',\r\n    800: '#991b1b',\r\n    900: '#7f1d1d',\r\n    950: '#450a0a',\r\n  } as ColorPalette,\r\n\r\n  sky: {\r\n    50: '#f0f9ff',\r\n    100: '#e0f2fe',\r\n    200: '#bae6fd',\r\n    300: '#7dd3fc',\r\n    400: '#38bdf8',\r\n    500: '#0ea5e9',\r\n    600: '#0284c7',\r\n    700: '#0369a1',\r\n    800: '#075985',\r\n    900: '#0c4a6e',\r\n    950: '#082f49',\r\n  } as ColorPalette,\r\n\r\n  gray: {\r\n    50: '#f9fafb',\r\n    100: '#f3f4f6',\r\n    200: '#e5e7eb',\r\n    300: '#d1d5db',\r\n    400: '#9ca3af',\r\n    500: '#6b7280',\r\n    600: '#4b5563',\r\n    700: '#374151',\r\n    800: '#1f2937',\r\n    900: '#111827',\r\n    950: '#030712',\r\n  } as ColorPalette,\r\n};\r\n\r\n// ========================================\r\n// 기본 시맨틱 색상\r\n// ========================================\r\n\r\nexport const defaultSemanticColors: SemanticColors = {\r\n  primary: defaultColorPalettes.blue,\r\n  secondary: defaultColorPalettes.slate,\r\n  success: defaultColorPalettes.emerald,\r\n  warning: defaultColorPalettes.amber,\r\n  error: defaultColorPalettes.red,\r\n  info: defaultColorPalettes.sky,\r\n  gray: defaultColorPalettes.gray,\r\n};\r\n\r\n// ========================================\r\n// 라이트 모드 시스템 색상\r\n// ========================================\r\n\r\nexport const lightSystemColors: SystemColors = {\r\n  background: {\r\n    primary: defaultColorPalettes.gray[50],\r\n    secondary: '#ffffff',\r\n    tertiary: defaultColorPalettes.gray[100],\r\n    inverse: defaultColorPalettes.gray[900],\r\n    overlay: 'rgba(0, 0, 0, 0.5)',\r\n  },\r\n  surface: {\r\n    primary: '#ffffff',\r\n    secondary: defaultColorPalettes.gray[50],\r\n    tertiary: defaultColorPalettes.gray[100],\r\n    inverse: defaultColorPalettes.gray[900],\r\n    elevated: '#ffffff',\r\n  },\r\n  border: {\r\n    primary: defaultColorPalettes.gray[200],\r\n    secondary: defaultColorPalettes.gray[300],\r\n    tertiary: defaultColorPalettes.gray[400],\r\n    inverse: defaultColorPalettes.gray[700],\r\n    focus: defaultColorPalettes.blue[500],\r\n  },\r\n  text: {\r\n    primary: defaultColorPalettes.gray[900],\r\n    secondary: defaultColorPalettes.gray[600],\r\n    tertiary: defaultColorPalettes.gray[500],\r\n    inverse: '#ffffff',\r\n    disabled: defaultColorPalettes.gray[400],\r\n    link: defaultColorPalettes.blue[600],\r\n    linkHover: defaultColorPalettes.blue[700],\r\n  },\r\n};\r\n\r\n// ========================================\r\n// 다크 모드 시스템 색상\r\n// ========================================\r\n\r\nexport const darkSystemColors: SystemColors = {\r\n  background: {\r\n    primary: defaultColorPalettes.gray[950],\r\n    secondary: defaultColorPalettes.gray[900],\r\n    tertiary: defaultColorPalettes.gray[800],\r\n    inverse: defaultColorPalettes.gray[50],\r\n    overlay: 'rgba(0, 0, 0, 0.7)',\r\n  },\r\n  surface: {\r\n    primary: defaultColorPalettes.gray[900],\r\n    secondary: defaultColorPalettes.gray[800],\r\n    tertiary: defaultColorPalettes.gray[700],\r\n    inverse: defaultColorPalettes.gray[50],\r\n    elevated: defaultColorPalettes.gray[800],\r\n  },\r\n  border: {\r\n    primary: defaultColorPalettes.gray[700],\r\n    secondary: defaultColorPalettes.gray[600],\r\n    tertiary: defaultColorPalettes.gray[500],\r\n    inverse: defaultColorPalettes.gray[300],\r\n    focus: defaultColorPalettes.blue[400],\r\n  },\r\n  text: {\r\n    primary: defaultColorPalettes.gray[50],\r\n    secondary: defaultColorPalettes.gray[300],\r\n    tertiary: defaultColorPalettes.gray[400],\r\n    inverse: defaultColorPalettes.gray[900],\r\n    disabled: defaultColorPalettes.gray[600],\r\n    link: defaultColorPalettes.blue[400],\r\n    linkHover: defaultColorPalettes.blue[300],\r\n  },\r\n};","/**\r\n * 디자인 시스템 타이포그래피 토큰\r\n * @description 기본 폰트 패밀리, 크기, 굵기, 행간 등 정의\r\n */\r\n\r\nimport type { Typography } from '../../types/theme';\r\n\r\n// ========================================\r\n// 기본 타이포그래피 토큰\r\n// ========================================\r\n\r\nexport const defaultTypography: Typography = {\r\n  fontFamily: {\r\n    sans: [\r\n      'ui-sans-serif',\r\n      'system-ui',\r\n      '-apple-system',\r\n      'BlinkMacSystemFont',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      '\"Noto Sans\"',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n      '\"Noto Color Emoji\"',\r\n    ],\r\n    serif: [\r\n      'ui-serif',\r\n      'Georgia',\r\n      'Cambria',\r\n      '\"Times New Roman\"',\r\n      'Times',\r\n      'serif',\r\n    ],\r\n    mono: [\r\n      'ui-monospace',\r\n      'SFMono-Regular',\r\n      '\"SF Mono\"',\r\n      'Consolas',\r\n      '\"Liberation Mono\"',\r\n      'Menlo',\r\n      'monospace',\r\n    ],\r\n  },\r\n  fontSize: {\r\n    xs: '0.75rem', // 12px\r\n    sm: '0.875rem', // 14px\r\n    base: '1rem', // 16px\r\n    lg: '1.125rem', // 18px\r\n    xl: '1.25rem', // 20px\r\n    '2xl': '1.5rem', // 24px\r\n    '3xl': '1.875rem', // 30px\r\n    '4xl': '2.25rem', // 36px\r\n    '5xl': '3rem', // 48px\r\n    '6xl': '3.75rem', // 60px\r\n  },\r\n  fontWeight: {\r\n    thin: 100,\r\n    extralight: 200,\r\n    light: 300,\r\n    normal: 400,\r\n    medium: 500,\r\n    semibold: 600,\r\n    bold: 700,\r\n    extrabold: 800,\r\n    black: 900,\r\n  },\r\n  lineHeight: {\r\n    none: 1,\r\n    tight: 1.25,\r\n    snug: 1.375,\r\n    normal: 1.5,\r\n    relaxed: 1.625,\r\n    loose: 2,\r\n  },\r\n  letterSpacing: {\r\n    tighter: '-0.05em',\r\n    tight: '-0.025em',\r\n    normal: '0em',\r\n    wide: '0.025em',\r\n    wider: '0.05em',\r\n    widest: '0.1em',\r\n  },\r\n};\r\n\r\n// ========================================\r\n// 한글 최적화 타이포그래피 (한국어 프로젝트용)\r\n// ========================================\r\n\r\nexport const koreanOptimizedTypography: Typography = {\r\n  ...defaultTypography,\r\n  fontFamily: {\r\n    sans: [\r\n      'ui-sans-serif',\r\n      'system-ui',\r\n      '-apple-system',\r\n      'BlinkMacSystemFont',\r\n      '\"Malgun Gothic\"',\r\n      '\"맑은 고딕\"',\r\n      '\"Apple SD Gothic Neo\"',\r\n      '\"Noto Sans KR\"',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      'sans-serif',\r\n    ],\r\n    serif: [\r\n      '\"Noto Serif KR\"',\r\n      'ui-serif',\r\n      'Georgia',\r\n      'serif',\r\n    ],\r\n    mono: [\r\n      '\"D2Coding\"',\r\n      '\"Consolas\"',\r\n      'ui-monospace',\r\n      'SFMono-Regular',\r\n      'monospace',\r\n    ],\r\n  },\r\n  // 한글에 최적화된 line-height\r\n  lineHeight: {\r\n    none: 1,\r\n    tight: 1.3,\r\n    snug: 1.4,\r\n    normal: 1.6,\r\n    relaxed: 1.7,\r\n    loose: 2,\r\n  },\r\n};","/**\r\n * 디자인 시스템 간격 및 크기 토큰\r\n * @description 기본 spacing, border radius, shadow 등 정의\r\n */\r\n\r\nimport type { Spacing, BorderRadius, BoxShadow, Animation, ZIndex, Breakpoints } from '../../types/theme';\r\n\r\n// ========================================\r\n// 기본 간격 시스템 (rem 기반)\r\n// ========================================\r\n\r\nexport const defaultSpacing: Spacing = {\r\n  px: '1px',\r\n  0: '0px',\r\n  0.5: '0.125rem', // 2px\r\n  1: '0.25rem', // 4px\r\n  1.5: '0.375rem', // 6px\r\n  2: '0.5rem', // 8px\r\n  2.5: '0.625rem', // 10px\r\n  3: '0.75rem', // 12px\r\n  3.5: '0.875rem', // 14px\r\n  4: '1rem', // 16px\r\n  5: '1.25rem', // 20px\r\n  6: '1.5rem', // 24px\r\n  7: '1.75rem', // 28px\r\n  8: '2rem', // 32px\r\n  9: '2.25rem', // 36px\r\n  10: '2.5rem', // 40px\r\n  11: '2.75rem', // 44px\r\n  12: '3rem', // 48px\r\n  14: '3.5rem', // 56px\r\n  16: '4rem', // 64px\r\n  20: '5rem', // 80px\r\n  24: '6rem', // 96px\r\n  28: '7rem', // 112px\r\n  32: '8rem', // 128px\r\n  36: '9rem', // 144px\r\n  40: '10rem', // 160px\r\n  44: '11rem', // 176px\r\n  48: '12rem', // 192px\r\n  52: '13rem', // 208px\r\n  56: '14rem', // 224px\r\n  60: '15rem', // 240px\r\n  64: '16rem', // 256px\r\n  72: '18rem', // 288px\r\n  80: '20rem', // 320px\r\n  96: '24rem', // 384px\r\n};\r\n\r\n// ========================================\r\n// 모서리 반경 시스템\r\n// ========================================\r\n\r\nexport const defaultBorderRadius: BorderRadius = {\r\n  none: '0px',\r\n  sm: '0.125rem', // 2px\r\n  base: '0.25rem', // 4px\r\n  md: '0.375rem', // 6px\r\n  lg: '0.5rem', // 8px\r\n  xl: '0.75rem', // 12px\r\n  '2xl': '1rem', // 16px\r\n  '3xl': '1.5rem', // 24px\r\n  full: '9999px',\r\n};\r\n\r\n// ========================================\r\n// 그림자 시스템\r\n// ========================================\r\n\r\nexport const defaultBoxShadow: BoxShadow = {\r\n  sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)',\r\n  base: '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',\r\n  md: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',\r\n  lg: '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)',\r\n  xl: '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)',\r\n  '2xl': '0 25px 50px -12px rgb(0 0 0 / 0.25)',\r\n  inner: 'inset 0 2px 4px 0 rgb(0 0 0 / 0.05)',\r\n  none: '0 0 #0000',\r\n};\r\n\r\n// ========================================\r\n// 애니메이션 시스템\r\n// ========================================\r\n\r\nexport const defaultAnimation: Animation = {\r\n  duration: {\r\n    75: '75ms',\r\n    100: '100ms',\r\n    150: '150ms',\r\n    200: '200ms',\r\n    300: '300ms',\r\n    500: '500ms',\r\n    700: '700ms',\r\n    1000: '1000ms',\r\n  },\r\n  timingFunction: {\r\n    linear: 'linear',\r\n    in: 'cubic-bezier(0.4, 0, 1, 1)',\r\n    out: 'cubic-bezier(0, 0, 0.2, 1)',\r\n    'in-out': 'cubic-bezier(0.4, 0, 0.2, 1)',\r\n  },\r\n};\r\n\r\n// ========================================\r\n// Z-Index 시스템\r\n// ========================================\r\n\r\nexport const defaultZIndex: ZIndex = {\r\n  auto: 'auto',\r\n  0: 0,\r\n  10: 10,\r\n  20: 20,\r\n  30: 30,\r\n  40: 40,\r\n  50: 50,\r\n  dropdown: 1000,\r\n  sticky: 1020,\r\n  fixed: 1030,\r\n  modal: 1040,\r\n  popover: 1050,\r\n  tooltip: 1060,\r\n  toast: 1070,\r\n};\r\n\r\n// ========================================\r\n// 반응형 브레이크포인트\r\n// ========================================\r\n\r\nexport const defaultBreakpoints: Breakpoints = {\r\n  sm: '640px',\r\n  md: '768px',\r\n  lg: '1024px',\r\n  xl: '1280px',\r\n  '2xl': '1536px',\r\n};","/**\r\n * 디자인 시스템 컴포넌트 토큰\r\n * @description 각 컴포넌트별 기본 스타일 토큰 정의\r\n */\r\n\r\nimport type { ComponentTokens } from '../../types/theme';\r\n\r\n// ========================================\r\n// 컴포넌트별 디자인 토큰\r\n// ========================================\r\n\r\nexport const defaultComponentTokens: ComponentTokens = {\r\n  button: {\r\n    borderRadius: 'md',\r\n    fontSize: {\r\n      xs: 'xs',\r\n      sm: 'sm',\r\n      base: 'base',\r\n      lg: 'lg',\r\n    },\r\n    padding: {\r\n      xs: '0.375rem 0.75rem', // py-1.5 px-3\r\n      sm: '0.5rem 1rem', // py-2 px-4\r\n      base: '0.625rem 1.25rem', // py-2.5 px-5\r\n      lg: '0.75rem 1.5rem', // py-3 px-6\r\n    },\r\n    height: {\r\n      xs: '1.75rem', // h-7 (28px)\r\n      sm: '2.25rem', // h-9 (36px)\r\n      base: '2.5rem', // h-10 (40px)\r\n      lg: '3rem', // h-12 (48px)\r\n    },\r\n  },\r\n  input: {\r\n    borderRadius: 'md',\r\n    fontSize: 'base',\r\n    padding: '0.625rem 0.75rem', // py-2.5 px-3\r\n    height: '2.5rem', // h-10 (40px)\r\n  },\r\n  badge: {\r\n    borderRadius: 'base',\r\n    fontSize: {\r\n      xs: 'xs',\r\n      sm: 'xs',\r\n      base: 'sm',\r\n    },\r\n    padding: {\r\n      xs: '0.125rem 0.375rem', // py-0.5 px-1.5\r\n      sm: '0.25rem 0.5rem', // py-1 px-2\r\n      base: '0.375rem 0.75rem', // py-1.5 px-3\r\n    },\r\n  },\r\n  avatar: {\r\n    borderRadius: {\r\n      square: 'md',\r\n      rounded: 'xl',\r\n      circle: 'full',\r\n    },\r\n  },\r\n  skeleton: {\r\n    borderRadius: 'base',\r\n    animation: {\r\n      duration: '1000',\r\n      timingFunction: 'in-out',\r\n    },\r\n  },\r\n};","/**\r\n * 디자인 시스템 기본 테마\r\n * @description 라이트/다크 모드 기본 테마 정의\r\n */\r\n\r\nimport type { Theme } from '../types/theme';\r\nimport { defaultSemanticColors, lightSystemColors, darkSystemColors } from './tokens/colors';\r\nimport { defaultTypography, koreanOptimizedTypography } from './tokens/typography';\r\nimport {\r\n  defaultSpacing,\r\n  defaultBorderRadius,\r\n  defaultBoxShadow,\r\n  defaultAnimation,\r\n  defaultZIndex,\r\n  defaultBreakpoints,\r\n} from './tokens/spacing';\r\nimport { defaultComponentTokens } from './tokens/components';\r\n\r\n// ========================================\r\n// 기본 라이트 테마\r\n// ========================================\r\n\r\nexport const defaultLightTheme: Theme = {\r\n  colors: {\r\n    semantic: defaultSemanticColors,\r\n    system: lightSystemColors,\r\n  },\r\n  typography: defaultTypography,\r\n  spacing: defaultSpacing,\r\n  borderRadius: defaultBorderRadius,\r\n  boxShadow: defaultBoxShadow,\r\n  animation: defaultAnimation,\r\n  zIndex: defaultZIndex,\r\n  breakpoints: defaultBreakpoints,\r\n  components: defaultComponentTokens,\r\n};\r\n\r\n// ========================================\r\n// 기본 다크 테마\r\n// ========================================\r\n\r\nexport const defaultDarkTheme: Theme = {\r\n  colors: {\r\n    semantic: defaultSemanticColors,\r\n    system: darkSystemColors,\r\n  },\r\n  typography: defaultTypography,\r\n  spacing: defaultSpacing,\r\n  borderRadius: defaultBorderRadius,\r\n  boxShadow: defaultBoxShadow,\r\n  animation: defaultAnimation,\r\n  zIndex: defaultZIndex,\r\n  breakpoints: defaultBreakpoints,\r\n  components: defaultComponentTokens,\r\n};\r\n\r\n// ========================================\r\n// 한국어 최적화 라이트 테마\r\n// ========================================\r\n\r\nexport const koreanLightTheme: Theme = {\r\n  ...defaultLightTheme,\r\n  typography: koreanOptimizedTypography,\r\n};\r\n\r\n// ========================================\r\n// 한국어 최적화 다크 테마\r\n// ========================================\r\n\r\nexport const koreanDarkTheme: Theme = {\r\n  ...defaultDarkTheme,\r\n  typography: koreanOptimizedTypography,\r\n};\r\n\r\n// ========================================\r\n// 테마 프리셋 맵\r\n// ========================================\r\n\r\nexport const themePresets = {\r\n  'default-light': defaultLightTheme,\r\n  'default-dark': defaultDarkTheme,\r\n  'korean-light': koreanLightTheme,\r\n  'korean-dark': koreanDarkTheme,\r\n} as const;\r\n\r\nexport type ThemePreset = keyof typeof themePresets;\r\n\r\n// ========================================\r\n// 테마 선택 헬퍼\r\n// ========================================\r\n\r\nexport function getThemePreset(preset: ThemePreset): Theme {\r\n  return themePresets[preset];\r\n}\r\n\r\nexport function getThemeByMode(mode: 'light' | 'dark', locale: 'default' | 'korean' = 'default'): Theme {\r\n  const presetKey = `${locale}-${mode}` as ThemePreset;\r\n  return themePresets[presetKey];\r\n}","/**\r\n * 테마 병합 유틸리티\r\n * @description 기본 테마와 사용자 정의 오버라이드를 병합하는 함수\r\n */\r\n\r\nimport type { Theme, ThemeOverride, DeepPartial } from '../../types/theme';\r\n\r\n// ========================================\r\n// 깊은 병합 유틸리티\r\n// ========================================\r\n\r\nfunction isObject(item: unknown): item is Record<string, unknown> {\r\n  return item !== null && typeof item === 'object' && !Array.isArray(item);\r\n}\r\n\r\nfunction deepMerge<T extends Record<string, unknown>>(\r\n  target: T,\r\n  source: DeepPartial<T>\r\n): T {\r\n  const result = { ...target };\r\n\r\n  for (const key in source) {\r\n    const sourceValue = source[key];\r\n    const targetValue = result[key];\r\n\r\n    if (isObject(sourceValue) && isObject(targetValue)) {\r\n      result[key] = deepMerge(targetValue, sourceValue) as T[Extract<keyof T, string>];\r\n    } else if (sourceValue !== undefined) {\r\n      result[key] = sourceValue as T[Extract<keyof T, string>];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n// ========================================\r\n// 테마 병합 함수\r\n// ========================================\r\n\r\n/**\r\n * 기본 테마와 오버라이드를 병합하여 최종 테마를 생성합니다.\r\n * \r\n * @param baseTheme 기본 테마\r\n * @param override 사용자 정의 오버라이드\r\n * @returns 병합된 최종 테마\r\n * \r\n * @example\r\n * ```typescript\r\n * const customTheme = mergeTheme(defaultLightTheme, {\r\n *   colors: {\r\n *     semantic: {\r\n *       primary: {\r\n *         500: '#ff6b35', // 메인 컬러만 변경\r\n *       }\r\n *     }\r\n *   }\r\n * });\r\n * ```\r\n */\r\nexport function mergeTheme(baseTheme: Theme, override: ThemeOverride): Theme {\r\n  return deepMerge(baseTheme, override);\r\n}\r\n\r\n// ========================================\r\n// 특정 영역별 병합 함수들\r\n// ========================================\r\n\r\n/**\r\n * 색상만 병합하는 함수\r\n */\r\nexport function mergeColors(\r\n  baseColors: Theme['colors'],\r\n  colorOverride: ThemeOverride['colors']\r\n): Theme['colors'] {\r\n  if (!colorOverride) return baseColors;\r\n  return deepMerge(baseColors, colorOverride);\r\n}\r\n\r\n/**\r\n * 타이포그래피만 병합하는 함수\r\n */\r\nexport function mergeTypography(\r\n  baseTypography: Theme['typography'],\r\n  typographyOverride: ThemeOverride['typography']\r\n): Theme['typography'] {\r\n  if (!typographyOverride) return baseTypography;\r\n  return deepMerge(baseTypography, typographyOverride);\r\n}\r\n\r\n/**\r\n * 컴포넌트 토큰만 병합하는 함수\r\n */\r\nexport function mergeComponentTokens(\r\n  baseComponents: Theme['components'],\r\n  componentsOverride: ThemeOverride['components']\r\n): Theme['components'] {\r\n  if (!componentsOverride) return baseComponents;\r\n  return deepMerge(baseComponents, componentsOverride);\r\n}\r\n\r\n// ========================================\r\n// 검증 함수들\r\n// ========================================\r\n\r\n/**\r\n * 테마 구조가 유효한지 검사하는 함수\r\n */\r\nexport function validateTheme(theme: Theme): { isValid: boolean; errors: string[] } {\r\n  const errors: string[] = [];\r\n\r\n  // 필수 속성 체크\r\n  if (!theme.colors) errors.push('Missing required property: colors');\r\n  if (!theme.typography) errors.push('Missing required property: typography');\r\n  if (!theme.spacing) errors.push('Missing required property: spacing');\r\n  if (!theme.borderRadius) errors.push('Missing required property: borderRadius');\r\n  if (!theme.components) errors.push('Missing required property: components');\r\n\r\n  // 색상 구조 체크\r\n  if (theme.colors) {\r\n    if (!theme.colors.semantic) errors.push('Missing required property: colors.semantic');\r\n    if (!theme.colors.system) errors.push('Missing required property: colors.system');\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n  };\r\n}\r\n\r\n/**\r\n * 색상 값이 유효한지 검사하는 함수\r\n */\r\nexport function validateColorValue(color: string): boolean {\r\n  // CSS 색상 값 검증 (기본적인 패턴만)\r\n  const colorPatterns = [\r\n    /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/, // hex\r\n    /^rgb\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*\\)$/, // rgb\r\n    /^rgba\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*[\\d.]+\\s*\\)$/, // rgba\r\n    /^hsl\\(\\s*\\d+\\s*,\\s*\\d+%\\s*,\\s*\\d+%\\s*\\)$/, // hsl\r\n    /^hsla\\(\\s*\\d+\\s*,\\s*\\d+%\\s*,\\s*\\d+%\\s*,\\s*[\\d.]+\\s*\\)$/, // hsla\r\n    /^(transparent|currentColor)$/, // special values\r\n  ];\r\n\r\n  return colorPatterns.some(pattern => pattern.test(color));\r\n}","/**\r\n * CSS 변수 생성 유틸리티\r\n * @description 테마 토큰을 CSS 변수로 변환하는 함수들\r\n */\r\n\r\nimport type { Theme, ColorPalette, SystemColors, SemanticColors } from '../../types/theme';\r\n\r\n// ========================================\r\n// CSS 변수 생성 함수들\r\n// ========================================\r\n\r\n/**\r\n * 색상 팔레트를 CSS 변수로 변환\r\n */\r\nfunction generateColorPaletteVars(\r\n  palette: ColorPalette,\r\n  prefix: string,\r\n  colorName: string\r\n): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(palette).forEach(([shade, value]) => {\r\n    vars.push(`--${prefix}-${colorName}-${shade}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * 시맨틱 색상을 CSS 변수로 변환\r\n */\r\nfunction generateSemanticColorVars(colors: SemanticColors, prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(colors).forEach(([colorName, palette]) => {\r\n    vars.push(generateColorPaletteVars(palette, prefix, colorName));\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * 시스템 색상을 CSS 변수로 변환\r\n */\r\nfunction generateSystemColorVars(colors: SystemColors, prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(colors).forEach(([category, categoryColors]) => {\r\n    Object.entries(categoryColors).forEach(([name, value]) => {\r\n      vars.push(`--${prefix}-${category}-${name}: ${value};`);\r\n    });\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * 타이포그래피를 CSS 변수로 변환\r\n */\r\nfunction generateTypographyVars(typography: Theme['typography'], prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  // Font Family\r\n  Object.entries(typography.fontFamily).forEach(([name, fonts]) => {\r\n    vars.push(`--${prefix}-font-family-${name}: ${fonts.join(', ')};`);\r\n  });\r\n  \r\n  // Font Size\r\n  Object.entries(typography.fontSize).forEach(([size, value]) => {\r\n    vars.push(`--${prefix}-font-size-${size}: ${value};`);\r\n  });\r\n  \r\n  // Font Weight\r\n  Object.entries(typography.fontWeight).forEach(([weight, value]) => {\r\n    vars.push(`--${prefix}-font-weight-${weight}: ${value};`);\r\n  });\r\n  \r\n  // Line Height\r\n  Object.entries(typography.lineHeight).forEach(([height, value]) => {\r\n    vars.push(`--${prefix}-line-height-${height}: ${value};`);\r\n  });\r\n  \r\n  // Letter Spacing\r\n  Object.entries(typography.letterSpacing).forEach(([spacing, value]) => {\r\n    vars.push(`--${prefix}-letter-spacing-${spacing}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * 간격을 CSS 변수로 변환\r\n */\r\nfunction generateSpacingVars(spacing: Theme['spacing'], prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(spacing).forEach(([size, value]) => {\r\n    vars.push(`--${prefix}-spacing-${size}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * Border Radius를 CSS 변수로 변환\r\n */\r\nfunction generateBorderRadiusVars(borderRadius: Theme['borderRadius'], prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(borderRadius).forEach(([size, value]) => {\r\n    vars.push(`--${prefix}-border-radius-${size}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * Box Shadow를 CSS 변수로 변환\r\n */\r\nfunction generateBoxShadowVars(boxShadow: Theme['boxShadow'], prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(boxShadow).forEach(([size, value]) => {\r\n    vars.push(`--${prefix}-box-shadow-${size}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * 애니메이션을 CSS 변수로 변환\r\n */\r\nfunction generateAnimationVars(animation: Theme['animation'], prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  // Duration\r\n  Object.entries(animation.duration).forEach(([duration, value]) => {\r\n    vars.push(`--${prefix}-duration-${duration}: ${value};`);\r\n  });\r\n  \r\n  // Timing Function\r\n  Object.entries(animation.timingFunction).forEach(([timing, value]) => {\r\n    vars.push(`--${prefix}-timing-${timing}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * Z-Index를 CSS 변수로 변환\r\n */\r\nfunction generateZIndexVars(zIndex: Theme['zIndex'], prefix: string): string {\r\n  const vars: string[] = [];\r\n  \r\n  Object.entries(zIndex).forEach(([name, value]) => {\r\n    vars.push(`--${prefix}-z-index-${name}: ${value};`);\r\n  });\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n// ========================================\r\n// 메인 CSS 변수 생성 함수\r\n// ========================================\r\n\r\n/**\r\n * 전체 테마를 CSS 변수로 변환하는 메인 함수\r\n * \r\n * @param theme 테마 객체\r\n * @param prefix CSS 변수 접두사 (기본값: 'cc')\r\n * @returns CSS 변수 문자열\r\n * \r\n * @example\r\n * ```typescript\r\n * const cssVars = generateCSSVariables(theme, 'my-app');\r\n * // 결과: --my-app-primary-500: #3b82f6; --my-app-spacing-4: 1rem; ...\r\n * ```\r\n */\r\nexport function generateCSSVariables(theme: Theme, prefix = 'cc'): string {\r\n  const vars: string[] = [];\r\n  \r\n  // 색상 변수\r\n  vars.push(generateSemanticColorVars(theme.colors.semantic, prefix));\r\n  vars.push(generateSystemColorVars(theme.colors.system, prefix));\r\n  \r\n  // 타이포그래피 변수\r\n  vars.push(generateTypographyVars(theme.typography, prefix));\r\n  \r\n  // 간격 변수\r\n  vars.push(generateSpacingVars(theme.spacing, prefix));\r\n  \r\n  // Border Radius 변수\r\n  vars.push(generateBorderRadiusVars(theme.borderRadius, prefix));\r\n  \r\n  // Box Shadow 변수\r\n  vars.push(generateBoxShadowVars(theme.boxShadow, prefix));\r\n  \r\n  // 애니메이션 변수\r\n  vars.push(generateAnimationVars(theme.animation, prefix));\r\n  \r\n  // Z-Index 변수\r\n  vars.push(generateZIndexVars(theme.zIndex, prefix));\r\n  \r\n  return vars.join(' ');\r\n}\r\n\r\n// ========================================\r\n// 특정 카테고리만 생성하는 함수들\r\n// ========================================\r\n\r\n/**\r\n * 색상 CSS 변수만 생성\r\n */\r\nexport function generateColorCSSVariables(\r\n  colors: Theme['colors'],\r\n  prefix = 'cc'\r\n): string {\r\n  const vars: string[] = [];\r\n  vars.push(generateSemanticColorVars(colors.semantic, prefix));\r\n  vars.push(generateSystemColorVars(colors.system, prefix));\r\n  return vars.join(' ');\r\n}\r\n\r\n/**\r\n * 타이포그래피 CSS 변수만 생성\r\n */\r\nexport function generateTypographyCSSVariables(\r\n  typography: Theme['typography'],\r\n  prefix = 'cc'\r\n): string {\r\n  return generateTypographyVars(typography, prefix);\r\n}\r\n\r\n/**\r\n * 간격 CSS 변수만 생성\r\n */\r\nexport function generateSpacingCSSVariables(\r\n  spacing: Theme['spacing'],\r\n  prefix = 'cc'\r\n): string {\r\n  return generateSpacingVars(spacing, prefix);\r\n}\r\n\r\n// ========================================\r\n// CSS 변수 접근 헬퍼 함수들\r\n// ========================================\r\n\r\n/**\r\n * CSS 변수 이름을 생성하는 함수\r\n */\r\nexport function createCSSVariable(tokenPath: string, prefix = 'cc'): string {\r\n  return `var(--${prefix}-${tokenPath})`;\r\n}\r\n\r\n/**\r\n * 색상 CSS 변수 이름 생성\r\n */\r\nexport function createColorVariable(color: string, shade: string | number, prefix = 'cc'): string {\r\n  return createCSSVariable(`${color}-${shade}`, prefix);\r\n}\r\n\r\n/**\r\n * 간격 CSS 변수 이름 생성\r\n */\r\nexport function createSpacingVariable(size: string | number, prefix = 'cc'): string {\r\n  return createCSSVariable(`spacing-${size}`, prefix);\r\n}\r\n\r\n/**\r\n * 폰트 크기 CSS 변수 이름 생성\r\n */\r\nexport function createFontSizeVariable(size: string, prefix = 'cc'): string {\r\n  return createCSSVariable(`font-size-${size}`, prefix);\r\n}\r\n\r\n// ========================================\r\n// 유틸리티 함수들\r\n// ========================================\r\n\r\n/**\r\n * CSS 변수가 유효한지 검사\r\n */\r\nexport function isValidCSSVariable(variable: string): boolean {\r\n  return /^var\\(--[\\w-]+\\)$/.test(variable);\r\n}\r\n\r\n/**\r\n * CSS 변수에서 토큰 경로 추출\r\n */\r\nexport function extractTokenPath(variable: string, prefix = 'cc'): string | null {\r\n  const match = variable.match(new RegExp(`^var\\\\(--${prefix}-(.*?)\\\\)$`));\r\n  return match ? match[1] : null;\r\n}","/**\r\n * 테마 프로바이더 컴포넌트\r\n * @description 테마 시스템의 React Context Provider\r\n */\r\n\r\n'use client';\r\n\r\nimport React, { createContext, useContext, useCallback, useMemo, useState, useEffect, ReactNode } from 'react';\r\nimport type { Theme, ThemeConfig, ThemeContextValue, ThemeOverride } from '../types/theme';\r\nimport { defaultLightTheme, defaultDarkTheme, getThemeByMode } from './defaultThemes';\r\nimport { mergeTheme } from './utils/mergeTheme';\r\nimport { generateCSSVariables } from './utils/cssVariables';\r\n\r\n// ========================================\r\n// 테마 컨텍스트\r\n// ========================================\r\n\r\nconst ThemeContext = createContext<ThemeContextValue | null>(null);\r\n\r\n// ========================================\r\n// 테마 프로바이더 Props\r\n// ========================================\r\n\r\ninterface ThemeProviderProps {\r\n  children: ReactNode;\r\n  config?: ThemeConfig;\r\n  initialTheme?: Theme;\r\n  storageKey?: string;\r\n}\r\n\r\n// ========================================\r\n// 로컬 스토리지 헬퍼\r\n// ========================================\r\n\r\nconst STORAGE_KEY = 'community-core-theme-mode';\r\n\r\nfunction getStoredMode(storageKey?: string): 'light' | 'dark' | null {\r\n  if (typeof window === 'undefined') return null;\r\n  \r\n  try {\r\n    const stored = localStorage.getItem(storageKey || STORAGE_KEY);\r\n    if (stored === 'light' || stored === 'dark') {\r\n      return stored;\r\n    }\r\n  } catch (error) {\r\n    console.warn('Failed to read theme mode from localStorage:', error);\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\nfunction setStoredMode(mode: 'light' | 'dark', storageKey?: string): void {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  try {\r\n    localStorage.setItem(storageKey || STORAGE_KEY, mode);\r\n  } catch (error) {\r\n    console.warn('Failed to store theme mode:', error);\r\n  }\r\n}\r\n\r\nfunction getSystemMode(): 'light' | 'dark' {\r\n  if (typeof window === 'undefined') return 'light';\r\n  \r\n  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n}\r\n\r\n// ========================================\r\n// 테마 프로바이더 컴포넌트\r\n// ========================================\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  config = {},\r\n  initialTheme,\r\n  storageKey,\r\n}: ThemeProviderProps) {\r\n  const {\r\n    mode: configMode = 'light',\r\n    theme: themeOverride = {},\r\n    cssVarPrefix = 'cc',\r\n    respectSystemTheme = true,\r\n  } = config;\r\n\r\n  // 초기 모드 결정\r\n  const getInitialMode = useCallback((): 'light' | 'dark' => {\r\n    const storedMode = getStoredMode(storageKey);\r\n    if (storedMode) return storedMode;\r\n    \r\n    if (respectSystemTheme) {\r\n      return getSystemMode();\r\n    }\r\n    \r\n    return configMode;\r\n  }, [configMode, respectSystemTheme, storageKey]);\r\n\r\n  const [mode, setMode] = useState<'light' | 'dark'>(getInitialMode);\r\n\r\n  // 기본 테마 계산\r\n  const baseTheme = useMemo(() => {\r\n    if (initialTheme) return initialTheme;\r\n    return mode === 'light' ? defaultLightTheme : defaultDarkTheme;\r\n  }, [initialTheme, mode]);\r\n\r\n  // 최종 테마 계산 (오버라이드 적용)\r\n  const theme = useMemo(() => {\r\n    return mergeTheme(baseTheme, themeOverride);\r\n  }, [baseTheme, themeOverride]);\r\n\r\n  // 모드 변경 함수\r\n  const changeMode = useCallback((newMode: 'light' | 'dark') => {\r\n    setMode(newMode);\r\n    setStoredMode(newMode, storageKey);\r\n  }, [storageKey]);\r\n\r\n  // 모드 토글 함수\r\n  const toggleMode = useCallback(() => {\r\n    changeMode(mode === 'light' ? 'dark' : 'light');\r\n  }, [mode, changeMode]);\r\n\r\n  // 테마 업데이트 함수\r\n  const updateTheme = useCallback((override: ThemeOverride) => {\r\n    // 런타임에서 테마 오버라이드 업데이트\r\n    // 실제 구현에서는 상태를 별도로 관리하거나\r\n    // 부모 컴포넌트에서 config를 업데이트하도록 유도\r\n    console.warn('Runtime theme updates require parent component to update config.theme');\r\n  }, []);\r\n\r\n  // 테마 리셋 함수\r\n  const resetTheme = useCallback(() => {\r\n    updateTheme({});\r\n  }, [updateTheme]);\r\n\r\n  // 시스템 테마 변경 감지\r\n  useEffect(() => {\r\n    if (!respectSystemTheme) return;\r\n\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const handleChange = (e: MediaQueryListEvent) => {\r\n      const systemMode = e.matches ? 'dark' : 'light';\r\n      // 저장된 모드가 없을 때만 시스템 모드 따라감\r\n      if (!getStoredMode(storageKey)) {\r\n        setMode(systemMode);\r\n      }\r\n    };\r\n\r\n    mediaQuery.addEventListener('change', handleChange);\r\n    return () => mediaQuery.removeEventListener('change', handleChange);\r\n  }, [respectSystemTheme, storageKey]);\r\n\r\n  // CSS 변수 생성 및 적용\r\n  useEffect(() => {\r\n    const cssVars = generateCSSVariables(theme, cssVarPrefix);\r\n    const styleId = `${cssVarPrefix}-theme-vars`;\r\n    \r\n    // 기존 스타일 제거\r\n    const existingStyle = document.getElementById(styleId);\r\n    if (existingStyle) {\r\n      existingStyle.remove();\r\n    }\r\n\r\n    // 새 스타일 추가\r\n    const styleElement = document.createElement('style');\r\n    styleElement.id = styleId;\r\n    styleElement.textContent = `:root { ${cssVars} }`;\r\n    document.head.appendChild(styleElement);\r\n\r\n    return () => {\r\n      const element = document.getElementById(styleId);\r\n      if (element) {\r\n        element.remove();\r\n      }\r\n    };\r\n  }, [theme, cssVarPrefix]);\r\n\r\n  // 컨텍스트 값\r\n  const contextValue: ThemeContextValue = useMemo(() => ({\r\n    theme,\r\n    mode,\r\n    setMode: changeMode,\r\n    toggleMode,\r\n    updateTheme,\r\n    resetTheme,\r\n  }), [theme, mode, changeMode, toggleMode, updateTheme, resetTheme]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={contextValue}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\n// ========================================\r\n// 테마 훅\r\n// ========================================\r\n\r\nexport function useTheme(): ThemeContextValue {\r\n  const context = useContext(ThemeContext);\r\n  \r\n  if (!context) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  \r\n  return context;\r\n}\r\n\r\n// ========================================\r\n// 테마 유틸리티 훅들\r\n// ========================================\r\n\r\n/**\r\n * 현재 테마의 색상을 가져오는 훅\r\n */\r\nexport function useThemeColors() {\r\n  const { theme } = useTheme();\r\n  return theme.colors;\r\n}\r\n\r\n/**\r\n * 현재 테마의 타이포그래피를 가져오는 훅\r\n */\r\nexport function useThemeTypography() {\r\n  const { theme } = useTheme();\r\n  return theme.typography;\r\n}\r\n\r\n/**\r\n * 현재 테마의 간격을 가져오는 훅\r\n */\r\nexport function useThemeSpacing() {\r\n  const { theme } = useTheme();\r\n  return theme.spacing;\r\n}\r\n\r\n/**\r\n * 현재 모드를 반환하는 훅\r\n */\r\nexport function useThemeMode() {\r\n  const { mode, setMode, toggleMode } = useTheme();\r\n  return { mode, setMode, toggleMode };\r\n}\r\n\r\n/**\r\n * CSS 변수 이름을 생성하는 훅\r\n */\r\nexport function useCSSVariable(variableName: string, prefix = 'cc'): string {\r\n  return `var(--${prefix}-${variableName})`;\r\n}\r\n\r\n// ========================================\r\n// 기본 내보내기\r\n// ========================================\r\n\r\nexport default ThemeProvider;","/**\n * Button Component\n * \n * A flexible, accessible button component with multiple variants and sizes.\n * Designed for community platform usage with built-in loading states and accessibility.\n */\n\n'use client';\n\nimport React, { forwardRef } from 'react';\nimport { useTheme } from '../../../theme/ThemeProvider';\nimport { createCSSVariable, createColorVariable, createSpacingVariable, createFontSizeVariable } from '../../../theme/utils/cssVariables';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Button visual style variant */\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\n  \n  /** Button size */\n  size?: 'sm' | 'md' | 'lg';\n  \n  /** Show loading state */\n  loading?: boolean;\n  \n  /** Make button full width */\n  fullWidth?: boolean;\n  \n  /** Icon to show before text */\n  startIcon?: React.ReactNode;\n  \n  /** Icon to show after text */\n  endIcon?: React.ReactNode;\n}\n\n/**\n * Button component with multiple variants and accessibility features\n * \n * @example\n * ```tsx\n * import { Button } from '@semicolon/community-core';\n * \n * // Basic usage\n * <Button>Click me</Button>\n * \n * // With variant and size\n * <Button variant=\"primary\" size=\"lg\">Submit</Button>\n * \n * // Loading state\n * <Button loading onClick={handleSubmit}>Save Changes</Button>\n * \n * // With icons\n * <Button startIcon={<PlusIcon />}>Add New</Button>\n * ```\n */\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(({\n  variant = 'primary',\n  size = 'md',\n  loading = false,\n  fullWidth = false,\n  startIcon,\n  endIcon,\n  disabled,\n  className = '',\n  children,\n  style,\n  ...props\n}, ref) => {\n  const { theme } = useTheme();\n  \n  // Base styles using theme\n  const baseStyle: React.CSSProperties = {\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontFamily: createCSSVariable('font-family-sans'),\n    fontWeight: createCSSVariable('font-weight-medium'),\n    transitionProperty: 'background-color, border-color, color, fill, stroke, opacity, box-shadow, transform',\n    transitionDuration: createCSSVariable('duration-200'),\n    transitionTimingFunction: createCSSVariable('timing-in-out'),\n    border: 'none',\n    cursor: 'pointer',\n    outline: 'none',\n    ...style,\n  };\n\n  // Size-based styles\n  const sizeStyles = {\n    sm: {\n      padding: theme.components.button.padding.xs,\n      fontSize: createFontSizeVariable(theme.components.button.fontSize.xs),\n      borderRadius: createCSSVariable(`border-radius-${theme.components.button.borderRadius}`),\n      height: theme.components.button.height.xs,\n    },\n    md: {\n      padding: theme.components.button.padding.base,\n      fontSize: createFontSizeVariable(theme.components.button.fontSize.base),\n      borderRadius: createCSSVariable(`border-radius-${theme.components.button.borderRadius}`),\n      height: theme.components.button.height.base,\n    },\n    lg: {\n      padding: theme.components.button.padding.lg,\n      fontSize: createFontSizeVariable(theme.components.button.fontSize.lg),\n      borderRadius: createCSSVariable(`border-radius-${theme.components.button.borderRadius}`),\n      height: theme.components.button.height.lg,\n    }\n  };\n\n  // Variant-based styles\n  const variantStyles = {\n    primary: {\n      backgroundColor: createColorVariable('primary', '600'),\n      color: createCSSVariable('text-inverse'),\n      ':hover': {\n        backgroundColor: createColorVariable('primary', '700'),\n      },\n      ':focus': {\n        boxShadow: `0 0 0 2px ${createColorVariable('primary', '500')}`,\n      }\n    },\n    secondary: {\n      backgroundColor: createColorVariable('secondary', '600'),\n      color: createCSSVariable('text-inverse'),\n      ':hover': {\n        backgroundColor: createColorVariable('secondary', '700'),\n      },\n      ':focus': {\n        boxShadow: `0 0 0 2px ${createColorVariable('secondary', '500')}`,\n      }\n    },\n    outline: {\n      backgroundColor: 'transparent',\n      border: `2px solid ${createCSSVariable('border-primary')}`,\n      color: createCSSVariable('text-primary'),\n      ':hover': {\n        backgroundColor: createCSSVariable('background-secondary'),\n      },\n      ':focus': {\n        boxShadow: `0 0 0 2px ${createColorVariable('primary', '500')}`,\n      }\n    },\n    ghost: {\n      backgroundColor: 'transparent',\n      color: createCSSVariable('text-primary'),\n      ':hover': {\n        backgroundColor: createCSSVariable('background-tertiary'),\n      },\n      ':focus': {\n        boxShadow: `0 0 0 2px ${createColorVariable('primary', '500')}`,\n      }\n    },\n    danger: {\n      backgroundColor: createColorVariable('error', '600'),\n      color: createCSSVariable('text-inverse'),\n      ':hover': {\n        backgroundColor: createColorVariable('error', '700'),\n      },\n      ':focus': {\n        boxShadow: `0 0 0 2px ${createColorVariable('error', '500')}`,\n      }\n    }\n  };\n\n  // Disabled styles\n  const disabledStyle = {\n    opacity: 0.5,\n    cursor: 'not-allowed',\n    pointerEvents: 'none' as const,\n  };\n\n  // Width style\n  const widthStyle = fullWidth ? { width: '100%' } : {};\n\n  // Combine all styles\n  const combinedStyle: React.CSSProperties = {\n    ...baseStyle,\n    ...sizeStyles[size],\n    ...variantStyles[variant],\n    ...(disabled || loading ? disabledStyle : {}),\n    ...widthStyle,\n  };\n\n  // Loading spinner component\n  const LoadingSpinner = () => (\n    <svg \n      className=\"animate-spin -ml-1 mr-2 h-4 w-4\" \n      fill=\"none\" \n      viewBox=\"0 0 24 24\"\n      aria-hidden=\"true\"\n    >\n      <circle \n        className=\"opacity-25\" \n        cx=\"12\" \n        cy=\"12\" \n        r=\"10\" \n        stroke=\"currentColor\" \n        strokeWidth=\"4\"\n      />\n      <path \n        className=\"opacity-75\" \n        fill=\"currentColor\" \n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      />\n    </svg>\n  );\n\n  return (\n    <button\n      ref={ref}\n      className={className}\n      style={combinedStyle}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading && <LoadingSpinner />}\n      {!loading && startIcon && (\n        <span style={{ marginRight: createSpacingVariable('2') }}>{startIcon}</span>\n      )}\n      {children}\n      {!loading && endIcon && (\n        <span style={{ marginLeft: createSpacingVariable('2') }}>{endIcon}</span>\n      )}\n    </button>\n  );\n});\n\nButton.displayName = 'Button';\n\nexport default Button;","/**\n * Badge Component\n * \n * A versatile badge component for displaying status, labels, and notifications.\n * Perfect for user levels, post tags, notification counts, etc.\n */\n\nimport React from 'react';\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLSpanElement> {\n  /** Badge visual variant */\n  variant?: 'primary' | 'secondary' | 'success' | 'warning' | 'danger' | 'info';\n  \n  /** Badge size */\n  size?: 'sm' | 'md' | 'lg';\n  \n  /** Make badge rounded/pill-shaped */\n  rounded?: boolean;\n  \n  /** Show a dot indicator */\n  dot?: boolean;\n}\n\n/**\n * Badge component for status indicators and labels\n * \n * @example\n * ```tsx\n * import { Badge } from '@semicolon/community-core';\n * \n * // Basic usage\n * <Badge>New</Badge>\n * \n * // User level badge\n * <Badge variant=\"primary\" rounded>Level 5</Badge>\n * \n * // Notification count\n * <Badge variant=\"danger\" size=\"sm\">3</Badge>\n * \n * // Status indicator with dot\n * <Badge variant=\"success\" dot>Online</Badge>\n * ```\n */\nexport const Badge: React.FC<BadgeProps> = ({\n  variant = 'primary',\n  size = 'md',\n  rounded = false,\n  dot = false,\n  className = '',\n  children,\n  ...props\n}) => {\n  // Base classes\n  const baseClasses = [\n    'inline-flex items-center font-medium',\n    rounded ? 'rounded-full' : 'rounded-md'\n  ];\n\n  // Variant classes\n  const variantClasses = {\n    primary: 'bg-blue-100 text-blue-800',\n    secondary: 'bg-gray-100 text-gray-800',\n    success: 'bg-green-100 text-green-800',\n    warning: 'bg-yellow-100 text-yellow-800',\n    danger: 'bg-red-100 text-red-800',\n    info: 'bg-indigo-100 text-indigo-800'\n  };\n\n  // Size classes\n  const sizeClasses = {\n    sm: 'px-2 py-1 text-xs',\n    md: 'px-2.5 py-1.5 text-sm',\n    lg: 'px-3 py-2 text-base'\n  };\n\n  // Dot classes\n  const dotClasses = {\n    primary: 'bg-blue-400',\n    secondary: 'bg-gray-400',\n    success: 'bg-green-400',\n    warning: 'bg-yellow-400',\n    danger: 'bg-red-400',\n    info: 'bg-indigo-400'\n  };\n\n  // Combine all classes\n  const badgeClasses = [\n    ...baseClasses,\n    variantClasses[variant],\n    sizeClasses[size],\n    className\n  ].filter(Boolean).join(' ');\n\n  // Dot component\n  const DotIndicator = () => (\n    <span \n      className={`w-2 h-2 rounded-full mr-1.5 ${dotClasses[variant]}`}\n      aria-hidden=\"true\"\n    />\n  );\n\n  return (\n    <span className={badgeClasses} {...props}>\n      {dot && <DotIndicator />}\n      {children}\n    </span>\n  );\n};\n\nexport default Badge;","/**\n * Avatar Component\n * \n * User avatar component with fallback support and multiple sizes.\n * Integrates with community platform user system and image optimization.\n */\n\nimport React, { useState } from 'react';\nimport { normalizeImageSrc } from '../../../utils/imageUtil';\n\nexport interface AvatarProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  /** User's display name for fallback text */\n  name?: string;\n  \n  /** Avatar size */\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n  \n  /** Show online status indicator */\n  status?: 'online' | 'offline' | 'away' | 'busy';\n  \n  /** Make avatar square instead of circular */\n  square?: boolean;\n}\n\n/**\n * Avatar component for user profile pictures\n * \n * @example\n * ```tsx\n * import { Avatar } from '@semicolon/community-core';\n * \n * // Basic usage\n * <Avatar src=\"/avatar.jpg\" name=\"김철수\" />\n * \n * // With status indicator\n * <Avatar \n *   src=\"/avatar.jpg\" \n *   name=\"김철수\" \n *   status=\"online\"\n *   size=\"lg\" \n * />\n * \n * // Square avatar for brand logos\n * <Avatar src=\"/logo.jpg\" name=\"Company\" square />\n * ```\n */\nexport const Avatar: React.FC<AvatarProps> = ({\n  src,\n  name = '',\n  size = 'md',\n  status,\n  square = false,\n  className = '',\n  alt,\n  ...props\n}) => {\n  const [imageError, setImageError] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n\n  // Size classes\n  const sizeClasses = {\n    xs: 'w-6 h-6 text-xs',\n    sm: 'w-8 h-8 text-sm',\n    md: 'w-10 h-10 text-base',\n    lg: 'w-12 h-12 text-lg',\n    xl: 'w-14 h-14 text-xl',\n    '2xl': 'w-16 h-16 text-2xl'\n  };\n\n  // Status indicator classes\n  const statusClasses = {\n    online: 'bg-green-400',\n    offline: 'bg-gray-400',\n    away: 'bg-yellow-400',\n    busy: 'bg-red-400'\n  };\n\n  // Status indicator size based on avatar size\n  const statusSizeClasses = {\n    xs: 'w-1.5 h-1.5',\n    sm: 'w-2 h-2',\n    md: 'w-2.5 h-2.5',\n    lg: 'w-3 h-3',\n    xl: 'w-3.5 h-3.5',\n    '2xl': 'w-4 h-4'\n  };\n\n  // Base classes\n  const baseClasses = [\n    'inline-block relative',\n    square ? 'rounded-lg' : 'rounded-full',\n    'bg-gray-100 overflow-hidden',\n    'ring-2 ring-white',\n    sizeClasses[size]\n  ];\n\n  // Generate fallback initials from name\n  const getInitials = (name: string): string => {\n    return name\n      .split(' ')\n      .map(part => part.charAt(0).toUpperCase())\n      .join('')\n      .slice(0, 2);\n  };\n\n  // Handle image load error\n  const handleImageError = () => {\n    setImageError(true);\n  };\n\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n\n  // Optimize image src\n  const optimizedSrc = src ? normalizeImageSrc(src) : undefined;\n\n  // Combine classes\n  const avatarClasses = [...baseClasses, className].filter(Boolean).join(' ');\n\n  return (\n    <div className={avatarClasses}>\n      {optimizedSrc && !imageError ? (\n        <img\n          src={optimizedSrc}\n          alt={alt || name}\n          className=\"w-full h-full object-cover\"\n          onError={handleImageError}\n          onLoad={handleImageLoad}\n          {...props}\n        />\n      ) : (\n        // Fallback with initials\n        <div className=\"w-full h-full flex items-center justify-center bg-gray-300 text-gray-600 font-medium\">\n          {getInitials(name) || '?'}\n        </div>\n      )}\n      \n      {/* Status indicator */}\n      {status && (\n        <span \n          className={`absolute bottom-0 right-0 block ${statusSizeClasses[size]} ${statusClasses[status]} rounded-full ring-2 ring-white`}\n          title={`Status: ${status}`}\n          aria-label={`User status: ${status}`}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Avatar;","import React, { forwardRef } from 'react';\n\nexport interface InputProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /** Input 라벨 */\n  label?: string;\n  /** 에러 메시지 */\n  error?: string;\n  /** 도움말 텍스트 */\n  helper?: string;\n  /** 입력 타입 */\n  type?: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'search';\n  /** 크기 variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** 전체 너비 사용 여부 */\n  fullWidth?: boolean;\n  /** 입력 앞쪽 아이콘 또는 텍스트 */\n  startAdornment?: React.ReactNode;\n  /** 입력 뒤쪽 아이콘 또는 텍스트 */\n  endAdornment?: React.ReactNode;\n  /** 컨테이너 클래스 이름 */\n  containerClassName?: string;\n  /** 라벨 클래스 이름 */\n  labelClassName?: string;\n  /** 에러 텍스트 클래스 이름 */\n  errorClassName?: string;\n  /** 도움말 텍스트 클래스 이름 */\n  helperClassName?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(({\n  label,\n  error,\n  helper,\n  type = 'text',\n  size = 'md',\n  fullWidth = false,\n  startAdornment,\n  endAdornment,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  disabled = false,\n  required = false,\n  id,\n  ...props\n}, ref) => {\n  const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;\n\n  // 크기별 클래스 정의\n  const sizeClasses = {\n    sm: 'h-8 px-2 text-sm',\n    md: 'h-10 px-3 text-sm',\n    lg: 'h-12 px-4 text-base'\n  };\n\n  // 기본 input 클래스\n  const baseInputClasses = `\n    w-full\n    font-sans\n    text-gray-900\n    bg-white\n    border\n    rounded-lg\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n  `;\n\n  // 상태별 테두리 색상\n  const borderClasses = error\n    ? 'border-red-500 focus:border-red-500'\n    : 'border-gray-300 focus:border-blue-500 hover:border-gray-400';\n\n  // input 클래스 조합\n  const inputClasses = `\n    ${baseInputClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${startAdornment ? 'pl-8' : ''}\n    ${endAdornment ? 'pr-8' : ''}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  return (\n    <div className={`${fullWidth ? 'w-full' : 'w-auto'} ${containerClassName}`}>\n      {/* 라벨 */}\n      {label && (\n        <label\n          htmlFor={inputId}\n          className={`\n            block\n            text-sm\n            font-medium\n            text-gray-700\n            mb-2\n            font-sans\n            ${required ? \"after:content-['*'] after:text-red-500 after:ml-1\" : ''}\n            ${disabled ? 'opacity-50' : ''}\n            ${labelClassName}\n          `.trim().replace(/\\s+/g, ' ')}\n        >\n          {label}\n        </label>\n      )}\n\n      {/* Input 컨테이너 */}\n      <div className=\"relative\">\n        {/* 시작 아이콘/텍스트 */}\n        {startAdornment && (\n          <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none\">\n            {startAdornment}\n          </div>\n        )}\n\n        {/* Input 요소 */}\n        <input\n          ref={ref}\n          id={inputId}\n          type={type}\n          disabled={disabled}\n          required={required}\n          className={inputClasses}\n          {...props}\n        />\n\n        {/* 끝 아이콘/텍스트 */}\n        {endAdornment && (\n          <div className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500\">\n            {endAdornment}\n          </div>\n        )}\n      </div>\n\n      {/* 에러 메시지 */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* 도움말 텍스트 */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nInput.displayName = 'Input';\n\nexport { Input };","// Select Component for @semicolon/community-core\n\nimport React, { forwardRef, useEffect, useRef, useState, useMemo } from 'react';\n\nexport interface SelectOption<T = any> {\n  id: string | number;\n  label: string;\n  value: T;\n  icon?: string;\n  description?: string;\n  disabled?: boolean;\n}\n\nexport interface SelectProps<T = any> {\n  /** 옵션 목록 */\n  options: SelectOption<T>[];\n  /** 선택된 값 */\n  value?: T;\n  /** 값 변경 시 호출되는 함수 */\n  onChange: (option: SelectOption<T>) => void;\n  /** 플레이스홀더 텍스트 */\n  placeholder?: string;\n  /** 비활성화 여부 */\n  disabled?: boolean;\n  /** 라벨 */\n  label?: string;\n  /** 에러 메시지 */\n  error?: string;\n  /** 도움말 텍스트 */\n  helper?: string;\n  /** 크기 variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** 전체 너비 사용 여부 */\n  fullWidth?: boolean;\n  /** 다중 선택 지원 여부 */\n  multiple?: boolean;\n  /** 검색 기능 활성화 여부 */\n  searchable?: boolean;\n  /** 검색 플레이스홀더 */\n  searchPlaceholder?: string;\n  /** 아이콘 표시 여부 */\n  showIcon?: boolean;\n  /** 설명 표시 여부 */\n  showDescription?: boolean;\n  /** 드롭다운 최대 높이 */\n  maxHeight?: string;\n  /** 빈 결과 메시지 */\n  noOptionsText?: string;\n  /** 컨테이너 클래스 이름 */\n  className?: string;\n  /** 드롭다운 클래스 이름 */\n  dropdownClassName?: string;\n  /** 라벨 클래스 이름 */\n  labelClassName?: string;\n  /** 에러 텍스트 클래스 이름 */\n  errorClassName?: string;\n  /** 도움말 텍스트 클래스 이름 */\n  helperClassName?: string;\n}\n\nconst Select = forwardRef<HTMLDivElement, SelectProps>(({\n  options,\n  value,\n  onChange,\n  placeholder = '선택해주세요',\n  disabled = false,\n  label,\n  error,\n  helper,\n  size = 'md',\n  fullWidth = true,\n  multiple = false,\n  searchable = false,\n  searchPlaceholder = '검색...',\n  showIcon = false,\n  showDescription = false,\n  maxHeight = '240px',\n  noOptionsText = '옵션이 없습니다',\n  className = '',\n  dropdownClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n}, ref) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const selectId = `select-${Math.random().toString(36).substr(2, 9)}`;\n\n  // 선택된 옵션 찾기\n  const selectedOption = useMemo(() => {\n    if (multiple) return null;\n    return options.find(option => option.value === value);\n  }, [options, value, multiple]);\n\n  // 크기별 클래스 정의\n  const sizeClasses = {\n    sm: 'h-8 px-2 text-sm',\n    md: 'h-10 px-3 text-sm',\n    lg: 'h-12 px-4 text-base'\n  };\n\n  // 드롭다운 외부 클릭 감지\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false);\n        setSearchTerm('');\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleOptionClick = (option: SelectOption) => {\n    if (option.disabled) return;\n    onChange(option);\n    if (!multiple) {\n      setIsOpen(false);\n      setSearchTerm('');\n    }\n  };\n\n  const toggleDropdown = () => {\n    if (!disabled) {\n      setIsOpen(!isOpen);\n      setSearchTerm('');\n    }\n  };\n\n  // 기본 select 클래스\n  const baseSelectClasses = `\n    w-full\n    font-sans\n    bg-white\n    border\n    rounded-lg\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n    flex\n    items-center\n    justify-between\n    cursor-pointer\n  `;\n\n  // 상태별 테두리 색상\n  const borderClasses = error\n    ? 'border-red-500 focus:border-red-500'\n    : 'border-gray-300 focus:border-blue-500 hover:border-gray-400';\n\n  // select 클래스 조합\n  const selectClasses = `\n    ${baseSelectClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  return (\n    <div\n      ref={ref}\n      className={`${fullWidth ? 'w-full' : 'w-auto'} relative`}\n    >\n      {/* 라벨 */}\n      {label && (\n        <label\n          htmlFor={selectId}\n          className={`\n            block\n            text-sm\n            font-medium\n            text-gray-700\n            mb-2\n            font-sans\n            ${disabled ? 'opacity-50' : ''}\n            ${labelClassName}\n          `.trim().replace(/\\s+/g, ' ')}\n        >\n          {label}\n        </label>\n      )}\n\n      {/* Select 버튼 */}\n      <div\n        ref={dropdownRef}\n        id={selectId}\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        aria-expanded={isOpen}\n        aria-haspopup=\"listbox\"\n        onClick={toggleDropdown}\n        className={selectClasses}\n      >\n        <div className=\"flex items-center gap-2 flex-1 overflow-hidden\">\n          {selectedOption ? (\n            <span className=\"truncate text-gray-900\">{selectedOption.label}</span>\n          ) : (\n            <span className=\"text-gray-500 truncate\">{placeholder}</span>\n          )}\n        </div>\n\n        {/* 화살표 아이콘 */}\n        <svg\n          className={`w-4 h-4 text-gray-400 transition-transform duration-200 flex-shrink-0 ${\n            isOpen ? 'rotate-180' : ''\n          }`}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      </div>\n\n      {/* 드롭다운 */}\n      {isOpen && (\n        <div\n          className={`absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 overflow-hidden ${dropdownClassName}`}\n        >\n          {/* 옵션 목록 */}\n          <div\n            className=\"overflow-y-auto\"\n            style={{ maxHeight }}\n            role=\"listbox\"\n          >\n            {options.length === 0 ? (\n              <div className=\"px-3 py-8 text-center text-gray-500 text-sm\">\n                {noOptionsText}\n              </div>\n            ) : (\n              options.map(option => {\n                const isSelected = option.value === value;\n\n                return (\n                  <button\n                    key={option.id}\n                    type=\"button\"\n                    role=\"option\"\n                    aria-selected={isSelected}\n                    onClick={() => handleOptionClick(option)}\n                    disabled={option.disabled}\n                    className={`\n                      w-full px-3 py-2 text-left flex items-center gap-2 text-sm cursor-pointer\n                      transition-colors duration-150\n                      ${option.disabled\n                        ? 'opacity-50 cursor-not-allowed bg-gray-50'\n                        : isSelected\n                          ? 'bg-blue-50 text-blue-600'\n                          : 'hover:bg-gray-100 text-gray-900'\n                      }\n                      border-b border-gray-100 last:border-b-0\n                    `.trim().replace(/\\s+/g, ' ')}\n                  >\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"truncate\">{option.label}</div>\n                      {showDescription && option.description && (\n                        <div className=\"text-xs text-gray-500 mt-1 truncate\">\n                          {option.description}\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                );\n              })\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* 에러 메시지 */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* 도움말 텍스트 */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nSelect.displayName = 'Select';\n\nexport { Select };","import React, { forwardRef } from 'react';\n\nexport interface CheckboxProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange'> {\n  /** 체크 상태 */\n  checked?: boolean;\n  /** 값 변경 시 호출되는 함수 */\n  onChange?: (checked: boolean, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /** 라벨 텍스트 */\n  label?: string;\n  /** 에러 메시지 */\n  error?: string;\n  /** 도움말 텍스트 */\n  helper?: string;\n  /** 크기 variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** 중간 상태 (indeterminate) */\n  indeterminate?: boolean;\n  /** 라벨 위치 */\n  labelPosition?: 'left' | 'right';\n  /** 컨테이너 클래스 이름 */\n  containerClassName?: string;\n  /** 라벨 클래스 이름 */\n  labelClassName?: string;\n  /** 에러 텍스트 클래스 이름 */\n  errorClassName?: string;\n  /** 도움말 텍스트 클래스 이름 */\n  helperClassName?: string;\n}\n\nconst Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(({\n  checked = false,\n  onChange,\n  label,\n  error,\n  helper,\n  size = 'md',\n  indeterminate = false,\n  labelPosition = 'right',\n  disabled = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  id,\n  ...props\n}, ref) => {\n  const checkboxId = id || `checkbox-${Math.random().toString(36).substr(2, 9)}`;\n\n  // 크기별 클래스 정의\n  const sizeClasses = {\n    sm: 'w-3 h-3',\n    md: 'w-4 h-4',\n    lg: 'w-5 h-5'\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(event.target.checked, event);\n  };\n\n  // 기본 checkbox 클래스\n  const baseCheckboxClasses = `\n    text-blue-600\n    bg-white\n    border-2\n    rounded\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    focus:border-blue-500\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n  `;\n\n  // 상태별 테두리 색상\n  const borderClasses = error\n    ? 'border-red-500'\n    : 'border-gray-300 hover:border-blue-500';\n\n  // checkbox 클래스 조합\n  const checkboxClasses = `\n    ${baseCheckboxClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  const checkboxElement = (\n    <input\n      ref={ref}\n      id={checkboxId}\n      type=\"checkbox\"\n      checked={checked}\n      onChange={handleChange}\n      disabled={disabled}\n      className={checkboxClasses}\n      {...props}\n    />\n  );\n\n  const labelElement = label && (\n    <label\n      htmlFor={checkboxId}\n      className={`\n        text-gray-700\n        text-xs sm:text-sm\n        font-normal\n        font-sans\n        select-none\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${labelClassName}\n      `.trim().replace(/\\s+/g, ' ')}\n    >\n      {label}\n    </label>\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Checkbox와 라벨 */}\n      <div className={`flex items-center gap-2 ${labelPosition === 'left' ? 'flex-row-reverse' : ''}`}>\n        {checkboxElement}\n        {labelElement}\n      </div>\n\n      {/* 에러 메시지 */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* 도움말 텍스트 */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nCheckbox.displayName = 'Checkbox';\n\nexport { Checkbox };","import React, { forwardRef } from 'react';\n\nexport interface RadioProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange'> {\n  /** 체크 상태 */\n  checked?: boolean;\n  /** 값 변경 시 호출되는 함수 */\n  onChange?: (value: string, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /** Radio 그룹명 */\n  name: string;\n  /** Radio 값 */\n  value: string;\n  /** 라벨 텍스트 */\n  label?: string;\n  /** 에러 메시지 */\n  error?: string;\n  /** 도움말 텍스트 */\n  helper?: string;\n  /** 크기 variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** 라벨 위치 */\n  labelPosition?: 'left' | 'right';\n  /** 컨테이너 클래스 이름 */\n  containerClassName?: string;\n  /** 라벨 클래스 이름 */\n  labelClassName?: string;\n  /** 에러 텍스트 클래스 이름 */\n  errorClassName?: string;\n  /** 도움말 텍스트 클래스 이름 */\n  helperClassName?: string;\n  /** 자식 요소 (라벨 대신 사용) */\n  children?: React.ReactNode;\n}\n\nconst Radio = forwardRef<HTMLInputElement, RadioProps>(({\n  checked = false,\n  onChange,\n  name,\n  value,\n  label,\n  error,\n  helper,\n  size = 'md',\n  labelPosition = 'right',\n  disabled = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  children,\n  id,\n  ...props\n}, ref) => {\n  const radioId = id || `radio-${Math.random().toString(36).substr(2, 9)}`;\n\n  // 크기별 클래스 정의\n  const sizeClasses = {\n    sm: 'w-3 h-3',\n    md: 'w-4 h-4',\n    lg: 'w-5 h-5'\n  };\n\n  const dotSizeClasses = {\n    sm: 'w-1.5 h-1.5',\n    md: 'w-2.5 h-2.5',\n    lg: 'w-3 h-3'\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(event.target.value, event);\n  };\n\n  // 라벨 텍스트 결정\n  const labelText = children || label;\n\n  const radioElement = (\n    <div className=\"relative inline-flex items-center\">\n      <input\n        ref={ref}\n        id={radioId}\n        type=\"radio\"\n        name={name}\n        value={value}\n        checked={checked}\n        onChange={handleChange}\n        disabled={disabled}\n        className=\"sr-only\"\n        {...props}\n      />\n      <span\n        className={`\n          flex-shrink-0 rounded-full flex items-center justify-center\n          border-2 transition-all duration-200\n          ${sizeClasses[size]}\n          ${checked\n            ? error\n              ? 'border-red-500 bg-red-500'\n              : 'border-blue-600 bg-blue-600'\n            : error\n              ? 'border-red-500'\n              : 'border-gray-300 hover:border-blue-600'\n          }\n          ${disabled\n            ? 'opacity-50 cursor-not-allowed'\n            : 'cursor-pointer'\n          }\n          ${className}\n        `.trim().replace(/\\s+/g, ' ')}\n      >\n        <span\n          className={`\n            rounded-full transition-all duration-200 bg-white\n            ${dotSizeClasses[size]}\n            ${checked ? 'opacity-100 scale-100' : 'opacity-0 scale-50'}\n          `.trim().replace(/\\s+/g, ' ')}\n        />\n      </span>\n    </div>\n  );\n\n  const labelElement = labelText && (\n    <label\n      htmlFor={radioId}\n      className={`\n        text-gray-700\n        text-xs sm:text-sm\n        font-normal\n        font-sans\n        whitespace-nowrap\n        select-none\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${labelClassName}\n      `.trim().replace(/\\s+/g, ' ')}\n    >\n      {labelText}\n    </label>\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Radio와 라벨 */}\n      <div className={`inline-flex items-center gap-2 ${labelPosition === 'left' ? 'flex-row-reverse' : ''}`}>\n        {radioElement}\n        {labelElement}\n      </div>\n\n      {/* 에러 메시지 */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* 도움말 텍스트 */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nRadio.displayName = 'Radio';\n\nexport { Radio };","import React, { forwardRef } from 'react';\n\nexport interface SwitchProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange'> {\n  /** 활성화 상태 */\n  checked?: boolean;\n  /** 값 변경 시 호출되는 함수 */\n  onChange?: (checked: boolean, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /** 라벨 텍스트 */\n  label?: string;\n  /** 에러 메시지 */\n  error?: string;\n  /** 도움말 텍스트 */\n  helper?: string;\n  /** 크기 variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** 라벨 위치 */\n  labelPosition?: 'left' | 'right';\n  /** 활성화 시 표시할 텍스트 */\n  onText?: string;\n  /** 비활성화 시 표시할 텍스트 */\n  offText?: string;\n  /** 컨테이너 클래스 이름 */\n  containerClassName?: string;\n  /** 라벨 클래스 이름 */\n  labelClassName?: string;\n  /** 에러 텍스트 클래스 이름 */\n  errorClassName?: string;\n  /** 도움말 텍스트 클래스 이름 */\n  helperClassName?: string;\n}\n\nconst Switch = forwardRef<HTMLInputElement, SwitchProps>(({\n  checked = false,\n  onChange,\n  label,\n  error,\n  helper,\n  size = 'md',\n  labelPosition = 'right',\n  onText,\n  offText,\n  disabled = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  id,\n  ...props\n}, ref) => {\n  const switchId = id || `switch-${Math.random().toString(36).substr(2, 9)}`;\n\n  // 크기별 클래스 정의\n  const sizeClasses = {\n    sm: {\n      track: 'w-8 h-4',\n      thumb: 'w-3 h-3',\n      translate: 'translate-x-4',\n      text: 'text-xs px-1'\n    },\n    md: {\n      track: 'w-10 h-5',\n      thumb: 'w-4 h-4',\n      translate: 'translate-x-5',\n      text: 'text-xs px-1.5'\n    },\n    lg: {\n      track: 'w-12 h-6',\n      thumb: 'w-5 h-5',\n      translate: 'translate-x-6',\n      text: 'text-sm px-2'\n    }\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(event.target.checked, event);\n  };\n\n  const currentSize = sizeClasses[size];\n\n  // track 클래스\n  const trackClasses = `\n    relative inline-flex items-center\n    ${currentSize.track}\n    rounded-full\n    transition-colors duration-200 ease-in-out\n    focus-within:outline-none\n    focus-within:ring-2\n    focus-within:ring-blue-500/20\n    ${checked\n      ? error\n        ? 'bg-red-500'\n        : 'bg-blue-600'\n      : error\n        ? 'bg-red-200'\n        : 'bg-gray-300'\n    }\n    ${disabled\n      ? 'opacity-50 cursor-not-allowed'\n      : 'cursor-pointer'\n    }\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  // thumb 클래스\n  const thumbClasses = `\n    inline-block\n    ${currentSize.thumb}\n    bg-white\n    rounded-full\n    shadow\n    transform\n    transition-transform duration-200 ease-in-out\n    ${checked ? currentSize.translate : 'translate-x-0.5'}\n  `.trim().replace(/\\s+/g, ' ');\n\n  const switchElement = (\n    <div className=\"relative inline-flex\">\n      <input\n        ref={ref}\n        id={switchId}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={handleChange}\n        disabled={disabled}\n        className=\"sr-only\"\n        {...props}\n      />\n      <label\n        htmlFor={switchId}\n        className={trackClasses}\n      >\n        {/* 상태 텍스트 (선택사항) */}\n        {(onText || offText) && (\n          <span className={`\n            absolute inset-0 flex items-center justify-center\n            font-sans font-medium text-white\n            ${currentSize.text}\n            pointer-events-none\n          `}>\n            {checked ? onText : offText}\n          </span>\n        )}\n\n        {/* Thumb */}\n        <span className={thumbClasses} />\n      </label>\n    </div>\n  );\n\n  const labelElement = label && (\n    <label\n      htmlFor={switchId}\n      className={`\n        text-gray-700\n        text-xs sm:text-sm\n        font-normal\n        font-sans\n        select-none\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${labelClassName}\n      `.trim().replace(/\\s+/g, ' ')}\n    >\n      {label}\n    </label>\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Switch와 라벨 */}\n      <div className={`inline-flex items-center gap-3 ${labelPosition === 'left' ? 'flex-row-reverse' : ''}`}>\n        {switchElement}\n        {labelElement}\n      </div>\n\n      {/* 에러 메시지 */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* 도움말 텍스트 */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nSwitch.displayName = 'Switch';\n\nexport { Switch };","import React, { forwardRef, useState, useCallback } from 'react';\n\nexport interface TextAreaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  /** TextArea 라벨 */\n  label?: string;\n  /** 에러 메시지 */\n  error?: string;\n  /** 도움말 텍스트 */\n  helper?: string;\n  /** 크기 variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** 전체 너비 사용 여부 */\n  fullWidth?: boolean;\n  /** 자동 리사이징 활성화 */\n  autoResize?: boolean;\n  /** 최소 높이 */\n  minHeight?: number;\n  /** 최대 높이 */\n  maxHeight?: number;\n  /** 글자 수 제한 */\n  maxLength?: number;\n  /** 글자 수 표시 여부 */\n  showCount?: boolean;\n  /** 컨테이너 클래스 이름 */\n  containerClassName?: string;\n  /** 라벨 클래스 이름 */\n  labelClassName?: string;\n  /** 에러 텍스트 클래스 이름 */\n  errorClassName?: string;\n  /** 도움말 텍스트 클래스 이름 */\n  helperClassName?: string;\n  /** 글자 수 카운터 클래스 이름 */\n  countClassName?: string;\n}\n\nconst TextArea = forwardRef<HTMLTextAreaElement, TextAreaProps>(({\n  label,\n  error,\n  helper,\n  size = 'md',\n  fullWidth = false,\n  autoResize = false,\n  minHeight = 80,\n  maxHeight = 300,\n  maxLength,\n  showCount = false,\n  disabled = false,\n  required = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  countClassName = '',\n  value,\n  onChange,\n  id,\n  ...props\n}, ref) => {\n  const textareaId = id || `textarea-${Math.random().toString(36).substr(2, 9)}`;\n  const [textareaHeight, setTextareaHeight] = useState<number>(minHeight);\n\n  // 크기별 클래스 정의\n  const sizeClasses = {\n    sm: 'px-2 py-1.5 text-sm',\n    md: 'px-3 py-2 text-sm',\n    lg: 'px-4 py-3 text-base'\n  };\n\n  // 자동 리사이징 핸들러\n  const handleAutoResize = useCallback((element: HTMLTextAreaElement) => {\n    if (!autoResize) return;\n\n    // 높이 초기화\n    element.style.height = 'auto';\n\n    // 스크롤 높이 계산\n    const scrollHeight = element.scrollHeight;\n    const newHeight = Math.min(Math.max(scrollHeight, minHeight), maxHeight);\n\n    setTextareaHeight(newHeight);\n    element.style.height = `${newHeight}px`;\n  }, [autoResize, minHeight, maxHeight]);\n\n  // 값 변경 핸들러\n  const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    // 최대 길이 체크\n    if (maxLength && event.target.value.length > maxLength) {\n      return;\n    }\n\n    onChange?.(event);\n\n    // 자동 리사이징\n    if (autoResize) {\n      handleAutoResize(event.target);\n    }\n  };\n\n  // 기본 textarea 클래스\n  const baseTextareaClasses = `\n    w-full\n    font-sans\n    text-gray-900\n    bg-white\n    border\n    rounded-lg\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n    resize-none\n  `;\n\n  // 상태별 테두리 색상\n  const borderClasses = error\n    ? 'border-red-500 focus:border-red-500'\n    : 'border-gray-300 focus:border-blue-500 hover:border-gray-400';\n\n  // textarea 클래스 조합\n  const textareaClasses = `\n    ${baseTextareaClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${autoResize ? 'resize-none' : 'resize-y'}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  // 현재 글자 수 계산\n  const currentLength = typeof value === 'string' ? value.length : 0;\n  const isOverLimit = maxLength ? currentLength > maxLength : false;\n\n  return (\n    <div className={`${fullWidth ? 'w-full' : 'w-auto'} ${containerClassName}`}>\n      {/* 라벨 및 글자 수 표시 */}\n      <div className=\"flex justify-between items-center mb-2\">\n        {/* 라벨 */}\n        {label && (\n          <label\n            htmlFor={textareaId}\n            className={`\n              block\n              text-sm\n              font-medium\n              text-gray-700\n              font-sans\n              ${required ? \"after:content-['*'] after:text-red-500 after:ml-1\" : ''}\n              ${disabled ? 'opacity-50' : ''}\n              ${labelClassName}\n            `.trim().replace(/\\s+/g, ' ')}\n          >\n            {label}\n          </label>\n        )}\n\n        {/* 글자 수 표시 */}\n        {showCount && (maxLength || currentLength > 0) && (\n          <span className={`\n            text-sm\n            font-sans\n            ${isOverLimit\n              ? 'text-red-500'\n              : currentLength / (maxLength || 100) > 0.8\n                ? 'text-orange-500'\n                : 'text-gray-500'\n            }\n            ${countClassName}\n          `.trim().replace(/\\s+/g, ' ')}>\n            {currentLength}{maxLength && `/${maxLength}`}\n          </span>\n        )}\n      </div>\n\n      {/* TextArea 요소 */}\n      <textarea\n        ref={ref}\n        id={textareaId}\n        value={value}\n        onChange={handleChange}\n        disabled={disabled}\n        required={required}\n        maxLength={maxLength}\n        className={textareaClasses}\n        style={autoResize ? { height: textareaHeight, minHeight, maxHeight } : { minHeight }}\n        {...props}\n      />\n\n      {/* 하단 메시지 영역 */}\n      <div className=\"flex justify-between items-start mt-2\">\n        {/* 에러 메시지 또는 도움말 텍스트 */}\n        <div className=\"flex-1\">\n          {error && (\n            <p className={`\n              text-sm\n              text-red-500\n              font-sans\n              ${errorClassName}\n            `.trim().replace(/\\s+/g, ' ')}>\n              {error}\n            </p>\n          )}\n\n          {helper && !error && (\n            <p className={`\n              text-sm\n              text-gray-500\n              font-sans\n              ${helperClassName}\n            `.trim().replace(/\\s+/g, ' ')}>\n              {helper}\n            </p>\n          )}\n        </div>\n\n        {/* 하단 글자 수 표시 (상단에 없을 때만) */}\n        {showCount && !label && (maxLength || currentLength > 0) && (\n          <span className={`\n            text-sm\n            font-sans\n            ml-2\n            flex-shrink-0\n            ${isOverLimit\n              ? 'text-red-500'\n              : currentLength / (maxLength || 100) > 0.8\n                ? 'text-orange-500'\n                : 'text-gray-500'\n            }\n            ${countClassName}\n          `.trim().replace(/\\s+/g, ' ')}>\n            {currentLength}{maxLength && `/${maxLength}`}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n});\n\nTextArea.displayName = 'TextArea';\n\nexport { TextArea };","'use client';\n\nimport React from 'react';\n\nexport interface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** 스켈레톤 종류 */\n  variant?: 'rectangular' | 'circular' | 'rounded' | 'text';\n  /** 너비 (CSS 단위) */\n  width?: string | number;\n  /** 높이 (CSS 단위) */\n  height?: string | number;\n  /** 애니메이션 사용 여부 */\n  animated?: boolean;\n  /** 밝은 테마 사용 여부 */\n  light?: boolean;\n}\n\nfunction Skeleton({\n  variant = 'rectangular',\n  width,\n  height,\n  animated = true,\n  light = false,\n  className = '',\n  style,\n  ...props\n}: SkeletonProps) {\n  // variant별 기본 스타일\n  const variantClasses = {\n    rectangular: 'rounded-md',\n    circular: 'rounded-full',\n    rounded: 'rounded-lg',\n    text: 'rounded-sm'\n  };\n\n  // 기본 크기 설정 (variant별)\n  const getDefaultStyles = (variant: string): React.CSSProperties => {\n    switch (variant) {\n      case 'rectangular':\n        return { width: width || '100%', height: height || '1.2rem' };\n      case 'circular':\n        return { width: width || '2.5rem', height: height || width || '2.5rem' };\n      case 'rounded':\n        return { width: width || '100%', height: height || '1.5rem' };\n      case 'text':\n        return { width: width || '100%', height: height || '1rem' };\n      default:\n        return { width: width || '100%', height: height || '1.2rem' };\n    }\n  };\n\n  // 배경색 (라이트/다크)\n  const backgroundClass = light \n    ? 'bg-gray-100'\n    : 'bg-gray-200 dark:bg-gray-700';\n\n  // 스타일 조합\n  const combinedStyle: React.CSSProperties = {\n    ...getDefaultStyles(variant),\n    ...style\n  };\n\n  return (\n    <div\n      className={`\n        ${backgroundClass}\n        ${variantClasses[variant]}\n        ${animated ? 'animate-pulse' : ''}\n        ${className}\n      `.trim().replace(/\\s+/g, ' ')}\n      style={combinedStyle}\n      {...props}\n    />\n  );\n}\n\n// 미리 정의된 스켈레톤 컴포넌트들\nconst SkeletonText = ({ lines = 3, className = '', ...props }: { lines?: number } & SkeletonProps) => (\n  <div className={`space-y-2 ${className}`} {...props}>\n    {Array.from({ length: lines }).map((_, index) => (\n      <Skeleton \n        key={index} \n        variant=\"text\" \n        width={index === lines - 1 ? '75%' : '100%'}\n        height=\"0.875rem\"\n      />\n    ))}\n  </div>\n);\n\nconst SkeletonAvatar = ({ size = 'md', ...props }: { size?: 'sm' | 'md' | 'lg' | 'xl' } & SkeletonProps) => {\n  const sizes = {\n    sm: '2rem',\n    md: '2.5rem',\n    lg: '3rem',\n    xl: '4rem'\n  };\n\n  return (\n    <Skeleton \n      variant=\"circular\" \n      width={sizes[size]} \n      height={sizes[size]}\n      {...props}\n    />\n  );\n};\n\nconst SkeletonButton = ({ variant: buttonVariant = 'md', ...props }: { variant?: 'sm' | 'md' | 'lg' } & SkeletonProps) => {\n  const getButtonSize = (size: string) => {\n    switch (size) {\n      case 'sm':\n        return { width: '4rem', height: '2rem' };\n      case 'lg':\n        return { width: '8rem', height: '3rem' };\n      default:\n        return { width: '6rem', height: '2.5rem' };\n    }\n  };\n\n  const buttonSize = getButtonSize(buttonVariant);\n\n  return (\n    <Skeleton \n      variant=\"rounded\"\n      width={buttonSize.width}\n      height={buttonSize.height}\n      {...props}\n    />\n  );\n};\n\nconst SkeletonCard = ({ ...props }: SkeletonProps) => (\n  <div className=\"p-4 border border-gray-200 rounded-lg space-y-4\" {...props}>\n    <div className=\"flex items-center space-x-3\">\n      <SkeletonAvatar size=\"md\" />\n      <div className=\"flex-1 space-y-2\">\n        <Skeleton variant=\"text\" width=\"60%\" />\n        <Skeleton variant=\"text\" width=\"40%\" />\n      </div>\n    </div>\n    <SkeletonText lines={3} />\n    <div className=\"flex space-x-2\">\n      <SkeletonButton variant=\"sm\" />\n      <SkeletonButton variant=\"sm\" />\n    </div>\n  </div>\n);\n\nexport { \n  Skeleton,\n  SkeletonText,\n  SkeletonAvatar,\n  SkeletonButton,\n  SkeletonCard\n}; \n","// import useAuthStore from \"@stores/AuthStore\";\nimport axios, { InternalAxiosRequestConfig } from 'axios';\n\nconst baseURL = process.env.NEXT_PUBLIC_API_URL;\n\n// axios 설정 타입 확장\ninterface CustomAxiosRequestConfig extends InternalAxiosRequestConfig {\n  metadata?: {\n    skipLoader?: boolean;\n    loaderText?: string;\n    useMiniLoader?: boolean; // 작은 로더 사용 여부\n  };\n}\n\n// 토큰은 시큐어 쿠키에 저장되어있다고 가정하여 withCredentials 옵션을 추가함\nexport const axiosInstance = axios.create({\n  baseURL,\n  timeout: 60 * 60 * 1000,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  },\n  withCredentials: true,\n});\n\n// API 로딩 상태 관리를 위한 글로벌 함수들\nlet globalShowLoader: ((text?: string) => void) | null = null;\nlet globalHideLoader: (() => void) | null = null;\nlet globalSetLoaderText: ((text: string) => void) | null = null;\nlet globalShowMiniLoader: ((text?: string) => void) | null = null;\nlet globalHideMiniLoader: (() => void) | null = null;\nlet globalSetMiniLoaderText: ((text: string) => void) | null = null;\nlet activeRequestsCount = 0;\nlet activeMiniRequestsCount = 0;\n\n// 로더 함수들을 설정하는 함수 (클라이언트 사이드에서 호출)\nexport const setGlobalLoaderFunctions = (\n  showLoader: (text?: string) => void,\n  hideLoader: () => void,\n  setLoaderText: (text: string) => void,\n  showMiniLoader?: (text?: string) => void,\n  hideMiniLoader?: () => void,\n  setMiniLoaderText?: (text: string) => void\n) => {\n  globalShowLoader = showLoader;\n  globalHideLoader = hideLoader;\n  globalSetLoaderText = setLoaderText;\n  globalShowMiniLoader = showMiniLoader || null;\n  globalHideMiniLoader = hideMiniLoader || null;\n  globalSetMiniLoaderText = setMiniLoaderText || null;\n};\n\n// 요청 인터셉터 추가 - FormData 감지 및 로더 표시 + Authorization 헤더 추가\naxiosInstance.interceptors.request.use(async (config: CustomAxiosRequestConfig) => {\n  // API 로더 비활성화 옵션이 없는 경우에만 로더 표시\n  if (!config.metadata?.skipLoader) {\n    const useMiniLoader = config.metadata?.useMiniLoader;\n    const loaderText = config.metadata?.loaderText || (useMiniLoader ? '처리중...' : '요청중입니다..');\n    \n    if (useMiniLoader && globalShowMiniLoader) {\n      // 작은 로더 사용\n      if (activeMiniRequestsCount === 0) {\n        globalShowMiniLoader(loaderText);\n      }\n      activeMiniRequestsCount++;\n    } else if (!useMiniLoader && globalShowLoader) {\n      // 전체 화면 로더 사용\n      if (activeRequestsCount === 0) {\n        globalShowLoader(loaderText);\n      }\n      activeRequestsCount++;\n    }\n  }\n\n  // FormData인 경우 Content-Type 헤더를 삭제하여 브라우저가 자동으로 설정하도록 함\n  if (config.data instanceof FormData) {\n    if (config.headers) {\n      delete config.headers['Content-Type'];\n    }\n  }\n\n  // 클라이언트 사이드에서 토큰 유효성 검증 후 Authorization 헤더에 추가\n  if (typeof window !== 'undefined') {\n    try {\n      // 쿠키에서 세션 정보 읽기\n      const sessionCookie = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('sb-access-token='))\n        ?.split('=')[1];\n\n      if (sessionCookie) {\n        // URL 디코딩 후 JSON 파싱\n        const decodedSession = decodeURIComponent(sessionCookie);\n        const sessionData = JSON.parse(decodedSession);\n\n        // access_token 추출\n        const accessToken = sessionData?.access_token;\n\n        if (accessToken) {\n          // 토큰 만료 검증 (동적 import로 순환 참조 방지)\n          const { decodeJWTPayload, isTokenExpired, removeExpiredTokenFromCookie } = await import('../utils/jwtUtil');\n          const payload = decodeJWTPayload(accessToken);\n          \n          if (payload && !isTokenExpired(payload)) {\n            // 유효한 토큰인 경우에만 헤더 설정\n            if (config.headers) {\n              config.headers.Authorization = `Bearer ${accessToken}`;\n            }\n          } else {\n            // 만료되거나 유효하지 않은 토큰 제거\n            console.log('🗑️ axios 인터셉터: 만료된 토큰 감지, 쿠키에서 제거');\n            removeExpiredTokenFromCookie();\n          }\n        }\n      }\n    } catch (error) {\n      // 에러 발생 시 만료된 토큰 정리 (안전장치)\n      try {\n        const { removeExpiredTokenFromCookie } = await import('../utils/jwtUtil');\n        removeExpiredTokenFromCookie();\n      } catch (importError) {\n        console.error('JWT 유틸리티 import 실패:', importError);\n      }\n    }\n  }\n\n  return config;\n});\n\n// 응답 인터셉터 - 로더 숨김 및 에러 처리\naxiosInstance.interceptors.response.use(\n  async response => {\n    // 로더 카운트 감소 및 숨김\n    const config = response.config as CustomAxiosRequestConfig;\n    if (!config.metadata?.skipLoader) {\n      const useMiniLoader = config.metadata?.useMiniLoader;\n      \n      if (useMiniLoader && globalHideMiniLoader) {\n        // 작은 로더 숨김\n        activeMiniRequestsCount = Math.max(0, activeMiniRequestsCount - 1);\n        if (activeMiniRequestsCount === 0) {\n          globalHideMiniLoader();\n        }\n      } else if (!useMiniLoader && globalHideLoader) {\n        // 전체 화면 로더 숨김\n        activeRequestsCount = Math.max(0, activeRequestsCount - 1);\n        if (activeRequestsCount === 0) {\n          globalHideLoader();\n        }\n      }\n    }\n\n    // 응답 성공이지만 인증 관련 에러인 경우 체크 (successOrNot: \"N\"인 경우)\n    if (response.data?.successOrNot === 'N') {\n      const statusCode = response.data?.statusCode;\n      const errorMessage = response.data?.message || response.data?.data;\n\n      // 서버에서 명확한 인증 관련 에러를 반환한 경우만 처리\n      if (\n        statusCode === 'FORBIDDEN' &&\n        typeof errorMessage === 'string' &&\n        (errorMessage.includes('해당 게시글에 접근하려면 로그인이 필요') ||\n          errorMessage.includes('로그인이 필요한 게시글') ||\n          errorMessage.includes('로그인이 필요한 게시판'))\n      ) {\n        // 실제 세션 상태를 확인 후 이벤트 발생\n        const { clientSupabase } = await import('./Supabase/client');\n        const {\n          data: { session },\n        } = await clientSupabase.auth.getSession();\n\n        if (!session || !session.access_token) {\n          // 세션이 정말 없는 경우에만 이벤트 발생\n          const event = new CustomEvent('auth-error', {\n            detail: {\n              type: 'AUTH_REQUIRED',\n              message: errorMessage,\n            },\n          });\n          window.dispatchEvent(event);\n        }\n      }\n    }\n\n    return response;\n  },\n  async error => {\n    // 에러 시에도 로더 숨김\n    const config = error.config as CustomAxiosRequestConfig;\n    if (!config?.metadata?.skipLoader) {\n      const useMiniLoader = config?.metadata?.useMiniLoader;\n      \n      if (useMiniLoader && globalHideMiniLoader) {\n        // 작은 로더 숨김\n        activeMiniRequestsCount = Math.max(0, activeMiniRequestsCount - 1);\n        if (activeMiniRequestsCount === 0) {\n          globalHideMiniLoader();\n        }\n      } else if (!useMiniLoader && globalHideLoader) {\n        // 전체 화면 로더 숨김\n        activeRequestsCount = Math.max(0, activeRequestsCount - 1);\n        if (activeRequestsCount === 0) {\n          globalHideLoader();\n        }\n      }\n    }\n\n    // 401/403 에러 시 토큰 갱신 후 재요청 시도\n    if (\n      (error.response?.status === 401 || error.response?.status === 403) &&\n      !error.config._retried\n    ) {\n      try {\n        console.log('🔄 axios: 401/403 에러 감지, 토큰 갱신 시도');\n\n        // 클라이언트 수파베이스 세션 확인 및 갱신\n        const { clientSupabase } = await import('./Supabase/client');\n        const {\n          data: { session },\n          error: sessionError,\n        } = await clientSupabase.auth.getSession();\n\n        if (sessionError || !session) {\n          console.error('❌ axios: 세션 확인 실패 또는 세션 없음');\n          throw new Error('세션이 유효하지 않습니다.');\n        }\n\n        // 토큰 갱신 시도\n        const { data: refreshData, error: refreshError } =\n          await clientSupabase.auth.refreshSession();\n\n        if (refreshError || !refreshData.session) {\n          console.error('❌ axios: 토큰 갱신 실패');\n          throw new Error('토큰 갱신에 실패했습니다.');\n        }\n\n        console.log('✅ axios: 토큰 갱신 성공');\n\n        // 갱신된 토큰으로 원래 요청 재시도\n        const originalConfig = error.config;\n        originalConfig._retried = true; // 무한 루프 방지\n        originalConfig.headers.Authorization = `Bearer ${refreshData.session.access_token}`;\n\n        console.log('🔄 axios: 갱신된 토큰으로 요청 재시도');\n        return axiosInstance(originalConfig);\n      } catch (refreshError) {\n        console.error('❌ axios: 토큰 갱신 과정에서 오류:', refreshError);\n\n        // 갱신 실패 시 로그아웃 처리\n        const { clientSupabase } = await import('./Supabase/client');\n        await clientSupabase.auth.signOut();\n\n        const event = new CustomEvent('auth-error', {\n          detail: { type: 'TOKEN_INVALID' },\n        });\n        window.dispatchEvent(event);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// 로더 텍스트를 동적으로 변경하는 함수\nexport const setApiLoaderText = (text: string) => {\n  if (globalSetLoaderText) {\n    globalSetLoaderText(text);\n  }\n};\n\n// 커스텀 로더 텍스트로 API 요청을 수행하는 헬퍼 함수\nexport const apiWithCustomLoader = <T = any>(\n  apiCall: () => Promise<T>,\n  loaderText: string\n): Promise<T> => {\n  // 요청 전에 로더 텍스트 설정\n  setApiLoaderText(loaderText);\n  return apiCall();\n};\n\nexport default axiosInstance;\n","import { ReactNode } from 'react';\n\nexport interface OnlyChildrenProps {\n  children: ReactNode;\n}\n\nexport interface UserInfo {\n  name: string;\n  email?: string;\n  profileImg?: string;\n}\n\nexport enum CommonConstants {\n  SESSION_NAME = 'SESSION_NAME', // 성공\n  YES_FLAG = 'Y', // 예\n  NO_FLAG = 'N', // 아니오\n  NA = 'NA', // 미지정\n}\n\nexport enum CommonStatus {\n  SUCCESS = 200, // 성공\n  BAD_REQUEST = 400, // 잘못된 요청\n  FAIL = 400, // 실패\n  UNAUTHORIZED = 401, // 인증 오류\n  FORBIDDEN = 403, // 권한 오류\n  NOT_FOUND = 404, // 존재하지 않음\n  INTERNAL_SERVER_ERROR = 500, // 서버 오류\n  BAD_GATEWAY = 502, // 게이트웨이 오류\n  SERVICE_UNAVAILABLE = 503, // 서비스 불가\n  GATEWAY_TIMEOUT = 504, // 게이트웨이 타임아웃\n}\n\nexport interface CommonResponse<T> {\n  successOrNot: string;\n  statusCode: CommonStatus;\n  status?: number;\n  message?: string;\n  data: T | null;\n}\n\nexport interface LevelInfo {\n  level: number;\n  required_points: number;\n}\n\nexport interface Pagination {\n  currentPage: number;\n  totalPages: number;\n  totalItems: number;\n  itemsPerPage: number;\n  hasNextPage: boolean;\n  hasPrevPage: boolean;\n}\n","import axiosInstance from \"../config/axios\";\nimport { CommonResponse, CommonStatus } from \"../types/common\";\nimport { AxiosResponse, AxiosError } from \"axios\";\n\n/**\n * HTTP Method types for API requests\n */\nexport type HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\n/**\n * Request options for API calls\n */\nexport interface RequestOptions {\n  headers?: Record<string, string>;\n  params?: Record<string, any>;\n  timeout?: number;\n  skipLoader?: boolean;\n  useMiniLoader?: boolean;\n  loaderText?: string;\n}\n\n/**\n * Base API Service Class\n * Provides standardized HTTP methods with global loading indicator integration\n * and consistent error handling following CommonResponse<T> pattern\n */\nexport class BaseService<T = any> {\n  protected baseUrl: string;\n  protected defaultHeaders: Record<string, string>;\n\n  constructor(baseUrl: string = '', defaultHeaders: Record<string, string> = {}) {\n    this.baseUrl = baseUrl;\n    this.defaultHeaders = {\n      'Content-Type': 'application/json',\n      ...defaultHeaders,\n    };\n  }\n\n  /**\n   * Handle API errors and transform them to CommonResponse format\n   */\n  protected handleError<R>(error: any): CommonResponse<R> {\n    if (error instanceof AxiosError) {\n      const status = error.response?.status || CommonStatus.INTERNAL_SERVER_ERROR;\n      const message = error.response?.data?.message || error.message || 'An error occurred';\n      \n      return {\n        successOrNot: 'N',\n        statusCode: status,\n        message,\n        data: null,\n      };\n    }\n\n    return {\n      successOrNot: 'N',\n      statusCode: CommonStatus.INTERNAL_SERVER_ERROR,\n      message: error.message || 'Unknown error occurred',\n      data: null,\n    };\n  }\n\n  /**\n   * Build complete endpoint URL\n   */\n  protected buildUrl(endpoint: string): string {\n    if (endpoint.startsWith('http')) {\n      return endpoint;\n    }\n    return `${this.baseUrl}${endpoint.startsWith('/') ? endpoint : `/${endpoint}`}`;\n  }\n\n  /**\n   * Prepare request config with options\n   */\n  protected prepareConfig(options?: RequestOptions) {\n    const config: any = {\n      headers: {\n        ...this.defaultHeaders,\n        ...options?.headers,\n      },\n      params: options?.params,\n      timeout: options?.timeout,\n    };\n\n    // Add metadata for loader control\n    if (options?.skipLoader || options?.useMiniLoader || options?.loaderText) {\n      config.metadata = {\n        skipLoader: options.skipLoader,\n        useMiniLoader: options.useMiniLoader,\n        loaderText: options.loaderText,\n      };\n    }\n\n    return config;\n  }\n\n  // Standard HTTP methods with global loader\n  public async get<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.get(url, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async post<R = T, D = any>(\n    endpoint: string, \n    data?: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.post(url, data, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async put<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.put(url, data, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async patch<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.patch(url, data, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async delete<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.delete(url, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  // Silent methods (bypass global loader)\n  public async getSilent<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    return this.get<R>(endpoint, { ...options, skipLoader: true });\n  }\n\n  public async postSilent<R = T, D = any>(\n    endpoint: string, \n    data?: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.post<R, D>(endpoint, data, { ...options, skipLoader: true });\n  }\n\n  public async putSilent<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.put<R, D>(endpoint, data, { ...options, skipLoader: true });\n  }\n\n  public async patchSilent<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.patch<R, D>(endpoint, data, { ...options, skipLoader: true });\n  }\n\n  public async deleteSilent<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    return this.delete<R>(endpoint, { ...options, skipLoader: true });\n  }\n\n  // Mini loader methods (use mini loader instead of global loader)\n  public async getMini<R = T>(\n    endpoint: string, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.get<R>(endpoint, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async postMini<R = T, D = any>(\n    endpoint: string, \n    data?: D, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.post<R, D>(endpoint, data, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async putMini<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.put<R, D>(endpoint, data, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async patchMini<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.patch<R, D>(endpoint, data, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async deleteMini<R = T>(\n    endpoint: string, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.delete<R>(endpoint, { ...options, useMiniLoader: true, loaderText: text });\n  }\n}\n\n// Legacy support - functional interface (deprecated, use BaseService class instead)\nconst baseService = {\n  async get<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.get<T>(endpoint);\n  },\n\n  async post<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.post<T, D>(endpoint, data);\n  },\n\n  async put<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.put<T, D>(endpoint, data);\n  },\n\n  async patch<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.patch<T, D>(endpoint, data);\n  },\n\n  async delete<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.delete<T>(endpoint);\n  },\n\n  // Silent methods\n  async getSilent<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.getSilent<T>(endpoint);\n  },\n\n  async postSilent<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.postSilent<T, D>(endpoint, data);\n  },\n\n  async putSilent<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.putSilent<T, D>(endpoint, data);\n  },\n\n  async deleteSilent<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.deleteSilent<T>(endpoint);\n  },\n\n  // Mini loader methods\n  async getMini<T>(endpoint: string, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.getMini<T>(endpoint, text);\n  },\n\n  async postMini<T, D>(endpoint: string, data: D, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.postMini<T, D>(endpoint, data, text);\n  },\n\n  async putMini<T, D>(endpoint: string, data: D, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.putMini<T, D>(endpoint, data, text);\n  },\n\n  async patchMini<T, D>(endpoint: string, data: D, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.patchMini<T, D>(endpoint, data, text);\n  },\n\n  async deleteMini<T>(endpoint: string, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.deleteMini<T>(endpoint, text);\n  },\n};\n\nexport { baseService };\nexport default BaseService;\n","import BaseService, { baseService } from './baseService';\nimport type { CommonResponse } from '../types/common';\nimport type { User } from '../types/User';\n\n/**\n * User service interfaces and types\n */\nexport interface UserServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface UserPermission {\n  level: number;\n  isAdmin: boolean;\n  permissions: string[];\n}\n\nexport interface UserUpdateData {\n  profileImage?: string;\n  nickname?: string;\n  email?: string;\n  bio?: string;\n}\n\nexport interface UserSearchOptions {\n  nickname?: string;\n  needPoint?: boolean;\n  includePermissions?: boolean;\n}\n\n/**\n * User Service Class\n * Handles all user-related API operations with consistent error handling\n * and global loading integration\n */\nexport class UserService extends BaseService<User> {\n  constructor(options?: UserServiceOptions) {\n    super(options?.baseUrl || '/api/user', options?.defaultHeaders);\n  }\n\n  /**\n   * Get current user's information\n   */\n  async getMyInfo(): Promise<CommonResponse<User>> {\n    return this.getMini<User>('/me', '사용자 정보 확인중...');\n  }\n\n  /**\n   * Get current user's permissions\n   * @deprecated Use getMyInfo() instead as it includes permission information\n   */\n  async getMyPermission(): Promise<CommonResponse<UserPermission>> {\n    return this.get<UserPermission>('/me/permission');\n  }\n\n  /**\n   * Get current user's point balance\n   */\n  async getMyPoint(): Promise<CommonResponse<number>> {\n    return this.getMini<number>('/me/point', '포인트 조회중...');\n  }\n\n  /**\n   * Get realtime user information (for live updates)\n   */\n  async getRealtimeUser(): Promise<CommonResponse<string>> {\n    return this.getSilent<string>('/realtime');\n  }\n\n  /**\n   * Get current user's ID\n   */\n  async getUserId(): Promise<CommonResponse<string>> {\n    return this.get<string>('/id');\n  }\n\n  /**\n   * Get current user's UUID\n   */\n  async getUserUuid(): Promise<CommonResponse<string>> {\n    return this.get<string>('/uuid');\n  }\n\n  /**\n   * Update user profile information\n   */\n  async updateUserProfile(data: UserUpdateData): Promise<CommonResponse<User>> {\n    return this.patch<User, UserUpdateData>('/profile', data);\n  }\n\n  /**\n   * Refresh current user information (bypasses cache)\n   */\n  async refreshMyInfo(): Promise<CommonResponse<User>> {\n    return this.get<User>('/me', { headers: { 'Cache-Control': 'no-cache' } });\n  }\n\n  /**\n   * Get user information by search criteria\n   */\n  async getUserInfo(options: UserSearchOptions = {}): Promise<CommonResponse<User>> {\n    const params: Record<string, string> = {};\n    \n    if (options.nickname) {\n      params.nickname = options.nickname;\n    }\n    if (options.needPoint) {\n      params.needPoint = 'true';\n    }\n    if (options.includePermissions) {\n      params.includePermissions = 'true';\n    }\n\n    return this.getMini<User>('/', '사용자 정보 조회중...', { params });\n  }\n\n  /**\n   * Check if user ID already exists\n   */\n  async checkUserIdExist(userId: string): Promise<CommonResponse<boolean>> {\n    return this.post<boolean, { userId: string }>('/check/id', { userId });\n  }\n\n  /**\n   * Check if nickname already exists\n   */\n  async checkNicknameExist(nickname: string): Promise<CommonResponse<boolean>> {\n    return this.post<boolean, { nickname: string }>('/check/nickname', { nickname });\n  }\n\n  /**\n   * Get user by ID\n   */\n  async getUserById(userId: string): Promise<CommonResponse<User>> {\n    return this.get<User>(`/${userId}`);\n  }\n\n  /**\n   * Get users by IDs (batch operation)\n   */\n  async getUsersByIds(userIds: string[]): Promise<CommonResponse<User[]>> {\n    return this.post<User[], { userIds: string[] }>('/batch', { userIds });\n  }\n\n  /**\n   * Search users by keyword\n   */\n  async searchUsers(\n    keyword: string, \n    page: number = 1, \n    pageSize: number = 10\n  ): Promise<CommonResponse<{ users: User[]; totalCount: number }>> {\n    return this.get<{ users: User[]; totalCount: number }>('/search', {\n      params: { keyword, page, pageSize }\n    });\n  }\n\n  /**\n   * Update user level (admin only)\n   */\n  async updateUserLevel(userId: string, level: number): Promise<CommonResponse<User>> {\n    return this.patch<User, { level: number }>(`/${userId}/level`, { level });\n  }\n\n  /**\n   * Ban/Unban user (admin only)\n   */\n  async updateUserBanStatus(\n    userId: string, \n    isBanned: boolean, \n    reason?: string\n  ): Promise<CommonResponse<User>> {\n    return this.patch<User, { isBanned: boolean; reason?: string }>(\n      `/${userId}/ban-status`, \n      { isBanned, reason }\n    );\n  }\n}\n\n// Legacy support - functional interface (deprecated, use UserService class instead)\nconst userService = {\n  getMyInfo(): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.getMyInfo();\n  },\n  \n  /**\n   * @deprecated Use getMyInfo() instead as it includes permission information\n   */\n  getMyPermission(): Promise<CommonResponse<UserPermission>> {\n    const service = new UserService();\n    return service.getMyPermission();\n  },\n  \n  getMyPoint(): Promise<CommonResponse<number>> {\n    const service = new UserService();\n    return service.getMyPoint();\n  },\n  \n  getRealtimeUser(): Promise<CommonResponse<string>> {\n    const service = new UserService();\n    return service.getRealtimeUser();\n  },\n  \n  getUserId(): Promise<CommonResponse<string>> {\n    const service = new UserService();\n    return service.getUserId();\n  },\n  \n  getUserUuid(): Promise<CommonResponse<string>> {\n    const service = new UserService();\n    return service.getUserUuid();\n  },\n  \n  updateUserProfile(profileImage: string): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.updateUserProfile({ profileImage });\n  },\n  \n  refreshMyInfo(): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.refreshMyInfo();\n  },\n  \n  getUserInfo(\n    nickname?: string,\n    needPoint: boolean = false\n  ): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.getUserInfo({ nickname, needPoint });\n  },\n  \n  checkUserIdExist(userId: string): Promise<CommonResponse<boolean>> {\n    const service = new UserService();\n    return service.checkUserIdExist(userId);\n  },\n  \n  checkNicknameExist(nickname: string): Promise<CommonResponse<boolean>> {\n    const service = new UserService();\n    return service.checkNicknameExist(nickname);\n  },\n};\n\nexport { userService };\nexport default UserService;\n","import BaseService, { baseService } from './baseService';\nimport type { CommonResponse, Pagination } from '../types/common';\nimport type { SearchType, SortBy } from '../types/board';\nimport type { FileAttachment, GalleryListItem, Post, PostBookmark, PostDetail } from '../types/post';\n\n/**\n * Post service interfaces and types\n */\nexport interface PostServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface PostListOptions {\n  boardId: number;\n  page: number;\n  pageSize?: number;\n  sortBy?: SortBy;\n  searchType?: SearchType;\n  searchText?: string;\n  categoryId?: string | number | null;\n  needNotice?: boolean;\n  status?: 'published' | 'draft' | 'deleted';\n  writerId?: number;\n}\n\nexport interface PostCreateData {\n  title: string;\n  content: string;\n  files?: File[];\n  boardId: number;\n  attachments?: FileAttachment[];\n  downloadPoint?: number;\n  metadata?: {\n    thumbnail?: string | null;\n    [key: string]: string | null;\n  };\n  categoryId?: number | null;\n  isNotice?: boolean;\n  hasFiles?: boolean;\n}\n\nexport interface PostUpdateData {\n  title?: string;\n  content?: string;\n  files?: File[];\n  attachments?: FileAttachment[];\n  downloadPoint?: number;\n  metadata?: {\n    thumbnail?: string | null;\n    [key: string]: string | null;\n  };\n  categoryId?: number | null;\n  isNotice?: boolean;\n}\n\nexport interface PostDownloadHistory {\n  expires_at: string;\n  download_urls: FileAttachment[];\n  message: string;\n  point_deducted: number;\n  success: boolean;\n}\n\nexport interface DraftPostRequest {\n  title: string;\n  content: string;\n  boardId: number;\n  categoryId?: number;\n}\n\nexport interface DraftPostResponse {\n  id: number;\n  title: string;\n  content: string;\n  status: 'DRAFT';\n  createdAt: string;\n}\n\nexport interface AsyncUploadConfig {\n  needWatermark?: boolean;\n  watermarkPosition?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n  watermarkOpacity?: number;\n}\n\nexport interface UploadStartResponse {\n  success: boolean;\n  data: {\n    uploadId: string;\n    postId: number;\n    totalFiles: number;\n    estimatedDuration: number;\n  };\n  message: string;\n}\n\nexport interface UploadProgressResponse {\n  success: boolean;\n  data: {\n    postId: number;\n    overallProgress: number;\n    status: 'processing' | 'completed' | 'failed';\n    totalFiles: number;\n    completedFiles: number;\n    files: FileAttachment[];\n  };\n  message: string;\n}\n\n/**\n * Post Service Class\n * Handles all post-related API operations including CRUD operations,\n * file uploads, async media processing, and bookmark management\n */\nexport class PostService extends BaseService<Post> {\n  constructor(options?: PostServiceOptions) {\n    super(options?.baseUrl || '/api/post', options?.defaultHeaders);\n  }\n\n  /**\n   * Get post list with pagination and search options\n   */\n  async getPostList(options: PostListOptions): Promise<CommonResponse<Post>> {\n    const params: Record<string, string> = {\n      boardId: options.boardId.toString(),\n      page: options.page.toString(),\n      pageSize: (options.pageSize || 10).toString(),\n      sortBy: options.sortBy || 'latest',\n      searchType: options.searchType || 'title',\n      searchText: options.searchText || '',\n      needNotice: (options.needNotice !== false).toString(),\n    };\n\n    if (options.categoryId !== undefined && options.categoryId !== null && options.categoryId !== '') {\n      params.categoryId = options.categoryId.toString();\n    }\n\n    if (options.status) {\n      params.status = options.status;\n    }\n\n    if (options.writerId) {\n      params.writerId = options.writerId.toString();\n    }\n\n    return this.getMini<Post>('/', '게시글 목록 로딩중...', { params });\n  }\n\n  /**\n   * Get post by ID\n   */\n  async getPostById(postId: number): Promise<CommonResponse<PostDetail>> {\n    return this.get<PostDetail>(`/${postId}`);\n  }\n\n  /**\n   * Create new post (synchronous)\n   */\n  async createPost(data: PostCreateData): Promise<CommonResponse<PostDetail>> {\n    const formData = new FormData();\n    \n    // Basic post data\n    formData.append('title', data.title);\n    formData.append('content', data.content);\n    formData.append('boardId', data.boardId.toString());\n    formData.append('isNotice', (data.isNotice || false).toString());\n    formData.append('hasFiles', (data.hasFiles || false).toString());\n\n    // Optional fields\n    if (data.categoryId !== null && data.categoryId !== undefined) {\n      formData.append('categoryId', data.categoryId.toString());\n    }\n    \n    if (data.downloadPoint !== undefined && data.downloadPoint !== null) {\n      formData.append('downloadPoint', data.downloadPoint.toString());\n    }\n\n    // Attachments and metadata\n    if (data.attachments && data.attachments.length > 0) {\n      formData.append('attachments', JSON.stringify(data.attachments));\n    }\n\n    if (data.metadata) {\n      formData.append('metadata', JSON.stringify(data.metadata));\n    }\n\n    // Files\n    if (data.files && data.files.length > 0) {\n      data.files.forEach(file => {\n        formData.append('files', file);\n      });\n    }\n\n    return this.postMini<PostDetail, FormData>(\n      `/${data.boardId}`,\n      formData,\n      '게시글 등록중...'\n    );\n  }\n\n  /**\n   * Update existing post\n   */\n  async updatePost(postId: number, data: PostUpdateData): Promise<CommonResponse<PostDetail>> {\n    return this.putMini<PostDetail, PostUpdateData>(\n      `/${postId}`,\n      data,\n      '게시글 수정중...'\n    );\n  }\n\n  /**\n   * Delete post\n   */\n  async deletePost(postId: number): Promise<CommonResponse<PostDetail>> {\n    return this.deleteMini<PostDetail>(`/${postId}`, '게시글 삭제중...');\n  }\n\n  /**\n   * React to post (like/dislike)\n   */\n  async reactToPost(\n    postId: number,\n    reactionType: 'like' | 'dislike'\n  ): Promise<CommonResponse<PostDetail>> {\n    const reactionText = reactionType === 'like' ? '추천 처리중...' : '비추천 처리중...';\n    \n    return this.postMini<PostDetail, { reactionType: string }>(\n      `/${postId}/reaction`,\n      { reactionType },\n      reactionText\n    );\n  }\n\n  /**\n   * Purchase post files\n   */\n  async purchaseFiles(postId: number): Promise<CommonResponse<PostDownloadHistory>> {\n    return this.postMini<PostDownloadHistory, object>(\n      `/${postId}/purchase`,\n      {},\n      '파일 구매 처리중...'\n    );\n  }\n\n  /**\n   * Add post to bookmarks\n   */\n  async bookmarkPost(postId: number): Promise<CommonResponse<PostBookmark>> {\n    return this.postMini<PostBookmark, object>(\n      `/${postId}/bookmark`,\n      {},\n      '북마크 처리중...'\n    );\n  }\n\n  /**\n   * Remove post from bookmarks\n   */\n  async removeBookmark(postId: number): Promise<CommonResponse<boolean>> {\n    return this.deleteMini<boolean>(`/${postId}/bookmark`, '북마크 삭제중...');\n  }\n\n  /**\n   * Get user's bookmarked posts\n   */\n  async getBookmarkedPosts(): Promise<CommonResponse<GalleryListItem[]>> {\n    return this.getMini<GalleryListItem[]>('/bookmarks', '북마크된 게시글 불러오는 중...');\n  }\n\n  /**\n   * Move post to different board\n   */\n  async movePost(postId: number, boardId: number): Promise<CommonResponse<PostDetail>> {\n    return this.patchMini<PostDetail, { board_id: number }>(\n      `/${postId}`,\n      { board_id: boardId },\n      '게시글 이동중...'\n    );\n  }\n\n  // Draft and Async Upload Methods\n\n  /**\n   * Create draft post\n   */\n  async createDraftPost(data: DraftPostRequest): Promise<CommonResponse<DraftPostResponse>> {\n    return this.postMini<DraftPostResponse, DraftPostRequest>(\n      '/draft',\n      data,\n      '게시글 초안 생성중...'\n    );\n  }\n\n  /**\n   * Publish draft post\n   */\n  async publishPost(postId: number): Promise<CommonResponse<void>> {\n    return this.putMini<void, object>(`/${postId}/publish`, {}, '게시글 발행중...');\n  }\n\n  /**\n   * Start async file upload for post\n   */\n  async startAsyncFileUpload(\n    postId: number,\n    files: File[],\n    config?: AsyncUploadConfig\n  ): Promise<CommonResponse<UploadStartResponse['data']>> {\n    const formData = new FormData();\n\n    // Upload configuration\n    formData.append('postId', postId.toString());\n    formData.append('needWatermark', (config?.needWatermark !== false).toString());\n    formData.append('watermarkPosition', config?.watermarkPosition || 'bottom-right');\n    formData.append('watermarkOpacity', (config?.watermarkOpacity || 0.7).toString());\n\n    // Add files\n    files.forEach(file => {\n      formData.append('files', file);\n    });\n\n    const response = await this.postMini<UploadStartResponse, FormData>(\n      '/upload-async',\n      formData,\n      '파일 업로드 시작중...'\n    );\n\n    if (response.data && !response.data.success) {\n      throw new Error(response.data.message);\n    }\n\n    return {\n      ...response,\n      data: response.data?.data || null,\n    };\n  }\n\n  /**\n   * Get async upload progress\n   */\n  async getUploadProgress(postId: number): Promise<CommonResponse<UploadProgressResponse['data']>> {\n    const response = await this.getSilent<UploadProgressResponse>(`/upload-progress/${postId}`);\n\n    if (response.data && !response.data.success) {\n      throw new Error(response.data.message || '진행도 조회에 실패했습니다');\n    }\n\n    return {\n      ...response,\n      data: response.data?.data || null,\n    };\n  }\n\n  /**\n   * Retry failed file uploads\n   */\n  async retryFailedFiles(postId: number, failedFileUuids: string[]): Promise<CommonResponse<void>> {\n    return this.postMini<void, { failedFileUuids: string[] }>(\n      `/retry-upload/${postId}`,\n      { failedFileUuids },\n      '실패한 파일 재업로드 중...'\n    );\n  }\n\n  /**\n   * Cancel async upload\n   */\n  async cancelUpload(postId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/cancel-upload/${postId}`, '업로드 취소중...');\n  }\n\n  /**\n   * Create post with async file upload workflow\n   */\n  async createPostAsync(data: PostCreateData): Promise<CommonResponse<DraftPostResponse>> {\n    // 1. Create draft post first\n    const draftResponse = await this.createDraftPost({\n      title: data.title,\n      content: data.content,\n      boardId: data.boardId,\n      categoryId: data.categoryId || undefined,\n    });\n\n    if (draftResponse.successOrNot !== 'Y' || !draftResponse.data) {\n      return draftResponse;\n    }\n\n    // 2. Start async upload if files exist\n    if (data.files && data.files.length > 0) {\n      await this.startAsyncFileUpload(draftResponse.data.id, data.files);\n    } else {\n      // Publish immediately if no files\n      await this.publishPost(draftResponse.data.id);\n    }\n\n    return draftResponse;\n  }\n\n  /**\n   * Get draft posts\n   */\n  async getDraftPosts(options: Partial<PostListOptions> = {}): Promise<CommonResponse<Post>> {\n    const params: Record<string, string> = {\n      status: 'draft',\n      page: (options.page || 1).toString(),\n      pageSize: (options.pageSize || 10).toString(),\n      sortBy: options.sortBy || 'latest',\n    };\n\n    if (options.writerId) {\n      params.writerId = options.writerId.toString();\n    }\n\n    return this.getSilent<Post>('/', { params });\n  }\n\n  /**\n   * Search posts across multiple boards\n   */\n  async searchPosts(\n    keyword: string,\n    page: number = 1,\n    pageSize: number = 10,\n    boardIds?: number[]\n  ): Promise<CommonResponse<{ posts: Post[]; totalCount: number }>> {\n    const params: Record<string, string> = {\n      keyword,\n      page: page.toString(),\n      pageSize: pageSize.toString(),\n    };\n\n    if (boardIds && boardIds.length > 0) {\n      params.boardIds = boardIds.join(',');\n    }\n\n    return this.get<{ posts: Post[]; totalCount: number }>('/search', { params });\n  }\n\n  /**\n   * Get post statistics (admin only)\n   */\n  async getPostStats(boardId?: number): Promise<CommonResponse<{\n    totalPosts: number;\n    totalViews: number;\n    totalComments: number;\n    totalLikes: number;\n  }>> {\n    const params = boardId ? { boardId: boardId.toString() } : {};\n    return this.get<any>('/stats', { params });\n  }\n}\n\n// Legacy support - functional interface (deprecated, use PostService class instead)\nconst postService = {\n  getPost(options: PostListOptions): Promise<CommonResponse<Post>> {\n    const service = new PostService();\n    return service.getPostList(options);\n  },\n\n  createPost(data: PostCreateData): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.createPost(data);\n  },\n\n  reactionPost(postId: number, reactionType: 'like' | 'dislike'): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.reactToPost(postId, reactionType);\n  },\n\n  deletePost(postId: number): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.deletePost(postId);\n  },\n\n  updatePost(postId: number, data: PostUpdateData): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.updatePost(postId, data);\n  },\n\n  purchaseFiles(postId: number): Promise<CommonResponse<PostDownloadHistory>> {\n    const service = new PostService();\n    return service.purchaseFiles(postId);\n  },\n\n  bookmarkPost(postId: number): Promise<CommonResponse<PostBookmark>> {\n    const service = new PostService();\n    return service.bookmarkPost(postId);\n  },\n\n  deleteBookmarkPost(postId: number): Promise<CommonResponse<boolean>> {\n    const service = new PostService();\n    return service.removeBookmark(postId);\n  },\n\n  getBookmarkPosts(): Promise<CommonResponse<GalleryListItem[]>> {\n    const service = new PostService();\n    return service.getBookmarkedPosts();\n  },\n\n  movePost(postId: number, boardId: number): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.movePost(postId, boardId);\n  },\n\n  // Draft methods\n  createDraftPost(data: DraftPostRequest): Promise<CommonResponse<DraftPostResponse>> {\n    const service = new PostService();\n    return service.createDraftPost(data);\n  },\n\n  publishPost(postId: number): Promise<CommonResponse<void>> {\n    const service = new PostService();\n    return service.publishPost(postId);\n  },\n\n  getDraftPosts(options: Partial<PostListOptions> = {}): Promise<CommonResponse<Post>> {\n    const service = new PostService();\n    return service.getDraftPosts(options);\n  },\n\n  // Async upload methods\n  startAsyncFileUpload(\n    postId: number,\n    files: File[],\n    config?: AsyncUploadConfig\n  ): Promise<CommonResponse<UploadStartResponse['data']>> {\n    const service = new PostService();\n    return service.startAsyncFileUpload(postId, files, config);\n  },\n\n  getUploadProgress(postId: number): Promise<CommonResponse<UploadProgressResponse['data']>> {\n    const service = new PostService();\n    return service.getUploadProgress(postId);\n  },\n\n  retryFailedFiles(postId: number, failedFileUuids: string[]): Promise<CommonResponse<void>> {\n    const service = new PostService();\n    return service.retryFailedFiles(postId, failedFileUuids);\n  },\n\n  cancelUpload(postId: number): Promise<CommonResponse<void>> {\n    const service = new PostService();\n    return service.cancelUpload(postId);\n  },\n\n  createPostAsync(data: PostCreateData): Promise<CommonResponse<DraftPostResponse>> {\n    const service = new PostService();\n    return service.createPostAsync(data);\n  },\n};\n\nexport { postService };\nexport default PostService;\n","import BaseService, { baseService } from './baseService';\nimport type { CommonResponse, Pagination } from '../types/common';\nimport type { Board, BoardCategory, SearchType, SortBy } from '../types/board';\n\n/**\n * Board service interfaces and types\n */\nexport interface BoardServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface BoardListOptions {\n  page?: number;\n  pageSize?: number;\n  sortBy?: SortBy;\n  searchText?: string;\n  searchType?: SearchType;\n  isActive?: boolean;\n  categoryId?: number;\n}\n\nexport interface BoardCreateData {\n  name: string;\n  description?: string;\n  isActive?: boolean;\n  sortOrder?: number;\n  allowAnonymous?: boolean;\n  allowAttachment?: boolean;\n  requirePoints?: number;\n  categoryIds?: number[];\n  metadata?: {\n    icon?: string;\n    color?: string;\n    [key: string]: any;\n  };\n}\n\nexport interface BoardUpdateData {\n  name?: string;\n  description?: string;\n  isActive?: boolean;\n  sortOrder?: number;\n  allowAnonymous?: boolean;\n  allowAttachment?: boolean;\n  requirePoints?: number;\n  categoryIds?: number[];\n  metadata?: {\n    icon?: string;\n    color?: string;\n    [key: string]: any;\n  };\n}\n\nexport interface BoardCategoryCreateData {\n  name: string;\n  description?: string;\n  color?: string;\n  sortOrder?: number;\n  isActive?: boolean;\n}\n\nexport interface BoardStats {\n  totalPosts: number;\n  totalComments: number;\n  totalViews: number;\n  activeUsers: number;\n  lastActivity: string;\n}\n\n/**\n * Board Service Class\n * Handles all board-related API operations including board management,\n * categories, permissions, and statistics\n */\nexport class BoardService extends BaseService<Board> {\n  constructor(options?: BoardServiceOptions) {\n    super(options?.baseUrl || '/api/boards', options?.defaultHeaders);\n  }\n\n  /**\n   * Get list of all boards\n   */\n  async getBoards(options: BoardListOptions = {}): Promise<CommonResponse<Board[]>> {\n    const params: Record<string, string> = {};\n\n    if (options.page) {\n      params.page = options.page.toString();\n    }\n    if (options.pageSize) {\n      params.pageSize = options.pageSize.toString();\n    }\n    if (options.sortBy) {\n      params.sortBy = options.sortBy;\n    }\n    if (options.searchText) {\n      params.searchText = options.searchText;\n    }\n    if (options.searchType) {\n      params.searchType = options.searchType;\n    }\n    if (options.isActive !== undefined) {\n      params.isActive = options.isActive.toString();\n    }\n    if (options.categoryId) {\n      params.categoryId = options.categoryId.toString();\n    }\n\n    return this.getMini<Board[]>('/', '게시판 목록 로딩중...', { params });\n  }\n\n  /**\n   * Get board by ID\n   */\n  async getBoard(boardId: number): Promise<CommonResponse<Board>> {\n    return this.getMini<Board>(`/${boardId}`, '게시판 정보 로딩중...');\n  }\n\n  /**\n   * Create new board (admin only)\n   */\n  async createBoard(data: BoardCreateData): Promise<CommonResponse<Board>> {\n    return this.postMini<Board, BoardCreateData>('/', data, '게시판 생성중...');\n  }\n\n  /**\n   * Update board (admin only)\n   */\n  async updateBoard(boardId: number, data: BoardUpdateData): Promise<CommonResponse<Board>> {\n    return this.putMini<Board, BoardUpdateData>(`/${boardId}`, data, '게시판 수정중...');\n  }\n\n  /**\n   * Delete board (admin only)\n   */\n  async deleteBoard(boardId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}`, '게시판 삭제중...');\n  }\n\n  /**\n   * Get board categories\n   */\n  async getBoardCategories(boardId: number): Promise<CommonResponse<BoardCategory[]>> {\n    return this.getMini<BoardCategory[]>(`/${boardId}/categories`, '카테고리 로딩중...');\n  }\n\n  /**\n   * Create board category (admin only)\n   */\n  async createBoardCategory(\n    boardId: number, \n    data: BoardCategoryCreateData\n  ): Promise<CommonResponse<BoardCategory>> {\n    return this.postMini<BoardCategory, BoardCategoryCreateData>(\n      `/${boardId}/categories`,\n      data,\n      '카테고리 생성중...'\n    );\n  }\n\n  /**\n   * Update board category (admin only)\n   */\n  async updateBoardCategory(\n    boardId: number,\n    categoryId: number,\n    data: Partial<BoardCategoryCreateData>\n  ): Promise<CommonResponse<BoardCategory>> {\n    return this.putMini<BoardCategory, Partial<BoardCategoryCreateData>>(\n      `/${boardId}/categories/${categoryId}`,\n      data,\n      '카테고리 수정중...'\n    );\n  }\n\n  /**\n   * Delete board category (admin only)\n   */\n  async deleteBoardCategory(boardId: number, categoryId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}/categories/${categoryId}`, '카테고리 삭제중...');\n  }\n\n  /**\n   * Get board statistics\n   */\n  async getBoardStats(boardId: number): Promise<CommonResponse<BoardStats>> {\n    return this.getSilent<BoardStats>(`/${boardId}/stats`);\n  }\n\n  /**\n   * Search boards by keyword\n   */\n  async searchBoards(\n    keyword: string,\n    page: number = 1,\n    pageSize: number = 10\n  ): Promise<CommonResponse<{ boards: Board[]; totalCount: number }>> {\n    return this.get<{ boards: Board[]; totalCount: number }>('/search', {\n      params: { keyword, page: page.toString(), pageSize: pageSize.toString() }\n    });\n  }\n\n  /**\n   * Get popular boards\n   */\n  async getPopularBoards(limit: number = 10): Promise<CommonResponse<Board[]>> {\n    return this.getSilent<Board[]>('/popular', {\n      params: { limit: limit.toString() }\n    });\n  }\n\n  /**\n   * Get recently active boards\n   */\n  async getRecentlyActiveBoards(limit: number = 10): Promise<CommonResponse<Board[]>> {\n    return this.getSilent<Board[]>('/recent-activity', {\n      params: { limit: limit.toString() }\n    });\n  }\n\n  /**\n   * Get user's favorite boards\n   */\n  async getFavoriteBoards(): Promise<CommonResponse<Board[]>> {\n    return this.getMini<Board[]>('/favorites', '즐겨찾기 게시판 로딩중...');\n  }\n\n  /**\n   * Add board to favorites\n   */\n  async addToFavorites(boardId: number): Promise<CommonResponse<void>> {\n    return this.postMini<void, object>(`/${boardId}/favorite`, {}, '즐겨찾기 추가중...');\n  }\n\n  /**\n   * Remove board from favorites\n   */\n  async removeFromFavorites(boardId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}/favorite`, '즐겨찾기 제거중...');\n  }\n\n  /**\n   * Get board permissions for current user\n   */\n  async getBoardPermissions(boardId: number): Promise<CommonResponse<{\n    canRead: boolean;\n    canWrite: boolean;\n    canComment: boolean;\n    canModerate: boolean;\n    requiredLevel: number;\n  }>> {\n    return this.getSilent<any>(`/${boardId}/permissions`);\n  }\n\n  /**\n   * Update board permissions (admin only)\n   */\n  async updateBoardPermissions(\n    boardId: number,\n    permissions: {\n      readLevel?: number;\n      writeLevel?: number;\n      commentLevel?: number;\n      allowAnonymous?: boolean;\n    }\n  ): Promise<CommonResponse<void>> {\n    return this.patchMini<void, typeof permissions>(\n      `/${boardId}/permissions`,\n      permissions,\n      '권한 설정 업데이트 중...'\n    );\n  }\n\n  /**\n   * Get board moderators\n   */\n  async getBoardModerators(boardId: number): Promise<CommonResponse<{\n    id: string;\n    nickname: string;\n    profileImage?: string;\n    level: number;\n  }[]>> {\n    return this.get<any>(`/${boardId}/moderators`);\n  }\n\n  /**\n   * Add board moderator (admin only)\n   */\n  async addBoardModerator(boardId: number, userId: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { userId: string }>(\n      `/${boardId}/moderators`,\n      { userId },\n      '모더레이터 추가중...'\n    );\n  }\n\n  /**\n   * Remove board moderator (admin only)\n   */\n  async removeBoardModerator(boardId: number, userId: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}/moderators/${userId}`, '모더레이터 제거중...');\n  }\n\n  /**\n   * Report board content or issue\n   */\n  async reportBoard(\n    boardId: number,\n    reason: string,\n    description?: string\n  ): Promise<CommonResponse<void>> {\n    return this.postMini<void, { reason: string; description?: string }>(\n      `/${boardId}/report`,\n      { reason, description },\n      '신고 접수중...'\n    );\n  }\n\n  /**\n   * Get board activity feed\n   */\n  async getBoardActivity(\n    boardId: number,\n    page: number = 1,\n    pageSize: number = 20\n  ): Promise<CommonResponse<{\n    activities: Array<{\n      type: 'post' | 'comment' | 'like' | 'share';\n      postId?: number;\n      userId: string;\n      userName: string;\n      timestamp: string;\n      title?: string;\n      content?: string;\n    }>;\n    totalCount: number;\n  }>> {\n    return this.get<any>(`/${boardId}/activity`, {\n      params: { page: page.toString(), pageSize: pageSize.toString() }\n    });\n  }\n}\n\n// Legacy support - functional interface (deprecated, use BoardService class instead)\nconst boardService = {\n  getBoards(): Promise<CommonResponse<Board[]>> {\n    const service = new BoardService();\n    return service.getBoards();\n  },\n\n  getBoard(boardId: number): Promise<CommonResponse<Board>> {\n    const service = new BoardService();\n    return service.getBoard(boardId);\n  },\n\n  getBoardCategories(boardId: number): Promise<CommonResponse<BoardCategory[]>> {\n    const service = new BoardService();\n    return service.getBoardCategories(boardId);\n  },\n};\n\nexport { boardService };\nexport default BoardService;\n","import BaseService from './baseService';\nimport type { CommonResponse } from '../types/common';\nimport type { User } from '../types/User';\n\n/**\n * Authentication service interfaces and types\n */\nexport interface AuthServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface LoginCredentials {\n  userId: string;\n  password: string;\n  rememberMe?: boolean;\n}\n\nexport interface RegisterData {\n  userId: string;\n  password: string;\n  passwordConfirm: string;\n  nickname: string;\n  email?: string;\n  agreeToTerms: boolean;\n  agreeToPrivacy: boolean;\n  agreeToMarketing?: boolean;\n}\n\nexport interface AuthTokens {\n  accessToken: string;\n  refreshToken: string;\n  expiresIn: number;\n  tokenType: string;\n}\n\nexport interface AuthResponse {\n  user: User;\n  tokens: AuthTokens;\n  isFirstLogin?: boolean;\n  requiredActions?: string[];\n}\n\nexport interface PasswordResetData {\n  email?: string;\n  userId?: string;\n}\n\nexport interface PasswordChangeData {\n  currentPassword: string;\n  newPassword: string;\n  newPasswordConfirm: string;\n}\n\nexport interface SessionInfo {\n  isValid: boolean;\n  user?: User;\n  expiresAt?: string;\n  permissions?: string[];\n  level?: number;\n  isAdmin?: boolean;\n}\n\n/**\n * Authentication Service Class\n * Handles all authentication-related operations including login, logout,\n * registration, password management, and session validation\n */\nexport class AuthService extends BaseService {\n  constructor(options?: AuthServiceOptions) {\n    super(options?.baseUrl || '/api/auth', options?.defaultHeaders);\n  }\n\n  /**\n   * User login\n   */\n  async login(credentials: LoginCredentials): Promise<CommonResponse<AuthResponse>> {\n    return this.postMini<AuthResponse, LoginCredentials>(\n      '/login',\n      credentials,\n      '로그인 중...'\n    );\n  }\n\n  /**\n   * User logout\n   */\n  async logout(): Promise<CommonResponse<void>> {\n    return this.postMini<void, object>('/logout', {}, '로그아웃 중...');\n  }\n\n  /**\n   * User registration\n   */\n  async register(data: RegisterData): Promise<CommonResponse<AuthResponse>> {\n    return this.postMini<AuthResponse, RegisterData>(\n      '/register',\n      data,\n      '회원가입 처리 중...'\n    );\n  }\n\n  /**\n   * Refresh access token\n   */\n  async refreshToken(refreshToken: string): Promise<CommonResponse<AuthTokens>> {\n    return this.postSilent<AuthTokens, { refreshToken: string }>(\n      '/refresh',\n      { refreshToken }\n    );\n  }\n\n  /**\n   * Validate current session\n   */\n  async validateSession(): Promise<CommonResponse<SessionInfo>> {\n    return this.getSilent<SessionInfo>('/validate');\n  }\n\n  /**\n   * Get current user info (from token)\n   */\n  async getCurrentUser(): Promise<CommonResponse<User>> {\n    return this.getMini<User>('/me', '사용자 정보 확인 중...');\n  }\n\n  /**\n   * Send password reset email\n   */\n  async requestPasswordReset(data: PasswordResetData): Promise<CommonResponse<void>> {\n    return this.postMini<void, PasswordResetData>(\n      '/password-reset/request',\n      data,\n      '비밀번호 재설정 요청 중...'\n    );\n  }\n\n  /**\n   * Reset password with token\n   */\n  async resetPassword(\n    token: string, \n    newPassword: string,\n    newPasswordConfirm: string\n  ): Promise<CommonResponse<void>> {\n    return this.postMini<void, { \n      token: string; \n      newPassword: string; \n      newPasswordConfirm: string; \n    }>(\n      '/password-reset/confirm',\n      { token, newPassword, newPasswordConfirm },\n      '비밀번호 재설정 중...'\n    );\n  }\n\n  /**\n   * Change password (authenticated user)\n   */\n  async changePassword(data: PasswordChangeData): Promise<CommonResponse<void>> {\n    return this.putMini<void, PasswordChangeData>(\n      '/password',\n      data,\n      '비밀번호 변경 중...'\n    );\n  }\n\n  /**\n   * Send email verification\n   */\n  async sendEmailVerification(email?: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { email?: string }>(\n      '/verify-email/send',\n      { email },\n      '인증 메일 발송 중...'\n    );\n  }\n\n  /**\n   * Verify email with token\n   */\n  async verifyEmail(token: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { token: string }>(\n      '/verify-email/confirm',\n      { token },\n      '이메일 인증 중...'\n    );\n  }\n\n  /**\n   * Check if user ID is available\n   */\n  async checkUserIdAvailability(userId: string): Promise<CommonResponse<{ available: boolean }>> {\n    return this.get<{ available: boolean }>('/check/userid', {\n      params: { userId }\n    });\n  }\n\n  /**\n   * Check if nickname is available\n   */\n  async checkNicknameAvailability(nickname: string): Promise<CommonResponse<{ available: boolean }>> {\n    return this.get<{ available: boolean }>('/check/nickname', {\n      params: { nickname }\n    });\n  }\n\n  /**\n   * Check if email is available\n   */\n  async checkEmailAvailability(email: string): Promise<CommonResponse<{ available: boolean }>> {\n    return this.get<{ available: boolean }>('/check/email', {\n      params: { email }\n    });\n  }\n\n  /**\n   * Get user sessions (for security management)\n   */\n  async getUserSessions(): Promise<CommonResponse<Array<{\n    id: string;\n    deviceInfo: string;\n    ipAddress: string;\n    lastActivity: string;\n    isCurrent: boolean;\n  }>>> {\n    return this.get<any>('/sessions');\n  }\n\n  /**\n   * Revoke specific session\n   */\n  async revokeSession(sessionId: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/sessions/${sessionId}`, '세션 해제 중...');\n  }\n\n  /**\n   * Revoke all sessions except current\n   */\n  async revokeAllSessions(): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>('/sessions/all', '모든 세션 해제 중...');\n  }\n\n  /**\n   * Enable two-factor authentication\n   */\n  async enable2FA(): Promise<CommonResponse<{\n    qrCodeUrl: string;\n    backupCodes: string[];\n    secret: string;\n  }>> {\n    return this.postMini<any, object>('/2fa/enable', {}, '2FA 설정 중...');\n  }\n\n  /**\n   * Verify and confirm two-factor authentication\n   */\n  async confirm2FA(code: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { code: string }>(\n      '/2fa/confirm',\n      { code },\n      '2FA 인증 중...'\n    );\n  }\n\n  /**\n   * Disable two-factor authentication\n   */\n  async disable2FA(password: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>('/2fa/disable', '2FA 해제 중...');\n  }\n\n  /**\n   * Verify 2FA code during login\n   */\n  async verify2FACode(code: string): Promise<CommonResponse<AuthResponse>> {\n    return this.postMini<AuthResponse, { code: string }>(\n      '/2fa/verify',\n      { code },\n      '2FA 코드 확인 중...'\n    );\n  }\n}\n\n// Legacy support - functional interface (deprecated, use AuthService class instead)\nconst authService = {\n  login(credentials: LoginCredentials): Promise<CommonResponse<AuthResponse>> {\n    const service = new AuthService();\n    return service.login(credentials);\n  },\n\n  logout(): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.logout();\n  },\n\n  register(data: RegisterData): Promise<CommonResponse<AuthResponse>> {\n    const service = new AuthService();\n    return service.register(data);\n  },\n\n  refreshToken(refreshToken: string): Promise<CommonResponse<AuthTokens>> {\n    const service = new AuthService();\n    return service.refreshToken(refreshToken);\n  },\n\n  validateSession(): Promise<CommonResponse<SessionInfo>> {\n    const service = new AuthService();\n    return service.validateSession();\n  },\n\n  getCurrentUser(): Promise<CommonResponse<User>> {\n    const service = new AuthService();\n    return service.getCurrentUser();\n  },\n\n  requestPasswordReset(data: PasswordResetData): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.requestPasswordReset(data);\n  },\n\n  resetPassword(\n    token: string, \n    newPassword: string,\n    newPasswordConfirm: string\n  ): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.resetPassword(token, newPassword, newPasswordConfirm);\n  },\n\n  changePassword(data: PasswordChangeData): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.changePassword(data);\n  },\n\n  sendEmailVerification(email?: string): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.sendEmailVerification(email);\n  },\n\n  verifyEmail(token: string): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.verifyEmail(token);\n  },\n\n  checkUserIdAvailability(userId: string): Promise<CommonResponse<{ available: boolean }>> {\n    const service = new AuthService();\n    return service.checkUserIdAvailability(userId);\n  },\n\n  checkNicknameAvailability(nickname: string): Promise<CommonResponse<{ available: boolean }>> {\n    const service = new AuthService();\n    return service.checkNicknameAvailability(nickname);\n  },\n\n  checkEmailAvailability(email: string): Promise<CommonResponse<{ available: boolean }>> {\n    const service = new AuthService();\n    return service.checkEmailAvailability(email);\n  },\n};\n\nexport { authService };\nexport default AuthService;","import BaseService from './baseService';\nimport type { CommonResponse } from '../types/common';\nimport type { User } from '../types/User';\n\n/**\n * Permission service interfaces and types\n */\nexport interface PermissionServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface PermissionCheck {\n  resource: string;\n  action: string;\n  context?: Record<string, any>;\n}\n\nexport interface PermissionResult {\n  allowed: boolean;\n  reason?: string;\n  requiredLevel?: number;\n  requiredPermissions?: string[];\n}\n\nexport interface UserPermissions {\n  level: number;\n  isAdmin: boolean;\n  permissions: string[];\n  roles: string[];\n  restrictions?: string[];\n}\n\nexport interface LevelInfo {\n  level: number;\n  name: string;\n  description: string;\n  requiredPoints: number;\n  permissions: string[];\n  benefits: string[];\n  color?: string;\n  icon?: string;\n}\n\nexport interface RoleInfo {\n  id: string;\n  name: string;\n  description: string;\n  permissions: string[];\n  level: number;\n  isSystem: boolean;\n}\n\nexport interface PermissionGrant {\n  userId: string;\n  permission: string;\n  context?: Record<string, any>;\n  expiresAt?: string;\n  grantedBy: string;\n  reason?: string;\n}\n\n/**\n * Permission Service Class\n * Handles all permission and authorization operations including\n * level management, role assignments, and access control\n */\nexport class PermissionService extends BaseService {\n  constructor(options?: PermissionServiceOptions) {\n    super(options?.baseUrl || '/api/permissions', options?.defaultHeaders);\n  }\n\n  /**\n   * Check if user has specific permission\n   */\n  async checkPermission(check: PermissionCheck): Promise<CommonResponse<PermissionResult>> {\n    return this.getSilent<PermissionResult>('/check', {\n      params: {\n        resource: check.resource,\n        action: check.action,\n        context: check.context ? JSON.stringify(check.context) : undefined\n      }\n    });\n  }\n\n  /**\n   * Check multiple permissions at once\n   */\n  async checkPermissions(\n    checks: PermissionCheck[]\n  ): Promise<CommonResponse<Record<string, PermissionResult>>> {\n    return this.postSilent<Record<string, PermissionResult>, { checks: PermissionCheck[] }>(\n      '/check-multiple',\n      { checks }\n    );\n  }\n\n  /**\n   * Get current user's permissions\n   */\n  async getMyPermissions(): Promise<CommonResponse<UserPermissions>> {\n    return this.getMini<UserPermissions>('/me', '권한 정보 조회 중...');\n  }\n\n  /**\n   * Get user's permissions by ID (admin only)\n   */\n  async getUserPermissions(userId: string): Promise<CommonResponse<UserPermissions>> {\n    return this.get<UserPermissions>(`/users/${userId}`);\n  }\n\n  /**\n   * Get all available permission levels\n   */\n  async getLevels(): Promise<CommonResponse<LevelInfo[]>> {\n    return this.getSilent<LevelInfo[]>('/levels');\n  }\n\n  /**\n   * Get specific level information\n   */\n  async getLevel(level: number): Promise<CommonResponse<LevelInfo>> {\n    return this.get<LevelInfo>(`/levels/${level}`);\n  }\n\n  /**\n   * Update user level (admin only)\n   */\n  async updateUserLevel(userId: string, level: number, reason?: string): Promise<CommonResponse<void>> {\n    return this.patchMini<void, { level: number; reason?: string }>(\n      `/users/${userId}/level`,\n      { level, reason },\n      '사용자 레벨 변경 중...'\n    );\n  }\n\n  /**\n   * Get all available roles\n   */\n  async getRoles(): Promise<CommonResponse<RoleInfo[]>> {\n    return this.get<RoleInfo[]>('/roles');\n  }\n\n  /**\n   * Get specific role information\n   */\n  async getRole(roleId: string): Promise<CommonResponse<RoleInfo>> {\n    return this.get<RoleInfo>(`/roles/${roleId}`);\n  }\n\n  /**\n   * Create new role (admin only)\n   */\n  async createRole(role: Omit<RoleInfo, 'id' | 'isSystem'>): Promise<CommonResponse<RoleInfo>> {\n    return this.postMini<RoleInfo, typeof role>(\n      '/roles',\n      role,\n      '역할 생성 중...'\n    );\n  }\n\n  /**\n   * Update role (admin only)\n   */\n  async updateRole(\n    roleId: string, \n    updates: Partial<Omit<RoleInfo, 'id' | 'isSystem'>>\n  ): Promise<CommonResponse<RoleInfo>> {\n    return this.putMini<RoleInfo, typeof updates>(\n      `/roles/${roleId}`,\n      updates,\n      '역할 수정 중...'\n    );\n  }\n\n  /**\n   * Delete role (admin only)\n   */\n  async deleteRole(roleId: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/roles/${roleId}`, '역할 삭제 중...');\n  }\n\n  /**\n   * Assign role to user (admin only)\n   */\n  async assignRole(userId: string, roleId: string, reason?: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { roleId: string; reason?: string }>(\n      `/users/${userId}/roles`,\n      { roleId, reason },\n      '역할 할당 중...'\n    );\n  }\n\n  /**\n   * Remove role from user (admin only)\n   */\n  async removeRole(userId: string, roleId: string, reason?: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(\n      `/users/${userId}/roles/${roleId}`,\n      '역할 제거 중...'\n    );\n  }\n\n  /**\n   * Grant specific permission to user (admin only)\n   */\n  async grantPermission(grant: PermissionGrant): Promise<CommonResponse<void>> {\n    return this.postMini<void, PermissionGrant>(\n      '/grants',\n      grant,\n      '권한 부여 중...'\n    );\n  }\n\n  /**\n   * Revoke specific permission from user (admin only)\n   */\n  async revokePermission(\n    userId: string, \n    permission: string,\n    context?: Record<string, any>,\n    reason?: string\n  ): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(\n      `/grants/${userId}/${permission}`,\n      '권한 회수 중...'\n    );\n  }\n\n  /**\n   * Get user's permission grants\n   */\n  async getUserGrants(userId: string): Promise<CommonResponse<PermissionGrant[]>> {\n    return this.get<PermissionGrant[]>(`/grants/users/${userId}`);\n  }\n\n  /**\n   * Get permission grant history for user\n   */\n  async getPermissionHistory(\n    userId: string,\n    page: number = 1,\n    pageSize: number = 20\n  ): Promise<CommonResponse<{\n    history: Array<{\n      id: string;\n      action: 'grant' | 'revoke' | 'level_change' | 'role_assign' | 'role_remove';\n      permission?: string;\n      role?: string;\n      level?: number;\n      grantedBy: string;\n      reason?: string;\n      timestamp: string;\n    }>;\n    totalCount: number;\n  }>> {\n    return this.get<any>(`/history/${userId}`, {\n      params: { page: page.toString(), pageSize: pageSize.toString() }\n    });\n  }\n\n  /**\n   * Check if user can access specific board\n   */\n  async checkBoardAccess(\n    boardId: number,\n    action: 'read' | 'write' | 'comment' | 'moderate' = 'read'\n  ): Promise<CommonResponse<PermissionResult>> {\n    return this.checkPermission({\n      resource: 'board',\n      action,\n      context: { boardId }\n    });\n  }\n\n  /**\n   * Check if user can access specific post\n   */\n  async checkPostAccess(\n    postId: number,\n    action: 'read' | 'edit' | 'delete' | 'comment' = 'read'\n  ): Promise<CommonResponse<PermissionResult>> {\n    return this.checkPermission({\n      resource: 'post',\n      action,\n      context: { postId }\n    });\n  }\n\n  /**\n   * Check admin permissions\n   */\n  async checkAdminAccess(\n    section: 'users' | 'boards' | 'posts' | 'system' | 'reports' = 'system'\n  ): Promise<CommonResponse<PermissionResult>> {\n    return this.checkPermission({\n      resource: 'admin',\n      action: 'access',\n      context: { section }\n    });\n  }\n\n  /**\n   * Get user level benefits and progression info\n   */\n  async getLevelProgression(userId?: string): Promise<CommonResponse<{\n    currentLevel: LevelInfo;\n    nextLevel?: LevelInfo;\n    progress: {\n      currentPoints: number;\n      pointsToNext: number;\n      progressPercentage: number;\n    };\n    achievements: Array<{\n      id: string;\n      name: string;\n      description: string;\n      unlockedAt: string;\n      level: number;\n    }>;\n  }>> {\n    const endpoint = userId ? `/progression/${userId}` : '/progression/me';\n    return this.getMini<any>(endpoint, '레벨 정보 조회 중...');\n  }\n\n  /**\n   * Ban or unban user (admin only)\n   */\n  async updateUserBanStatus(\n    userId: string,\n    banned: boolean,\n    reason?: string,\n    duration?: number\n  ): Promise<CommonResponse<void>> {\n    return this.patchMini<void, {\n      banned: boolean;\n      reason?: string;\n      duration?: number;\n    }>(\n      `/users/${userId}/ban`,\n      { banned, reason, duration },\n      banned ? '사용자 제재 중...' : '사용자 제재 해제 중...'\n    );\n  }\n\n  /**\n   * Get user's restriction status\n   */\n  async getUserRestrictions(userId: string): Promise<CommonResponse<{\n    isBanned: boolean;\n    bannedUntil?: string;\n    banReason?: string;\n    restrictions: Array<{\n      type: string;\n      reason: string;\n      expiresAt?: string;\n    }>;\n  }>> {\n    return this.get<any>(`/users/${userId}/restrictions`);\n  }\n}\n\n// Legacy support - functional interface (deprecated, use PermissionService class instead)\nconst permissionService = {\n  checkPermission(check: PermissionCheck): Promise<CommonResponse<PermissionResult>> {\n    const service = new PermissionService();\n    return service.checkPermission(check);\n  },\n\n  getMyPermissions(): Promise<CommonResponse<UserPermissions>> {\n    const service = new PermissionService();\n    return service.getMyPermissions();\n  },\n\n  getLevels(): Promise<CommonResponse<LevelInfo[]>> {\n    const service = new PermissionService();\n    return service.getLevels();\n  },\n\n  checkBoardAccess(\n    boardId: number,\n    action: 'read' | 'write' | 'comment' | 'moderate' = 'read'\n  ): Promise<CommonResponse<PermissionResult>> {\n    const service = new PermissionService();\n    return service.checkBoardAccess(boardId, action);\n  },\n\n  checkAdminAccess(\n    section: 'users' | 'boards' | 'posts' | 'system' | 'reports' = 'system'\n  ): Promise<CommonResponse<PermissionResult>> {\n    const service = new PermissionService();\n    return service.checkAdminAccess(section);\n  },\n};\n\nexport { permissionService };\nexport default PermissionService;","/**\n * @license React\n * use-sync-external-store-with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = React.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","/**\n * @license React\n * use-sync-external-store-with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      useSyncExternalStore = React.useSyncExternalStore,\n      useRef = React.useRef,\n      useEffect = React.useEffect,\n      useMemo = React.useMemo,\n      useDebugValue = React.useDebugValue;\n    exports.useSyncExternalStoreWithSelector = function (\n      subscribe,\n      getSnapshot,\n      getServerSnapshot,\n      selector,\n      isEqual\n    ) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: !1, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function () {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = !0;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return (memoizedSelection = currentSelection);\n              }\n              return (memoizedSelection = nextSnapshot);\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return (memoizedSnapshot = nextSnapshot), currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return (memoizedSelection = nextSelection);\n          }\n          var hasMemo = !1,\n            memoizedSnapshot,\n            memoizedSelection,\n            maybeGetServerSnapshot =\n              void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function () {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot\n              ? void 0\n              : function () {\n                  return memoizedSelector(maybeGetServerSnapshot());\n                }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function () {\n          inst.hasValue = !0;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.production.js');\n} else {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.development.js');\n}\n","// src/utils/react.ts\nimport * as React from \"react\";\n\n// src/utils/react-is.ts\nvar IS_REACT_19 = /* @__PURE__ */ React.version.startsWith(\"19\");\nvar REACT_ELEMENT_TYPE = /* @__PURE__ */ Symbol.for(\n  IS_REACT_19 ? \"react.transitional.element\" : \"react.element\"\n);\nvar REACT_PORTAL_TYPE = /* @__PURE__ */ Symbol.for(\"react.portal\");\nvar REACT_FRAGMENT_TYPE = /* @__PURE__ */ Symbol.for(\"react.fragment\");\nvar REACT_STRICT_MODE_TYPE = /* @__PURE__ */ Symbol.for(\"react.strict_mode\");\nvar REACT_PROFILER_TYPE = /* @__PURE__ */ Symbol.for(\"react.profiler\");\nvar REACT_CONSUMER_TYPE = /* @__PURE__ */ Symbol.for(\"react.consumer\");\nvar REACT_CONTEXT_TYPE = /* @__PURE__ */ Symbol.for(\"react.context\");\nvar REACT_FORWARD_REF_TYPE = /* @__PURE__ */ Symbol.for(\"react.forward_ref\");\nvar REACT_SUSPENSE_TYPE = /* @__PURE__ */ Symbol.for(\"react.suspense\");\nvar REACT_SUSPENSE_LIST_TYPE = /* @__PURE__ */ Symbol.for(\n  \"react.suspense_list\"\n);\nvar REACT_MEMO_TYPE = /* @__PURE__ */ Symbol.for(\"react.memo\");\nvar REACT_LAZY_TYPE = /* @__PURE__ */ Symbol.for(\"react.lazy\");\nvar REACT_OFFSCREEN_TYPE = /* @__PURE__ */ Symbol.for(\"react.offscreen\");\nvar REACT_CLIENT_REFERENCE = /* @__PURE__ */ Symbol.for(\n  \"react.client.reference\"\n);\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nfunction isValidElementType(type) {\n  return typeof type === \"string\" || typeof type === \"function\" || type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_OFFSCREEN_TYPE || typeof type === \"object\" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_CONSUMER_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_CLIENT_REFERENCE || type.getModuleId !== void 0) ? true : false;\n}\nfunction typeOf(object) {\n  if (typeof object === \"object\" && object !== null) {\n    const { $$typeof } = object;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        switch (object = object.type, object) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return object;\n          default:\n            switch (object = object && object.$$typeof, object) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return object;\n              case REACT_CONSUMER_TYPE:\n                return object;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n}\nfunction isContextConsumer(object) {\n  return IS_REACT_19 ? typeOf(object) === REACT_CONSUMER_TYPE : typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\n\n// src/utils/warning.ts\nfunction warning(message) {\n  if (typeof console !== \"undefined\" && typeof console.error === \"function\") {\n    console.error(message);\n  }\n  try {\n    throw new Error(message);\n  } catch (e) {\n  }\n}\n\n// src/connect/verifySubselectors.ts\nfunction verify(selector, methodName) {\n  if (!selector) {\n    throw new Error(`Unexpected value for ${methodName} in connect.`);\n  } else if (methodName === \"mapStateToProps\" || methodName === \"mapDispatchToProps\") {\n    if (!Object.prototype.hasOwnProperty.call(selector, \"dependsOnOwnProps\")) {\n      warning(\n        `The selector for ${methodName} of connect did not specify a value for dependsOnOwnProps.`\n      );\n    }\n  }\n}\nfunction verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps) {\n  verify(mapStateToProps, \"mapStateToProps\");\n  verify(mapDispatchToProps, \"mapDispatchToProps\");\n  verify(mergeProps, \"mergeProps\");\n}\n\n// src/connect/selectorFactory.ts\nfunction pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, {\n  areStatesEqual,\n  areOwnPropsEqual,\n  areStatePropsEqual\n}) {\n  let hasRunAtLeastOnce = false;\n  let state;\n  let ownProps;\n  let stateProps;\n  let dispatchProps;\n  let mergedProps;\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps)\n      dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps)\n      stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps)\n      dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleNewState() {\n    const nextStateProps = mapStateToProps(state, ownProps);\n    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged)\n      mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    const stateChanged = !areStatesEqual(\n      nextState,\n      state,\n      nextOwnProps,\n      ownProps\n    );\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n}\nfunction finalPropsSelectorFactory(dispatch, {\n  initMapStateToProps,\n  initMapDispatchToProps,\n  initMergeProps,\n  ...options\n}) {\n  const mapStateToProps = initMapStateToProps(dispatch, options);\n  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  const mergeProps = initMergeProps(dispatch, options);\n  if (process.env.NODE_ENV !== \"production\") {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);\n  }\n  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}\n\n// src/utils/bindActionCreators.ts\nfunction bindActionCreators(actionCreators, dispatch) {\n  const boundActionCreators = {};\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === \"function\") {\n      boundActionCreators[key] = (...args) => dispatch(actionCreator(...args));\n    }\n  }\n  return boundActionCreators;\n}\n\n// src/utils/isPlainObject.ts\nfunction isPlainObject(obj) {\n  if (typeof obj !== \"object\" || obj === null) return false;\n  const proto = Object.getPrototypeOf(obj);\n  if (proto === null) return true;\n  let baseProto = proto;\n  while (Object.getPrototypeOf(baseProto) !== null) {\n    baseProto = Object.getPrototypeOf(baseProto);\n  }\n  return proto === baseProto;\n}\n\n// src/utils/verifyPlainObject.ts\nfunction verifyPlainObject(value, displayName, methodName) {\n  if (!isPlainObject(value)) {\n    warning(\n      `${methodName}() in ${displayName} must return a plain object. Instead received ${value}.`\n    );\n  }\n}\n\n// src/connect/wrapMapToProps.ts\nfunction wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch) {\n    const constant = getConstant(dispatch);\n    function constantSelector() {\n      return constant;\n    }\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n}\nfunction getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n}\nfunction wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, { displayName }) {\n    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, void 0);\n    };\n    proxy.dependsOnOwnProps = true;\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      let props = proxy(stateOrDispatch, ownProps);\n      if (typeof props === \"function\") {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n      if (process.env.NODE_ENV !== \"production\")\n        verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n    return proxy;\n  };\n}\n\n// src/connect/invalidArgFactory.ts\nfunction createInvalidArgFactory(arg, name) {\n  return (dispatch, options) => {\n    throw new Error(\n      `Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`\n    );\n  };\n}\n\n// src/connect/mapDispatchToProps.ts\nfunction mapDispatchToPropsFactory(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === \"object\" ? wrapMapToPropsConstant(\n    (dispatch) => (\n      // @ts-ignore\n      bindActionCreators(mapDispatchToProps, dispatch)\n    )\n  ) : !mapDispatchToProps ? wrapMapToPropsConstant((dispatch) => ({\n    dispatch\n  })) : typeof mapDispatchToProps === \"function\" ? (\n    // @ts-ignore\n    wrapMapToPropsFunc(mapDispatchToProps, \"mapDispatchToProps\")\n  ) : createInvalidArgFactory(mapDispatchToProps, \"mapDispatchToProps\");\n}\n\n// src/connect/mapStateToProps.ts\nfunction mapStateToPropsFactory(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(() => ({})) : typeof mapStateToProps === \"function\" ? (\n    // @ts-ignore\n    wrapMapToPropsFunc(mapStateToProps, \"mapStateToProps\")\n  ) : createInvalidArgFactory(mapStateToProps, \"mapStateToProps\");\n}\n\n// src/connect/mergeProps.ts\nfunction defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return { ...ownProps, ...stateProps, ...dispatchProps };\n}\nfunction wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, { displayName, areMergedPropsEqual }) {\n    let hasRunOnce = false;\n    let mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      const nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n      if (hasRunOnce) {\n        if (!areMergedPropsEqual(nextMergedProps, mergedProps))\n          mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== \"production\")\n          verifyPlainObject(mergedProps, displayName, \"mergeProps\");\n      }\n      return mergedProps;\n    };\n  };\n}\nfunction mergePropsFactory(mergeProps) {\n  return !mergeProps ? () => defaultMergeProps : typeof mergeProps === \"function\" ? wrapMergePropsFunc(mergeProps) : createInvalidArgFactory(mergeProps, \"mergeProps\");\n}\n\n// src/utils/batch.ts\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\n// src/utils/Subscription.ts\nfunction createListenerCollection() {\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n    notify() {\n      defaultNoopBatch(() => {\n        let listener = first;\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get() {\n      const listeners = [];\n      let listener = first;\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n      return listeners;\n    },\n    subscribe(callback) {\n      let isSubscribed = true;\n      const listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\nvar nullListeners = {\n  notify() {\n  },\n  get: () => []\n};\nfunction createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners;\n  let subscriptionsAmount = 0;\n  let selfSubscribed = false;\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener);\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n  function trySubscribe() {\n    subscriptionsAmount++;\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = void 0;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}\n\n// src/utils/useIsomorphicLayoutEffect.ts\nvar canUseDOM = () => !!(typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\");\nvar isDOM = /* @__PURE__ */ canUseDOM();\nvar isRunningInReactNative = () => typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\";\nvar isReactNative = /* @__PURE__ */ isRunningInReactNative();\nvar getUseIsomorphicLayoutEffect = () => isDOM || isReactNative ? React.useLayoutEffect : React.useEffect;\nvar useIsomorphicLayoutEffect = /* @__PURE__ */ getUseIsomorphicLayoutEffect();\n\n// src/utils/shallowEqual.ts\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/utils/hoistStatics.ts\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  $$typeof: true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  $$typeof: true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {\n  [ForwardRef]: FORWARD_REF_STATICS,\n  [Memo]: MEMO_STATICS\n};\nfunction getStatics(component) {\n  if (isMemo(component)) {\n    return MEMO_STATICS;\n  }\n  return TYPE_STATICS[component[\"$$typeof\"]] || REACT_STATICS;\n}\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent) {\n  if (typeof sourceComponent !== \"string\") {\n    if (objectPrototype) {\n      const inheritedComponent = getPrototypeOf(sourceComponent);\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent);\n      }\n    }\n    let keys = getOwnPropertyNames(sourceComponent);\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n    const targetStatics = getStatics(targetComponent);\n    const sourceStatics = getStatics(sourceComponent);\n    for (let i = 0; i < keys.length; ++i) {\n      const key = keys[i];\n      if (!KNOWN_STATICS[key] && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        const descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n        try {\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {\n        }\n      }\n    }\n  }\n  return targetComponent;\n}\n\n// src/components/Context.ts\nvar ContextKey = /* @__PURE__ */ Symbol.for(`react-redux-context`);\nvar gT = typeof globalThis !== \"undefined\" ? globalThis : (\n  /* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n  {}\n);\nfunction getContext() {\n  if (!React.createContext) return {};\n  const contextMap = gT[ContextKey] ??= /* @__PURE__ */ new Map();\n  let realContext = contextMap.get(React.createContext);\n  if (!realContext) {\n    realContext = React.createContext(\n      null\n    );\n    if (process.env.NODE_ENV !== \"production\") {\n      realContext.displayName = \"ReactRedux\";\n    }\n    contextMap.set(React.createContext, realContext);\n  }\n  return realContext;\n}\nvar ReactReduxContext = /* @__PURE__ */ getContext();\n\n// src/components/connect.tsx\nvar NO_SUBSCRIPTION_ARRAY = [null, null];\nvar stringifyComponent = (Comp) => {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(() => effectFunc(...effectArgs), dependencies);\n}\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs) {\n  lastWrapperProps.current = wrapperProps;\n  renderIsScheduled.current = false;\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n}\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, additionalSubscribeListener) {\n  if (!shouldHandleStateChanges) return () => {\n  };\n  let didUnsubscribe = false;\n  let lastThrownError = null;\n  const checkForUpdates = () => {\n    if (didUnsubscribe || !isMounted.current) {\n      return;\n    }\n    const latestStoreState = store.getState();\n    let newChildProps, error;\n    try {\n      newChildProps = childPropsSelector(\n        latestStoreState,\n        lastWrapperProps.current\n      );\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n    if (!error) {\n      lastThrownError = null;\n    }\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true;\n      additionalSubscribeListener();\n    }\n  };\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe();\n  checkForUpdates();\n  const unsubscribeWrapper = () => {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n    if (lastThrownError) {\n      throw lastThrownError;\n    }\n  };\n  return unsubscribeWrapper;\n}\nfunction strictEqual(a, b) {\n  return a === b;\n}\nvar hasWarnedAboutDeprecatedPureOption = false;\nfunction connect(mapStateToProps, mapDispatchToProps, mergeProps, {\n  // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.\n  // @ts-ignore\n  pure,\n  areStatesEqual = strictEqual,\n  areOwnPropsEqual = shallowEqual,\n  areStatePropsEqual = shallowEqual,\n  areMergedPropsEqual = shallowEqual,\n  // use React's forwardRef to expose a ref of the wrapped component\n  forwardRef = false,\n  // the context consumer to use\n  context = ReactReduxContext\n} = {}) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (pure !== void 0 && !hasWarnedAboutDeprecatedPureOption) {\n      hasWarnedAboutDeprecatedPureOption = true;\n      warning(\n        'The `pure` option has been removed. `connect` is now always a \"pure/memoized\" component'\n      );\n    }\n  }\n  const Context = context;\n  const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);\n  const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);\n  const initMergeProps = mergePropsFactory(mergeProps);\n  const shouldHandleStateChanges = Boolean(mapStateToProps);\n  const wrapWithConnect = (WrappedComponent) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      const isValid = /* @__PURE__ */ isValidElementType(WrappedComponent);\n      if (!isValid)\n        throw new Error(\n          `You must pass a component to the function returned by connect. Instead received ${stringifyComponent(\n            WrappedComponent\n          )}`\n        );\n    }\n    const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const displayName = `Connect(${wrappedComponentName})`;\n    const selectorFactoryOptions = {\n      shouldHandleStateChanges,\n      displayName,\n      wrappedComponentName,\n      WrappedComponent,\n      // @ts-ignore\n      initMapStateToProps,\n      initMapDispatchToProps,\n      initMergeProps,\n      areStatesEqual,\n      areStatePropsEqual,\n      areOwnPropsEqual,\n      areMergedPropsEqual\n    };\n    function ConnectFunction(props) {\n      const [propsContext, reactReduxForwardedRef, wrapperProps] = React.useMemo(() => {\n        const { reactReduxForwardedRef: reactReduxForwardedRef2, ...wrapperProps2 } = props;\n        return [props.context, reactReduxForwardedRef2, wrapperProps2];\n      }, [props]);\n      const ContextToUse = React.useMemo(() => {\n        let ResultContext = Context;\n        if (propsContext?.Consumer) {\n          if (process.env.NODE_ENV !== \"production\") {\n            const isValid = /* @__PURE__ */ isContextConsumer(\n              // @ts-ignore\n              /* @__PURE__ */ React.createElement(propsContext.Consumer, null)\n            );\n            if (!isValid) {\n              throw new Error(\n                \"You must pass a valid React context consumer as `props.context`\"\n              );\n            }\n            ResultContext = propsContext;\n          }\n        }\n        return ResultContext;\n      }, [propsContext, Context]);\n      const contextValue = React.useContext(ContextToUse);\n      const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n      if (process.env.NODE_ENV !== \"production\" && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(\n          `Could not find \"store\" in the context of \"${displayName}\". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to ${displayName} in connect options.`\n        );\n      }\n      const store = didStoreComeFromProps ? props.store : contextValue.store;\n      const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;\n      const childPropsSelector = React.useMemo(() => {\n        return finalPropsSelectorFactory(store.dispatch, selectorFactoryOptions);\n      }, [store]);\n      const [subscription, notifyNestedSubs] = React.useMemo(() => {\n        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY;\n        const subscription2 = createSubscription(\n          store,\n          didStoreComeFromProps ? void 0 : contextValue.subscription\n        );\n        const notifyNestedSubs2 = subscription2.notifyNestedSubs.bind(subscription2);\n        return [subscription2, notifyNestedSubs2];\n      }, [store, didStoreComeFromProps, contextValue]);\n      const overriddenContextValue = React.useMemo(() => {\n        if (didStoreComeFromProps) {\n          return contextValue;\n        }\n        return {\n          ...contextValue,\n          subscription\n        };\n      }, [didStoreComeFromProps, contextValue, subscription]);\n      const lastChildProps = React.useRef(void 0);\n      const lastWrapperProps = React.useRef(wrapperProps);\n      const childPropsFromStoreUpdate = React.useRef(void 0);\n      const renderIsScheduled = React.useRef(false);\n      const isMounted = React.useRef(false);\n      const latestSubscriptionCallbackError = React.useRef(\n        void 0\n      );\n      useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n          isMounted.current = false;\n        };\n      }, []);\n      const actualChildPropsSelector = React.useMemo(() => {\n        const selector = () => {\n          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n            return childPropsFromStoreUpdate.current;\n          }\n          return childPropsSelector(store.getState(), wrapperProps);\n        };\n        return selector;\n      }, [store, wrapperProps]);\n      const subscribeForReact = React.useMemo(() => {\n        const subscribe = (reactListener) => {\n          if (!subscription) {\n            return () => {\n            };\n          }\n          return subscribeUpdates(\n            shouldHandleStateChanges,\n            store,\n            subscription,\n            // @ts-ignore\n            childPropsSelector,\n            lastWrapperProps,\n            lastChildProps,\n            renderIsScheduled,\n            isMounted,\n            childPropsFromStoreUpdate,\n            notifyNestedSubs,\n            reactListener\n          );\n        };\n        return subscribe;\n      }, [subscription]);\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [\n        lastWrapperProps,\n        lastChildProps,\n        renderIsScheduled,\n        wrapperProps,\n        childPropsFromStoreUpdate,\n        notifyNestedSubs\n      ]);\n      let actualChildProps;\n      try {\n        actualChildProps = React.useSyncExternalStore(\n          // TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing\n          subscribeForReact,\n          // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,\n          // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.\n          actualChildPropsSelector,\n          getServerState ? () => childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector\n        );\n      } catch (err) {\n        if (latestSubscriptionCallbackError.current) {\n          ;\n          err.message += `\nThe error may be correlated with this previous error:\n${latestSubscriptionCallbackError.current.stack}\n\n`;\n        }\n        throw err;\n      }\n      useIsomorphicLayoutEffect(() => {\n        latestSubscriptionCallbackError.current = void 0;\n        childPropsFromStoreUpdate.current = void 0;\n        lastChildProps.current = actualChildProps;\n      });\n      const renderedWrappedComponent = React.useMemo(() => {\n        return (\n          // @ts-ignore\n          /* @__PURE__ */ React.createElement(\n            WrappedComponent,\n            {\n              ...actualChildProps,\n              ref: reactReduxForwardedRef\n            }\n          )\n        );\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]);\n      const renderedChild = React.useMemo(() => {\n        if (shouldHandleStateChanges) {\n          return /* @__PURE__ */ React.createElement(ContextToUse.Provider, { value: overriddenContextValue }, renderedWrappedComponent);\n        }\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    }\n    const _Connect = React.memo(ConnectFunction);\n    const Connect = _Connect;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = ConnectFunction.displayName = displayName;\n    if (forwardRef) {\n      const _forwarded = React.forwardRef(\n        function forwardConnectRef(props, ref) {\n          return /* @__PURE__ */ React.createElement(Connect, { ...props, reactReduxForwardedRef: ref });\n        }\n      );\n      const forwarded = _forwarded;\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return /* @__PURE__ */ hoistNonReactStatics(forwarded, WrappedComponent);\n    }\n    return /* @__PURE__ */ hoistNonReactStatics(Connect, WrappedComponent);\n  };\n  return wrapWithConnect;\n}\nvar connect_default = connect;\n\n// src/components/Provider.tsx\nfunction Provider(providerProps) {\n  const { children, context, serverState, store } = providerProps;\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    const baseContextValue = {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : void 0\n    };\n    if (process.env.NODE_ENV === \"production\") {\n      return baseContextValue;\n    } else {\n      const { identityFunctionCheck = \"once\", stabilityCheck = \"once\" } = providerProps;\n      return /* @__PURE__ */ Object.assign(baseContextValue, {\n        stabilityCheck,\n        identityFunctionCheck\n      });\n    }\n  }, [store, serverState]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const { subscription } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = void 0;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext;\n  return /* @__PURE__ */ React.createElement(Context.Provider, { value: contextValue }, children);\n}\nvar Provider_default = Provider;\n\n// src/hooks/useReduxContext.ts\nfunction createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext2() {\n    const contextValue = React.useContext(context);\n    if (process.env.NODE_ENV !== \"production\" && !contextValue) {\n      throw new Error(\n        \"could not find react-redux context value; please ensure the component is wrapped in a <Provider>\"\n      );\n    }\n    return contextValue;\n  };\n}\nvar useReduxContext = /* @__PURE__ */ createReduxContextHook();\n\n// src/hooks/useStore.ts\nfunction createStoreHook(context = ReactReduxContext) {\n  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : (\n    // @ts-ignore\n    createReduxContextHook(context)\n  );\n  const useStore2 = () => {\n    const { store } = useReduxContext2();\n    return store;\n  };\n  Object.assign(useStore2, {\n    withTypes: () => useStore2\n  });\n  return useStore2;\n}\nvar useStore = /* @__PURE__ */ createStoreHook();\n\n// src/hooks/useDispatch.ts\nfunction createDispatchHook(context = ReactReduxContext) {\n  const useStore2 = context === ReactReduxContext ? useStore : createStoreHook(context);\n  const useDispatch2 = () => {\n    const store = useStore2();\n    return store.dispatch;\n  };\n  Object.assign(useDispatch2, {\n    withTypes: () => useDispatch2\n  });\n  return useDispatch2;\n}\nvar useDispatch = /* @__PURE__ */ createDispatchHook();\n\n// src/hooks/useSelector.ts\nimport { useSyncExternalStoreWithSelector } from \"use-sync-external-store/with-selector.js\";\nvar refEquality = (a, b) => a === b;\nfunction createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : createReduxContextHook(context);\n  const useSelector2 = (selector, equalityFnOrOptions = {}) => {\n    const { equalityFn = refEquality } = typeof equalityFnOrOptions === \"function\" ? { equalityFn: equalityFnOrOptions } : equalityFnOrOptions;\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n      if (typeof selector !== \"function\") {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n      if (typeof equalityFn !== \"function\") {\n        throw new Error(\n          `You must pass a function as an equality function to useSelector`\n        );\n      }\n    }\n    const reduxContext = useReduxContext2();\n    const { store, subscription, getServerState } = reduxContext;\n    const firstRun = React.useRef(true);\n    const wrappedSelector = React.useCallback(\n      {\n        [selector.name](state) {\n          const selected = selector(state);\n          if (process.env.NODE_ENV !== \"production\") {\n            const { devModeChecks = {} } = typeof equalityFnOrOptions === \"function\" ? {} : equalityFnOrOptions;\n            const { identityFunctionCheck, stabilityCheck } = reduxContext;\n            const {\n              identityFunctionCheck: finalIdentityFunctionCheck,\n              stabilityCheck: finalStabilityCheck\n            } = {\n              stabilityCheck,\n              identityFunctionCheck,\n              ...devModeChecks\n            };\n            if (finalStabilityCheck === \"always\" || finalStabilityCheck === \"once\" && firstRun.current) {\n              const toCompare = selector(state);\n              if (!equalityFn(selected, toCompare)) {\n                let stack = void 0;\n                try {\n                  throw new Error();\n                } catch (e) {\n                  ;\n                  ({ stack } = e);\n                }\n                console.warn(\n                  \"Selector \" + (selector.name || \"unknown\") + \" returned a different result when called with the same parameters. This can lead to unnecessary rerenders.\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization\",\n                  {\n                    state,\n                    selected,\n                    selected2: toCompare,\n                    stack\n                  }\n                );\n              }\n            }\n            if (finalIdentityFunctionCheck === \"always\" || finalIdentityFunctionCheck === \"once\" && firstRun.current) {\n              if (selected === state) {\n                let stack = void 0;\n                try {\n                  throw new Error();\n                } catch (e) {\n                  ;\n                  ({ stack } = e);\n                }\n                console.warn(\n                  \"Selector \" + (selector.name || \"unknown\") + \" returned the root state when called. This can lead to unnecessary rerenders.\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.\",\n                  { stack }\n                );\n              }\n            }\n            if (firstRun.current) firstRun.current = false;\n          }\n          return selected;\n        }\n      }[selector.name],\n      [selector]\n    );\n    const selectedState = useSyncExternalStoreWithSelector(\n      subscription.addNestedSub,\n      store.getState,\n      getServerState || store.getState,\n      wrappedSelector,\n      equalityFn\n    );\n    React.useDebugValue(selectedState);\n    return selectedState;\n  };\n  Object.assign(useSelector2, {\n    withTypes: () => useSelector2\n  });\n  return useSelector2;\n}\nvar useSelector = /* @__PURE__ */ createSelectorHook();\n\n// src/exports.ts\nvar batch = defaultNoopBatch;\nexport {\n  Provider_default as Provider,\n  ReactReduxContext,\n  batch,\n  connect_default as connect,\n  createDispatchHook,\n  createSelectorHook,\n  createStoreHook,\n  shallowEqual,\n  useDispatch,\n  useSelector,\n  useStore\n};\n//# sourceMappingURL=react-redux.mjs.map","\"use client\";\nimport { updateDeviceTypeFromWidth } from \"@redux/Features/App/appSlice\";\nimport { RootState } from \"@redux/stores\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nexport const useDeviceType = () => {\n  const dispatch = useDispatch();\n  const deviceType = useSelector((state: RootState) => state.app.deviceType);\n\n  useEffect(() => {\n    // 초기 디바이스 타입 설정\n    const updateDeviceType = () => {\n      dispatch(updateDeviceTypeFromWidth(window.innerWidth));\n    };\n\n    // 초기 설정\n    updateDeviceType();\n\n    // 리사이즈 이벤트 리스너 추가\n    window.addEventListener(\"resize\", updateDeviceType);\n\n    // 클린업\n    return () => {\n      window.removeEventListener(\"resize\", updateDeviceType);\n    };\n  }, [dispatch]);\n\n  // 편의 함수들\n  const isMobile = deviceType === \"mobile\";\n  const isTablet = deviceType === \"tablet\";\n  const isDesktop = deviceType === \"desktop\";\n  const isMobileOrTablet = deviceType === \"mobile\" || deviceType === \"tablet\";\n\n  return {\n    deviceType,\n    isMobile,\n    isTablet,\n    isDesktop,\n    isMobileOrTablet,\n  };\n}; ","import {\n  hideAllLoaders,\n  hideLoading,\n  hideMiniLoading,\n  selectUIState,\n  setLoadingText,\n  setMiniLoadingText,\n  showLoading,\n  showMiniLoading\n} from \"@redux/Features/UI/uiSlice\";\nimport { useCallback } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"./index\";\n\nexport const useGlobalLoader = () => {\n  const dispatch = useAppDispatch();\n  const { isAutoTransitioned } = useAppSelector(selectUIState);\n\n  // 기본 로더 (미니로더 사용) - 게시글 작성 외 모든 상황에서 사용\n  const showLoader = useCallback((text?: string) => {\n    dispatch(showMiniLoading(text));\n  }, [dispatch]);\n\n  const hideLoader = useCallback(() => {\n    dispatch(hideMiniLoading());\n  }, [dispatch]);\n\n  const setLoaderText = useCallback((text?: string) => {\n    dispatch(setMiniLoadingText(text));\n  }, [dispatch]);\n\n  const withLoader = useCallback(\n    async <T>(asyncFn: () => Promise<T>): Promise<T> => {\n      try {\n        showLoader();\n        const result = await asyncFn();\n        return result;\n      } finally {\n        hideLoader();\n      }\n    },\n    [showLoader, hideLoader]\n  );\n\n  // 게시글 작성용 풀스크린 로더\n  const showPostLoader = useCallback((text?: string) => {\n    dispatch(showLoading(text));\n  }, [dispatch]);\n\n  const hidePostLoader = useCallback(() => {\n    // 자동 전환된 경우 모든 로더를 종료\n    if (isAutoTransitioned) {\n      dispatch(hideAllLoaders());\n    } else {\n      dispatch(hideLoading());\n    }\n  }, [dispatch, isAutoTransitioned]);\n\n  const setPostLoaderText = useCallback((text?: string) => {\n    dispatch(setLoadingText(text));\n  }, [dispatch]);\n\n  const withPostLoader = useCallback(\n    async <T>(asyncFn: () => Promise<T>): Promise<T> => {\n      try {\n        showPostLoader();\n        const result = await asyncFn();\n        return result;\n      } finally {\n        hidePostLoader();\n      }\n    },\n    [showPostLoader, hidePostLoader]\n  );\n\n  // Mini 로더 관련 함수들 (직접 사용할 때)\n  const showMiniLoader = useCallback((text?: string) => {\n    dispatch(showMiniLoading(text));\n  }, [dispatch]);\n\n  const hideMiniLoader = useCallback(() => {\n    dispatch(hideMiniLoading());\n  }, [dispatch]);\n\n  const setMiniLoaderText = useCallback((text?: string) => {\n    dispatch(setMiniLoadingText(text));\n  }, [dispatch]);\n\n  const withMiniLoader = useCallback(\n    async <T>(asyncFn: () => Promise<T>): Promise<T> => {\n      try {\n        showMiniLoader();\n        const result = await asyncFn();\n        return result;\n      } finally {\n        hideMiniLoader();\n      }\n    },\n    [showMiniLoader, hideMiniLoader]\n  );\n\n  return {\n    // 기본 로더 (이제 미니로더 사용) - 게시글 작성 외 모든 상황\n    showLoader,\n    hideLoader,\n    withLoader,\n    setLoaderText,\n    \n    // 게시글 작성용 풀스크린 로더\n    showPostLoader,\n    hidePostLoader,\n    withPostLoader,\n    setPostLoaderText,\n    \n    // 직접 미니 로더 제어\n    showMiniLoader,\n    hideMiniLoader,\n    withMiniLoader,\n    setMiniLoaderText,\n  };\n}; ","'use client';\n\nimport { useAppDispatch, useAppSelector } from '@hooks/common';\nimport { showToast } from '@redux/Features/Toast/toastSlice';\nimport { selectUserInfo } from '@redux/Features/User/userSlice';\nimport { getUserLevel, hasLevelPermission, isAdmin } from '@util/authUtil';\nimport { getCurrentUserFromToken } from '@util/jwtUtil';\nimport { useCallback, useEffect, useState } from 'react';\n\nexport const usePermission = () => {\n  const dispatch = useAppDispatch();\n  const userInfo = useAppSelector(selectUserInfo);\n  const reduxUser = userInfo?.userInfo;\n  const [jwtUser, setJwtUser] = useState<any>(null);\n\n  // 현재 사용자: Redux 사용자 정보를 우선하되, 없으면 JWT 정보 사용 (극히 예외적 상황)\n  const currentUser = reduxUser || jwtUser;\n  const userLevel = getUserLevel(currentUser);\n  const adminStatus = isAdmin(currentUser);\n  const isLoggedIn = userInfo?.isLoggedIn || !!jwtUser;\n\n  // JWT 토큰에서 사용자 정보 가져오기 (Redux에 정보가 없을 때만 대비용)\n  useEffect(() => {\n    const getJwtUser = async () => {\n      // Redux에 사용자 정보가 이미 있으면 JWT 조회 생략\n      if (reduxUser) {\n        setJwtUser(null);\n        return;\n      }\n\n      try {\n        const tokenUser = await getCurrentUserFromToken();\n        setJwtUser(tokenUser);\n      } catch (error) {\n        // JWT 토큰이 없거나 유효하지 않은 경우\n        setJwtUser(null);\n      }\n    };\n\n    getJwtUser();\n  }, [reduxUser]);\n\n  // 권한 체크 함수 - Redux store 정보 우선 사용 (동기 처리)\n  const checkPermission = useCallback(\n    (requiredLevel?: number) => {\n      if (requiredLevel === undefined) return true;\n\n      // Redux store의 사용자 정보가 있으면 우선 사용 (이것이 일반적인 경우)\n      if (reduxUser) {\n        return hasLevelPermission(reduxUser, requiredLevel);\n      }\n\n      // Redux에 정보가 없는 예외적 상황에서만 JWT 사용\n      if (jwtUser) {\n        console.warn(\n          'Redux store에 사용자 정보가 없어 JWT 토큰 정보를 사용합니다.'\n        );\n        return hasLevelPermission(jwtUser, requiredLevel);\n      }\n\n      // 사용자 정보가 전혀 없는 경우\n      return requiredLevel === 0;\n    },\n    [reduxUser, jwtUser]\n  );\n\n  // 권한이 없는 경우 토스트 메시지 표시\n  const showAccessDeniedToast = useCallback(() => {\n    dispatch(\n      showToast({\n        title: '접근 권한이 없습니다.',\n        content: '해당 메뉴에 접근할 권한이 없습니다.',\n        headerTextColor: 'text-red-500',\n      })\n    );\n  }, [dispatch]);\n\n  return {\n    checkPermission,\n    showAccessDeniedToast,\n    userLevel,\n    isAdmin: adminStatus,\n    isLoggedIn,\n    currentUser,\n  };\n};\n","\"use client\";\nimport { useRouter as useNextRouter, usePathname } from \"next/navigation\";\nimport { useCallback, useEffect } from \"react\";\nimport { useGlobalLoader } from \"./useGlobalLoader\";\n\nexport const useRouterWithLoader = () => {\n  const router = useNextRouter();\n  const pathname = usePathname();\n  const { showMiniLoader, hideMiniLoader } = useGlobalLoader();\n\n  // 페이지 이동 완료 시 로더 숨기기\n  useEffect(() => {\n    // pathname이 변경되면 로더를 숨김\n    hideMiniLoader();\n  }, [pathname, hideMiniLoader]);\n\n  // 경로 비교 및 외부 도메인 체크 함수\n  const shouldShowLoader = useCallback((href: string): boolean => {\n    try {\n      let targetPath: string;\n      let isExternalDomain = false;\n\n      // 절대 URL인 경우\n      if (href.startsWith('http')) {\n        const targetUrl = new URL(href);\n        const currentDomain = window.location.hostname;\n        \n        // 외부 도메인인지 확인\n        isExternalDomain = targetUrl.hostname !== currentDomain;\n        targetPath = targetUrl.pathname;\n      } \n      // 상대 URL인 경우\n      else {\n        targetPath = href.split('?')[0].split('#')[0]; // 쿼리파라미터와 해시 제거\n      }\n      \n      // 외부 도메인이거나 현재 경로와 같은 경우 로더 표시하지 않음\n      if (isExternalDomain || targetPath === pathname) {\n        return false;\n      }\n      \n      return true;\n    } catch {\n      // URL 파싱 실패 시 - 외부 링크가 아닌 경우에만 로더 표시\n      return !href.startsWith('http');\n    }\n  }, [pathname]);\n\n  // router.push를 래핑하여 필요한 경우에만 로더를 표시\n  const push = useCallback(\n    (href: string, options?: { scroll?: boolean }) => {\n      if (shouldShowLoader(href)) {\n        showMiniLoader(\"페이지를 이동하는 중입니다.\");\n      }\n      return router.push(href, options);\n    },\n    [router, showMiniLoader, shouldShowLoader]\n  );\n\n  // router.replace를 래핑하여 필요한 경우에만 로더를 표시\n  const replace = useCallback(\n    (href: string, options?: { scroll?: boolean }) => {\n      if (shouldShowLoader(href)) {\n        showMiniLoader(\"페이지를 이동하는 중입니다.\");\n      }\n      return router.replace(href, options);\n    },\n    [router, showMiniLoader, shouldShowLoader]\n  );\n\n  // 다른 router 메서드들은 그대로 전달\n  return {\n    ...router,\n    push,\n    replace,\n  };\n};\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport type { AppDispatch, RootState } from \"@redux/stores\";\nimport userService from \"@services/userService\";\nimport { debounce, throttle } from \"lodash\";\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\n// import { geohashForLocation } from 'geofire-common';\n// import Geocode from '@config/Geocode';\n// import type { GeoLocation } from '@model/Shop';\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const useDebounce = (lazyFn: any) => {\n  return debounce(lazyFn, 200);\n};\n\nexport const useThrottle = (lazyFn: (...args: unknown[]) => void) => {\n  return throttle(lazyFn, 200);\n};\n\nexport const useImageUpload = () => {\n  const uploadPreviewImage = (\n    e: React.ChangeEvent<HTMLInputElement>,\n    lazyFn?: ({\n      file,\n      result,\n    }: {\n      file: File;\n      result: string | ArrayBuffer | null;\n    }) => void\n  ) => {\n    if (e.currentTarget.files) {\n      const file = e.currentTarget.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        const { result } = reader;\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        lazyFn && lazyFn({ file, result });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return { uploadPreviewImage };\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport const getRealtimeUser = async (): Promise<string> => {\n  const res = await userService.getRealtimeUser();\n\n  if (res.successOrNot === \"N\") {\n    return \"0\";\n  }\n  return res.data || \"0\";\n};\n\nexport { useDeviceType } from \"./useDeviceType\";\nexport { useGlobalLoader } from './useGlobalLoader';\nexport { useGlobalPopup } from './useGlobalPopup';\nexport { useNavigation } from './useNavigation';\nexport { usePermission } from './usePermission';\nexport { useRouterWithLoader } from './useRouterWithLoader';\nexport { useSafeGlobalLoader } from './useSafeGlobalLoader';\n\n","\"use client\";\n\nimport { useAppDispatch, useAppSelector } from \"@hooks/common\";\nimport { useGlobalLoader } from \"@hooks/common/useGlobalLoader\";\nimport { useRouterWithLoader } from \"@hooks/common/useRouterWithLoader\";\nimport { showToast } from \"@redux/Features/Toast/toastSlice\";\nimport type { LoginFormData } from \"@redux/Features/User/userSlice\";\nimport { autoLogin, login, logout, selectUserInfo } from \"@redux/Features/User/userSlice\";\nimport { useCallback } from \"react\";\n\nexport const useAuth = () => {\n  const dispatch = useAppDispatch();\n  const userState = useAppSelector(selectUserInfo);\n  const { withLoader, showLoader, hideLoader } = useGlobalLoader();\n  const router = useRouterWithLoader();\n\n  // 로딩과 함께 로그인 처리\n  const loginWithLoader = useCallback(async (loginData: LoginFormData) => {\n    return withLoader(async () => {\n      const result = await dispatch(login(loginData));\n      \n      if (login.fulfilled.match(result)) {\n        dispatch(showToast({\n          title: \"로그인 성공\",\n          content: `환영합니다, ${result.payload.nickname}님!`,\n          headerTextColor: \"text-green-500\",\n        }));\n        return { success: true, user: result.payload };\n      } else {\n        const errorMessage = result.payload?.result || \"로그인에 실패했습니다.\";\n        dispatch(showToast({\n          title: \"로그인 실패\",\n          content: errorMessage,\n          headerTextColor: \"text-red-500\",\n        }));\n        return { success: false, error: errorMessage };\n      }\n    });\n  }, [dispatch, withLoader]);\n\n  // 로딩과 함께 로그아웃 처리\n  const logoutWithLoader = useCallback(async () => {\n    return withLoader(async () => {\n      const result = await dispatch(logout());\n      \n      if (logout.fulfilled.match(result)) {\n        dispatch(showToast({\n          title: \"로그아웃 완료\",\n          content: \"안전하게 로그아웃되었습니다.\",\n          headerTextColor: \"text-blue-500\",\n        }));\n        \n        // 메인 페이지로 이동\n        router.push(\"/\");\n        return { success: true };\n      } else {\n        const errorMessage = result.payload?.result || \"로그아웃에 실패했습니다.\";\n        dispatch(showToast({\n          title: \"로그아웃 실패\",\n          content: errorMessage,\n          headerTextColor: \"text-red-500\",\n        }));\n        return { success: false, error: errorMessage };\n      }\n    });\n  }, [dispatch, withLoader, router]);\n\n  // 자동 로그인 (초기화 시)\n  const initializeAuth = useCallback(async () => {\n    try {\n      showLoader(\"인증 정보를 확인하는 중입니다...\");\n      const result = await dispatch(autoLogin());\n      \n      if (autoLogin.fulfilled.match(result)) {\n        // console.log(\"자동 로그인 성공:\", result.payload.nickname);\n        return { success: true, user: result.payload };\n      } else {\n        // console.log(\"자동 로그인 실패 또는 세션 없음\");\n        return { success: false, error: result.payload?.result };\n      }\n    } finally {\n      hideLoader();\n    }\n  }, [dispatch, showLoader, hideLoader]);\n\n  // 세션 상태 확인 (수동 호출용)\n  const checkSession = useCallback(async () => {\n    try {\n      const { getCurrentUserFromToken, isTokenExpired } = await import(\"@util/jwtUtil\");\n      const tokenPayload = await getCurrentUserFromToken();\n      \n      if (!tokenPayload) {\n        return { valid: false, reason: \"NO_TOKEN\" };\n      }\n      \n      if (isTokenExpired(tokenPayload)) {\n        return { valid: false, reason: \"EXPIRED\" };\n      }\n      \n      return { valid: true, user: tokenPayload };\n    } catch (error) {\n      console.error(\"세션 확인 실패:\", error);\n      return { valid: false, reason: \"ERROR\" };\n    }\n  }, []);\n\n  // 권한 체크와 함께 페이지 이동\n  const navigateWithAuth = useCallback(async (\n    path: string, \n    requiredLevel?: number,\n    adminOnly?: boolean\n  ) => {\n    const sessionCheck = await checkSession();\n    \n    if (!sessionCheck.valid) {\n      dispatch(showToast({\n        title: \"로그인 필요\",\n        content: \"로그인이 필요한 서비스입니다.\",\n        headerTextColor: \"text-orange-500\",\n      }));\n      return false;\n    }\n\n    // 권한 체크 로직 추가 가능\n    if (adminOnly && sessionCheck.user && !sessionCheck.user.is_admin) {\n      dispatch(showToast({\n        title: \"권한 부족\",\n        content: \"관리자만 접근할 수 있습니다.\",\n        headerTextColor: \"text-red-500\",\n      }));\n      return false;\n    }\n\n    router.push(path);\n    return true;\n  }, [checkSession, dispatch, router]);\n\n  return {\n    // 상태\n    userState,\n    isLoggedIn: userState.isLoggedIn,\n    user: userState.userInfo,\n    error: userState.error,\n    \n    // 액션들\n    loginWithLoader,\n    logoutWithLoader,\n    initializeAuth,\n    checkSession,\n    navigateWithAuth,\n    \n    // 편의 함수들\n    isAdmin: () => \n      (userState.userInfo?.permissionType === 'admin' || \n      userState.userInfo?.permissionType === 'super_admin') &&\n      (userState.userInfo?.level ?? 0) >= 99,\n    isUser: () => userState.isLoggedIn && userState.userInfo,\n  };\n}; ","'use client';\n\nimport { useAppSelector } from '@hooks/common';\nimport type { AuthErrorType } from '@organisms/AuthErrorHandler';\nimport { selectUserInfo } from '@redux/Features/User/userSlice';\nimport {\n  hasBoardPermission,\n  hasLevelPermission,\n  isAdmin,\n} from '@util/authUtil';\nimport { getCurrentUserFromToken, isTokenExpired } from '@util/jwtUtil';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nexport interface AuthGuardOptions {\n  requiredLevel?: number;\n  adminOnly?: boolean;\n  boardPermissions?: {\n    writeLevel?: number;\n    readLevel?: number;\n  };\n  redirectOnError?: string;\n  showToastOnError?: boolean;\n}\n\nexport interface AuthGuardResult {\n  isAuthenticated: boolean;\n  hasPermission: boolean;\n  isLoading: boolean;\n  user: any;\n  errorType: AuthErrorType | null;\n  checkPermissionAsync: () => Promise<boolean>;\n}\n\nexport const useAuthGuard = (\n  options: AuthGuardOptions = {}\n): AuthGuardResult => {\n  const userState = useAppSelector(selectUserInfo);\n  const { userInfo, isLoggedIn } = userState;\n  const [isLoading, setIsLoading] = useState(true);\n  const [errorType, setErrorType] = useState<AuthErrorType | null>(null);\n  const [tokenUser, setTokenUser] = useState<any>(null);\n\n  // 무한 재실행 방지를 위한 ref\n  const isCheckingRef = useRef(false);\n  const lastTokenUserRef = useRef<string | null>(null);\n\n  // JWT 토큰 기반 인증 상태 확인 및 자동 정리\n  const checkTokenAuth = useCallback(async () => {\n    try {\n      // 토큰 유효성 검증 및 자동 정리 함수 사용\n      const { validateAndCleanToken } = await import('@util/jwtUtil');\n      const tokenPayload = await validateAndCleanToken();\n\n      if (!tokenPayload) {\n        setErrorType('LOGIN_REQUIRED');\n        return false;\n      }\n\n      // 토큰 사용자가 실제로 변경된 경우에만 상태 업데이트\n      const tokenUserString = JSON.stringify(tokenPayload);\n      if (lastTokenUserRef.current !== tokenUserString) {\n        lastTokenUserRef.current = tokenUserString;\n        setTokenUser(tokenPayload);\n      }\n\n      return true;\n    } catch (error) {\n      console.error('토큰 인증 확인 실패:', error);\n      setErrorType('TOKEN_INVALID');\n      \n      // 오류 시에도 만료된 토큰 정리\n      const { removeExpiredTokenFromCookie } = await import('@util/jwtUtil');\n      removeExpiredTokenFromCookie();\n      return false;\n    }\n  }, []);\n\n  // 권한 체크 로직 - Redux store 정보 우선 사용\n  const checkPermissions = useCallback(\n    (user: any) => {\n      // 관리자 전용 체크\n      if (options.adminOnly && !isAdmin(user)) {\n        setErrorType('ADMIN_ONLY');\n        return false;\n      }\n\n      // 레벨 권한 체크 - 동기 처리로 변경 (Redux store 정보 사용)\n      if (\n        options.requiredLevel !== undefined &&\n        !hasLevelPermission(user, options.requiredLevel)\n      ) {\n        setErrorType('INSUFFICIENT_PERMISSION');\n        return false;\n      }\n\n      // 게시판 권한 체크\n      if (options.boardPermissions) {\n        const writeLevel = options.boardPermissions.writeLevel;\n        const readLevel = options.boardPermissions.readLevel;\n\n        if (\n          writeLevel !== undefined &&\n          !hasBoardPermission(user, writeLevel, true)\n        ) {\n          setErrorType('INSUFFICIENT_PERMISSION');\n          return false;\n        }\n\n        if (\n          readLevel !== undefined &&\n          !hasBoardPermission(user, readLevel, true)\n        ) {\n          setErrorType('INSUFFICIENT_PERMISSION');\n          return false;\n        }\n      }\n\n      return true;\n    },\n    [options.adminOnly, options.requiredLevel, options.boardPermissions]\n  );\n\n  // 비동기 권한 체크 (수동 호출용) - 의존성 최소화\n  const checkPermissionAsync = useCallback(async (): Promise<boolean> => {\n    // 이미 체크 중이면 중복 실행 방지\n    if (isCheckingRef.current) {\n      return false;\n    }\n\n    isCheckingRef.current = true;\n    setIsLoading(true);\n    setErrorType(null);\n\n    try {\n      // 1. Redux store에 사용자 정보가 있으면 우선 사용\n      if (isLoggedIn && userInfo) {\n        const hasPermission = checkPermissions(userInfo);\n        return hasPermission;\n      }\n\n      // 2. Redux에 정보가 없는 경우에만 토큰 기반 인증 확인 (예외적 상황)\n      const isTokenValid = await checkTokenAuth();\n      if (!isTokenValid) {\n        return false;\n      }\n\n      // 3. 토큰 사용자 정보로 권한 체크 (극히 예외적 상황)\n      if (!tokenUser) {\n        setErrorType('LOGIN_REQUIRED');\n        return false;\n      }\n\n      console.warn(\n        'Redux store에 사용자 정보가 없어 JWT 토큰 정보로 권한 체크를 수행합니다.'\n      );\n      const hasPermission = checkPermissions(tokenUser);\n      return hasPermission;\n    } catch (error) {\n      console.error('권한 체크 실패:', error);\n      setErrorType('TOKEN_INVALID');\n      return false;\n    } finally {\n      setIsLoading(false);\n      isCheckingRef.current = false;\n    }\n  }, [checkTokenAuth, checkPermissions, isLoggedIn, userInfo, tokenUser]);\n\n  // 초기 권한 체크 (컴포넌트 마운트 시에만) - 의존성 제거\n  useEffect(() => {\n    checkPermissionAsync();\n  }, []); // 빈 의존성 배열로 한 번만 실행\n\n  // Redux 사용자 정보 변경 시 재체크 - 동기 처리로 변경\n  useEffect(() => {\n    if (isLoggedIn && userInfo && !isCheckingRef.current) {\n      const hasPermission = checkPermissions(userInfo);\n      if (!hasPermission) {\n        setIsLoading(false);\n      } else {\n        setIsLoading(false);\n        setErrorType(null);\n      }\n    }\n  }, [isLoggedIn, userInfo, checkPermissions]);\n\n  // Redux 정보를 우선하되, 없으면 토큰 사용자 정보 사용\n  const currentUser = userInfo || tokenUser;\n  const isAuthenticated = isLoggedIn && !!currentUser;\n  const hasPermission = isAuthenticated && !errorType;\n\n  return {\n    isAuthenticated,\n    hasPermission,\n    isLoading,\n    user: currentUser,\n    errorType,\n    checkPermissionAsync,\n  };\n};\n\n// 편의 Hook들\nexport const useAdminGuard = (options?: Omit<AuthGuardOptions, 'adminOnly'>) =>\n  useAuthGuard({ ...options, adminOnly: true });\n\nexport const useLevelGuard = (\n  requiredLevel: number,\n  options?: Omit<AuthGuardOptions, 'requiredLevel'>\n) => useAuthGuard({ ...options, requiredLevel });\n\nexport const useBoardWriteGuard = (\n  writeLevel: number,\n  options?: Omit<AuthGuardOptions, 'boardPermissions'>\n) =>\n  useAuthGuard({\n    ...options,\n    boardPermissions: { writeLevel },\n  });\n","import { CommonResponse } from \"../../types/common\";\nimport pointService from \"@services/pointService\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nexport const useUserPointQuery = (userId: string) => {\n  return useQuery({\n    queryKey: [\"userPoint\", userId],\n    queryFn: () => pointService.getUserPoint(userId),\n    staleTime: 1000 * 60 * 3, // 3분 동안 캐시 유지 (구매 내역은 변경될 수 있으므로 단축)\n    gcTime: 1000 * 60 * 60, // 1시간 동안 캐시 저장\n    retry: 3, // 실패 시 3번까지 재시도\n    select: (data: CommonResponse<number>) => {\n      if (data.successOrNot === \"Y\" && data.data) {\n        return data.data;\n      }\n      throw new Error(\"Failed to fetch user point\");\n    }\n  });\n};\n\nexport const useUserPointHistoryQuery = (userId: string) => {\n  return useQuery({\n    queryKey: [\"userPointHistory\", userId],\n    queryFn: () => pointService.getUserPointHistory(userId),\n  });\n};","import { SearchType, SortBy } from \"../../types/board\";\nimport type { CommonResponse } from \"../../types/common\";\nimport type { GalleryListItem, Post } from \"../../types/post\";\nimport postService from \"@services/postService\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { timeAgo } from \"@util/dateUtil\";\n\ninterface PostService {\n  boardId: number;\n  page: number;\n  pageSize?: number;\n  sortBy?: SortBy;\n  searchType?: SearchType;\n  searchText?: string;\n  categoryId?: string | number | null;\n}\n\nexport const usePostQuery = (\n  params: PostService,\n  options: { enabled: boolean }\n) =>\n  useQuery({\n    queryKey: [\"post\", params],\n    queryFn: () => postService.getPost(params),\n    staleTime: 10000, // 10초 동안 캐시 유지\n    gcTime: 1000 * 60 * 60 * 24, // 24시간 동안 캐시 저장\n    retry: 3, // 실패 시 3번까지 재시도\n    enabled: options?.enabled,\n    placeholderData: (prev) => prev,\n    refetchOnMount: false,\n    select: (data: CommonResponse<Post>) => {\n      if (data.successOrNot === \"N\") {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      if (!data.data) {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      return {\n        data: {\n          items: data.data.items.map((item) => ({\n            ...item,\n            created_at: timeAgo(item.created_at || new Date().toISOString()),\n          })),\n          totalCount: data.data.totalCount,\n          notices: data.data.notices,\n        },\n      };\n    },\n  });\n\nexport const usePostBookmarkQuery = () =>\n  useQuery({\n    queryKey: [\"postBookmark\"],\n    queryFn: () => postService.getBookmarkPosts(),\n    staleTime: 1000 * 30, // 30초 동안 캐시 유지\n    gcTime: 1000 * 60 * 60 * 24, // 24시간 동안 캐시 저장\n    retry: 3, // 실패 시 3번까지 재시도\n    select: (data: CommonResponse<GalleryListItem[]>) => {\n      if (data.successOrNot === \"N\") {\n        return {\n          data: [],\n        };\n      }\n      return data.data;\n    },\n  });\n\nexport const useDraftPostQuery = (\n  params: {\n    page?: number;\n    pageSize?: number;\n    sortBy?: SortBy;\n    writerId?: number;\n  } = {},\n  options: { enabled: boolean; enablePolling?: boolean } = { enabled: true, enablePolling: false }\n) =>\n  useQuery({\n    queryKey: [\"draftPost\", params],\n    queryFn: () => postService.getDraftPosts(params),\n    staleTime: 0, // 폴링 사용 시 캐시 비활성화\n    gcTime: 1000 * 60 * 5, // 5분 동안 캐시 저장\n    retry: 3, // 실패 시 3번까지 재시도\n    enabled: options?.enabled,\n    refetchInterval: (query) => {\n      // 폴링이 비활성화된 경우\n      if (!options?.enablePolling) return false;\n      \n      // 쿼리 결과를 확인하여 모든 업로드가 완료되었으면 폴링 중지\n      const result = query.state.data;\n      if (result && result.data && Array.isArray(result.data)) {\n        const allCompleted = result.data.every((post: any) => {\n          if (!post.attachments || post.attachments.length === 0) return true;\n          return post.attachments.every((attachment: any) => attachment.status === 'uploaded');\n        });\n        \n        if (allCompleted) {\n          console.log('✅ 모든 파일 업로드가 완료되어 폴링을 중지합니다.');\n          return false;\n        }\n      }\n      \n      return 2000; // 2초마다 폴링\n    },\n    refetchIntervalInBackground: false, // 백그라운드에서는 폴링 비활성화\n    select: (data: CommonResponse<Post>) => {\n      if (data.successOrNot === \"N\") {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      if (!data.data) {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      return {\n        data: {\n          items: data.data.items.map((item) => ({\n            ...item,\n            created_at: timeAgo(item.created_at || new Date().toISOString()),\n          })),\n          totalCount: data.data.totalCount,\n          notices: data.data.notices,\n        },\n      };\n    },\n  });","import type { CommonResponse } from \"../../types/common\";\nimport type { Board } from \"../../types/board\";\nimport boardService from \"@services/boardService\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nexport const useBoardQuery = (options: { enabled: boolean }) =>\n  useQuery<CommonResponse<Board[]>>({\n    queryKey: [\"boards\"],\n    queryFn: () => boardService.getBoards(),\n    staleTime: 1000 * 60 * 60, // 1시간 동안 캐시 유지\n    gcTime: 1000 * 60 * 60 * 24, // 24시간 동안 캐시 저장\n    retry: 3, // 실패 시 3번까지 재시도\n    enabled: options?.enabled,\n    select: (data: CommonResponse<Board[]>) => {\n      if (data.successOrNot === \"N\" || !data.data) {\n        return {\n          ...data,\n          data: [],\n        };\n      }\n      return data;\n    },\n  });\n\nexport const useSingleBoardQuery = (boardId: number, options?: { enabled?: boolean }) =>\n  useQuery<CommonResponse<Board>>({\n    queryKey: [\"board\", boardId],\n    queryFn: () => boardService.getBoard(boardId),\n    staleTime: 1000 * 60 * 60, // 1시간 동안 캐시 유지\n    gcTime: 1000 * 60 * 60 * 24, // 24시간 동안 캐시 저장\n    retry: 3, // 실패 시 3번까지 재시도\n    enabled: options?.enabled !== false && boardId > 0,\n    select: (data: CommonResponse<Board>) => {\n      if (data.successOrNot === \"N\" || !data.data) {\n        return {\n          ...data,\n          data: null,\n        };\n      }\n      return data;\n    },\n  });\n","import type { CommonResponse } from \"../../types/common\";\nimport commentService from \"@services/commentService\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { timeAgo } from \"@util/dateUtil\";\n\n// 댓글 조회를 위한 인터페이스\ninterface CommentQueryParams {\n  postId: number;\n  page: number;\n  pageSize?: number;\n}\n\n// 댓글 조회 훅\nexport const useCommentQuery = (\n  params: CommentQueryParams,\n  options?: { enabled?: boolean }\n) => {\n\n  \n  return useQuery({\n    queryKey: [\"comments\", params],\n    queryFn: () => {\n      return commentService.getComments(params);\n    },\n    staleTime: 1000 * 60 * 5, // 5분 동안 캐시 유지\n    gcTime: 1000 * 60 * 30, // 30분 동안 캐시 저장\n    retry: 2, // 실패 시 2번까지 재시도\n    enabled: options?.enabled ?? true,\n    select: (data: CommonResponse<any>) => {\n      \n      if (data.successOrNot === \"N\") {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n          },\n        };\n      }\n      if (!data.data) {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n          },\n        };\n      }\n      \n      const result = {\n        data: {\n          items: Array.isArray(data.data.items)\n            ? data.data.items.map((item: any) => ({\n                ...item,\n                created_at: timeAgo(item.created_at),\n              }))\n            : [],\n          totalCount: data.data.totalCount || 0,\n        },\n      };\n      \n      return result;\n    },\n  });\n};\n","/**\r\n * 테마 커스터마이징을 위한 헬퍼 함수들\r\n * @description 사용자가 쉽게 테마를 커스터마이징할 수 있는 API 함수들\r\n */\r\n\r\nimport type { \r\n  Theme, \r\n  ThemeOverride, \r\n  ColorPalette, \r\n  SemanticColors,\r\n  Typography,\r\n  ComponentTokens \r\n} from '../../types/theme';\r\nimport { defaultColorPalettes } from '../tokens/colors';\r\n\r\n// ========================================\r\n// 색상 생성 헬퍼 함수들\r\n// ========================================\r\n\r\n/**\r\n * 단일 색상에서 전체 팔레트를 생성하는 함수\r\n * \r\n * @param baseColor 기준 색상 (500 단계)\r\n * @param options 생성 옵션\r\n * @returns 완전한 색상 팔레트\r\n * \r\n * @example\r\n * ```typescript\r\n * const orangePalette = createColorPalette('#ff6b35');\r\n * // 결과: { 50: '#fff7f3', 100: '#ffedd5', ..., 950: '#431407' }\r\n * ```\r\n */\r\nexport function createColorPalette(\r\n  baseColor: string,\r\n  options: {\r\n    saturation?: number;\r\n    lightness?: number;\r\n    steps?: number;\r\n  } = {}\r\n): ColorPalette {\r\n  const { saturation = 70, lightness = 50, steps = 11 } = options;\r\n  \r\n  // HSL로 변환하여 계산 (간단한 구현)\r\n  const palette: Partial<ColorPalette> = {};\r\n  const shades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950];\r\n  \r\n  // 실제 구현에서는 더 정교한 색상 계산 라이브러리를 사용할 수 있습니다\r\n  // 여기서는 기본 예시 구현\r\n  palette[500] = baseColor;\r\n  palette[50] = lightenColor(baseColor, 0.95);\r\n  palette[100] = lightenColor(baseColor, 0.85);\r\n  palette[200] = lightenColor(baseColor, 0.7);\r\n  palette[300] = lightenColor(baseColor, 0.5);\r\n  palette[400] = lightenColor(baseColor, 0.25);\r\n  palette[600] = darkenColor(baseColor, 0.15);\r\n  palette[700] = darkenColor(baseColor, 0.3);\r\n  palette[800] = darkenColor(baseColor, 0.5);\r\n  palette[900] = darkenColor(baseColor, 0.7);\r\n  palette[950] = darkenColor(baseColor, 0.85);\r\n  \r\n  return palette as ColorPalette;\r\n}\r\n\r\n/**\r\n * 색상을 밝게 만드는 함수 (간단 구현)\r\n */\r\nfunction lightenColor(color: string, amount: number): string {\r\n  // 실제로는 더 정교한 색상 처리 라이브러리 사용 권장\r\n  // 예: polished, chroma-js 등\r\n  const hex = color.replace('#', '');\r\n  const num = parseInt(hex, 16);\r\n  const r = Math.min(255, Math.floor((num >> 16) + (255 - (num >> 16)) * amount));\r\n  const g = Math.min(255, Math.floor(((num >> 8) & 0x00FF) + (255 - ((num >> 8) & 0x00FF)) * amount));\r\n  const b = Math.min(255, Math.floor((num & 0x0000FF) + (255 - (num & 0x0000FF)) * amount));\r\n  \r\n  return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;\r\n}\r\n\r\n/**\r\n * 색상을 어둡게 만드는 함수 (간단 구현)\r\n */\r\nfunction darkenColor(color: string, amount: number): string {\r\n  const hex = color.replace('#', '');\r\n  const num = parseInt(hex, 16);\r\n  const r = Math.max(0, Math.floor((num >> 16) * (1 - amount)));\r\n  const g = Math.max(0, Math.floor(((num >> 8) & 0x00FF) * (1 - amount)));\r\n  const b = Math.max(0, Math.floor((num & 0x0000FF) * (1 - amount)));\r\n  \r\n  return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;\r\n}\r\n\r\n/**\r\n * 브랜드 컬러에서 전체 시맨틱 색상을 생성하는 함수\r\n * \r\n * @param brandColor 브랜드 메인 컬러\r\n * @param options 추가 색상 설정\r\n * @returns 완전한 시맨틱 색상 세트\r\n * \r\n * @example\r\n * ```typescript\r\n * const customColors = createSemanticColors('#3b82f6', {\r\n *   success: '#10b981',\r\n *   error: '#ef4444'\r\n * });\r\n * ```\r\n */\r\nexport function createSemanticColors(\r\n  brandColor: string,\r\n  options: {\r\n    secondary?: string;\r\n    success?: string;\r\n    warning?: string;\r\n    error?: string;\r\n    info?: string;\r\n  } = {}\r\n): SemanticColors {\r\n  return {\r\n    primary: createColorPalette(brandColor),\r\n    secondary: options.secondary ? createColorPalette(options.secondary) : defaultColorPalettes.slate,\r\n    success: options.success ? createColorPalette(options.success) : defaultColorPalettes.emerald,\r\n    warning: options.warning ? createColorPalette(options.warning) : defaultColorPalettes.amber,\r\n    error: options.error ? createColorPalette(options.error) : defaultColorPalettes.red,\r\n    info: options.info ? createColorPalette(options.info) : defaultColorPalettes.sky,\r\n    gray: defaultColorPalettes.gray,\r\n  };\r\n}\r\n\r\n// ========================================\r\n// 타이포그래피 헬퍼 함수들\r\n// ========================================\r\n\r\n/**\r\n * 커스텀 폰트 스케일을 생성하는 함수\r\n * \r\n * @param baseSize 기본 폰트 크기 (rem)\r\n * @param ratio 스케일 비율\r\n * @returns 완전한 폰트 크기 세트\r\n * \r\n * @example\r\n * ```typescript\r\n * const customFontScale = createFontScale(1, 1.25); // Major third scale\r\n * ```\r\n */\r\nexport function createFontScale(baseSize = 1, ratio = 1.2) {\r\n  return {\r\n    xs: `${baseSize / (ratio * ratio)}rem`,\r\n    sm: `${baseSize / ratio}rem`,\r\n    base: `${baseSize}rem`,\r\n    lg: `${baseSize * ratio}rem`,\r\n    xl: `${baseSize * ratio * ratio}rem`,\r\n    '2xl': `${baseSize * Math.pow(ratio, 3)}rem`,\r\n    '3xl': `${baseSize * Math.pow(ratio, 4)}rem`,\r\n    '4xl': `${baseSize * Math.pow(ratio, 5)}rem`,\r\n    '5xl': `${baseSize * Math.pow(ratio, 6)}rem`,\r\n    '6xl': `${baseSize * Math.pow(ratio, 7)}rem`,\r\n  };\r\n}\r\n\r\n/**\r\n * 커스텀 타이포그래피 설정을 생성하는 함수\r\n * \r\n * @param options 타이포그래피 커스터마이징 옵션\r\n * @returns 부분 타이포그래피 설정\r\n * \r\n * @example\r\n * ```typescript\r\n * const koreanTypography = createTypographyConfig({\r\n *   fontFamily: {\r\n *     sans: ['\"Noto Sans KR\"', 'sans-serif']\r\n *   },\r\n *   fontScale: { baseSize: 1, ratio: 1.25 }\r\n * });\r\n * ```\r\n */\r\nexport function createTypographyConfig(options: {\r\n  fontFamily?: Partial<Typography['fontFamily']>;\r\n  fontScale?: { baseSize?: number; ratio?: number };\r\n  fontWeights?: Partial<Typography['fontWeight']>;\r\n  lineHeight?: Partial<Typography['lineHeight']>;\r\n}): Partial<Typography> {\r\n  const config: Partial<Typography> = {};\r\n  \r\n  if (options.fontFamily) {\r\n    config.fontFamily = options.fontFamily;\r\n  }\r\n  \r\n  if (options.fontScale) {\r\n    const { baseSize = 1, ratio = 1.2 } = options.fontScale;\r\n    config.fontSize = createFontScale(baseSize, ratio);\r\n  }\r\n  \r\n  if (options.fontWeights) {\r\n    config.fontWeight = options.fontWeights;\r\n  }\r\n  \r\n  if (options.lineHeight) {\r\n    config.lineHeight = options.lineHeight;\r\n  }\r\n  \r\n  return config;\r\n}\r\n\r\n// ========================================\r\n// 컴포넌트 토큰 헬퍼 함수들\r\n// ========================================\r\n\r\n/**\r\n * 컴포넌트별 커스터마이징을 쉽게 할 수 있는 함수\r\n * \r\n * @param customizations 컴포넌트별 커스터마이징\r\n * @returns 부분 컴포넌트 토큰 설정\r\n * \r\n * @example\r\n * ```typescript\r\n * const customComponents = createComponentConfig({\r\n *   button: {\r\n *     borderRadius: 'xl',\r\n *     sizes: {\r\n *       base: { padding: '1rem 2rem', height: '3rem' }\r\n *     }\r\n *   }\r\n * });\r\n * ```\r\n */\r\nexport function createComponentConfig(\r\n  customizations: Partial<{\r\n    button: Partial<ComponentTokens['button']>;\r\n    input: Partial<ComponentTokens['input']>;\r\n    badge: Partial<ComponentTokens['badge']>;\r\n    avatar: Partial<ComponentTokens['avatar']>;\r\n    skeleton: Partial<ComponentTokens['skeleton']>;\r\n  }>\r\n): Partial<ComponentTokens> {\r\n  return customizations;\r\n}\r\n\r\n// ========================================\r\n// 통합 테마 생성 함수들\r\n// ========================================\r\n\r\n/**\r\n * 사용자 정의 테마를 쉽게 생성할 수 있는 통합 함수\r\n * \r\n * @param config 테마 구성 설정\r\n * @returns 완전한 테마 오버라이드\r\n * \r\n * @example\r\n * ```typescript\r\n * const myTheme = createCustomTheme({\r\n *   brandColor: '#ff6b35',\r\n *   fontFamily: ['\"Inter\"', 'sans-serif'],\r\n *   borderRadius: 'lg',\r\n *   components: {\r\n *     button: { borderRadius: 'full' }\r\n *   }\r\n * });\r\n * ```\r\n */\r\nexport function createCustomTheme(config: {\r\n  // 색상 설정\r\n  brandColor?: string;\r\n  colors?: {\r\n    secondary?: string;\r\n    success?: string;\r\n    warning?: string;\r\n    error?: string;\r\n    info?: string;\r\n  };\r\n  \r\n  // 타이포그래피 설정\r\n  fontFamily?: string[];\r\n  fontScale?: { baseSize?: number; ratio?: number };\r\n  \r\n  // 간격 및 크기 설정\r\n  borderRadius?: 'sm' | 'md' | 'lg' | 'xl';\r\n  spacing?: 'tight' | 'normal' | 'relaxed';\r\n  \r\n  // 컴포넌트 설정\r\n  components?: Partial<ComponentTokens>;\r\n}): ThemeOverride {\r\n  const override: ThemeOverride = {};\r\n  \r\n  // 색상 설정\r\n  if (config.brandColor || config.colors) {\r\n    override.colors = {\r\n      semantic: config.brandColor \r\n        ? createSemanticColors(config.brandColor, config.colors)\r\n        : undefined\r\n    };\r\n  }\r\n  \r\n  // 타이포그래피 설정\r\n  if (config.fontFamily || config.fontScale) {\r\n    override.typography = createTypographyConfig({\r\n      fontFamily: config.fontFamily ? { sans: config.fontFamily } : undefined,\r\n      fontScale: config.fontScale\r\n    });\r\n  }\r\n  \r\n  // 컴포넌트 설정\r\n  if (config.components) {\r\n    override.components = config.components;\r\n  }\r\n  \r\n  return override;\r\n}\r\n\r\n// ========================================\r\n// 프리셋 테마 생성기들\r\n// ========================================\r\n\r\n/**\r\n * 인기 있는 브랜드 색상 기반 테마 프리셋들\r\n */\r\nexport const themePresets = {\r\n  /**\r\n   * 깔끔한 블루 테마 (기본값과 유사)\r\n   */\r\n  cleanBlue: (): ThemeOverride => createCustomTheme({\r\n    brandColor: '#3b82f6',\r\n    borderRadius: 'md',\r\n  }),\r\n  \r\n  /**\r\n   * 따뜻한 오렌지 테마\r\n   */\r\n  warmOrange: (): ThemeOverride => createCustomTheme({\r\n    brandColor: '#f97316',\r\n    colors: {\r\n      success: '#22c55e',\r\n      warning: '#eab308',\r\n    },\r\n    borderRadius: 'lg',\r\n  }),\r\n  \r\n  /**\r\n   * 모던 퍼플 테마\r\n   */\r\n  modernPurple: (): ThemeOverride => createCustomTheme({\r\n    brandColor: '#8b5cf6',\r\n    colors: {\r\n      secondary: '#6366f1',\r\n      success: '#10b981',\r\n    },\r\n    borderRadius: 'xl',\r\n  }),\r\n  \r\n  /**\r\n   * 미니멀 그레이 테마\r\n   */\r\n  minimalGray: (): ThemeOverride => createCustomTheme({\r\n    brandColor: '#6b7280',\r\n    colors: {\r\n      secondary: '#374151',\r\n    },\r\n    borderRadius: 'sm',\r\n  }),\r\n  \r\n  /**\r\n   * 한국어 최적화 테마\r\n   */\r\n  korean: (): ThemeOverride => ({\r\n    typography: createTypographyConfig({\r\n      fontFamily: {\r\n        sans: [\r\n          '\"Noto Sans KR\"',\r\n          '\"Malgun Gothic\"',\r\n          '\"맑은 고딕\"',\r\n          'Apple SD Gothic Neo',\r\n          'sans-serif'\r\n        ]\r\n      },\r\n      fontScale: { baseSize: 1, ratio: 1.25 }\r\n    })\r\n  }),\r\n};\r\n\r\n// ========================================\r\n// 테마 검증 및 디버깅 함수들\r\n// ========================================\r\n\r\n/**\r\n * 테마 오버라이드의 유효성을 검사하는 함수\r\n */\r\nexport function validateThemeOverride(override: ThemeOverride): {\r\n  isValid: boolean;\r\n  warnings: string[];\r\n  errors: string[];\r\n} {\r\n  const warnings: string[] = [];\r\n  const errors: string[] = [];\r\n  \r\n  // 색상 검증\r\n  if (override.colors?.semantic) {\r\n    Object.entries(override.colors.semantic).forEach(([colorName, palette]) => {\r\n      if (palette) {\r\n        Object.entries(palette).forEach(([shade, color]) => {\r\n          if (typeof color === 'string' && !isValidHexColor(color)) {\r\n            warnings.push(`Invalid color format: ${colorName}.${shade} = ${color}`);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  \r\n  return {\r\n    isValid: errors.length === 0,\r\n    warnings,\r\n    errors\r\n  };\r\n}\r\n\r\n/**\r\n * 16진수 색상 코드 검증\r\n */\r\nfunction isValidHexColor(hex: string): boolean {\r\n  return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex);\r\n}\r\n\r\n/**\r\n * 테마 미리보기를 위한 샘플 색상 추출\r\n */\r\nexport function extractThemePreview(theme: Theme): {\r\n  primary: string;\r\n  secondary: string;\r\n  success: string;\r\n  warning: string;\r\n  error: string;\r\n  background: string;\r\n  text: string;\r\n} {\r\n  return {\r\n    primary: theme.colors.semantic.primary[500],\r\n    secondary: theme.colors.semantic.secondary[500],\r\n    success: theme.colors.semantic.success[500],\r\n    warning: theme.colors.semantic.warning[500],\r\n    error: theme.colors.semantic.error[500],\r\n    background: theme.colors.system.background.primary,\r\n    text: theme.colors.system.text.primary,\r\n  };\r\n}","/**\r\n * 커뮤니티 코어 테마 시스템\r\n * @description 완전히 커스터마이징 가능한 디자인 시스템\r\n */\r\n\r\n// ========================================\r\n// 타입 정의 내보내기\r\n// ========================================\r\nexport type {\r\n  Theme,\r\n  ThemeConfig,\r\n  ThemeContextValue,\r\n  ThemeOverride,\r\n  ColorOverride,\r\n  TypographyOverride,\r\n  DeepPartial,\r\n  \r\n  // 색상 관련 타입\r\n  ColorPalette,\r\n  SemanticColors,\r\n  SystemColors,\r\n  \r\n  // 타이포그래피 관련 타입\r\n  Typography,\r\n  FontFamily,\r\n  FontSize,\r\n  FontWeight,\r\n  LineHeight,\r\n  LetterSpacing,\r\n  \r\n  // 간격 및 크기 관련 타입\r\n  Spacing,\r\n  BorderRadius,\r\n  BoxShadow,\r\n  Animation,\r\n  ZIndex,\r\n  Breakpoints,\r\n  \r\n  // 컴포넌트 관련 타입\r\n  ComponentTokens,\r\n  ComponentVariant,\r\n  ComponentSize,\r\n  \r\n  // 유틸리티 타입\r\n  ThemeValue,\r\n  ColorValue,\r\n  SpacingValue,\r\n} from '../types/theme';\r\n\r\n// ========================================\r\n// 테마 컴포넌트 및 훅 내보내기\r\n// ========================================\r\nexport {\r\n  ThemeProvider,\r\n  useTheme,\r\n  useThemeColors,\r\n  useThemeTypography,\r\n  useThemeSpacing,\r\n  useThemeMode,\r\n  useCSSVariable,\r\n} from './ThemeProvider';\r\n\r\n// ========================================\r\n// 기본 테마 내보내기\r\n// ========================================\r\nexport {\r\n  defaultLightTheme,\r\n  defaultDarkTheme,\r\n  koreanLightTheme,\r\n  koreanDarkTheme,\r\n  themePresets,\r\n  getThemePreset,\r\n  getThemeByMode,\r\n  type ThemePreset,\r\n} from './defaultThemes';\r\n\r\n// ========================================\r\n// 색상 토큰 내보내기\r\n// ========================================\r\nexport {\r\n  defaultColorPalettes,\r\n  defaultSemanticColors,\r\n  lightSystemColors,\r\n  darkSystemColors,\r\n} from './tokens/colors';\r\n\r\n// ========================================\r\n// 타이포그래피 토큰 내보내기\r\n// ========================================\r\nexport {\r\n  defaultTypography,\r\n  koreanOptimizedTypography,\r\n} from './tokens/typography';\r\n\r\n// ========================================\r\n// 간격 및 크기 토큰 내보내기\r\n// ========================================\r\nexport {\r\n  defaultSpacing,\r\n  defaultBorderRadius,\r\n  defaultBoxShadow,\r\n  defaultAnimation,\r\n  defaultZIndex,\r\n  defaultBreakpoints,\r\n} from './tokens/spacing';\r\n\r\n// ========================================\r\n// 컴포넌트 토큰 내보내기\r\n// ========================================\r\nexport {\r\n  defaultComponentTokens,\r\n} from './tokens/components';\r\n\r\n// ========================================\r\n// 유틸리티 함수 내보내기\r\n// ========================================\r\n\r\n// 테마 병합 함수들\r\nexport {\r\n  mergeTheme,\r\n  mergeColors,\r\n  mergeTypography,\r\n  mergeComponentTokens,\r\n  validateTheme,\r\n  validateColorValue,\r\n} from './utils/mergeTheme';\r\n\r\n// CSS 변수 생성 함수들\r\nexport {\r\n  generateCSSVariables,\r\n  generateColorCSSVariables,\r\n  generateTypographyCSSVariables,\r\n  generateSpacingCSSVariables,\r\n  createCSSVariable,\r\n  createColorVariable,\r\n  createSpacingVariable,\r\n  createFontSizeVariable,\r\n  isValidCSSVariable,\r\n  extractTokenPath,\r\n} from './utils/cssVariables';\r\n\r\n// 테마 헬퍼 함수들\r\nexport {\r\n  createColorPalette,\r\n  createSemanticColors,\r\n  createFontScale,\r\n  createTypographyConfig,\r\n  createComponentConfig,\r\n  createCustomTheme,\r\n  themePresets as customThemePresets,\r\n  validateThemeOverride,\r\n  extractThemePreview,\r\n} from './utils/themeHelpers';\r\n\r\n// ========================================\r\n// 편의 함수 및 상수\r\n// ========================================\r\n\r\n/**\r\n * 빠른 테마 설정을 위한 편의 함수\r\n * \r\n * @example\r\n * ```tsx\r\n * import { createQuickTheme } from '@semicolon/community-core/theme';\r\n * \r\n * const App = () => (\r\n *   <ThemeProvider config={createQuickTheme('#ff6b35', 'korean')}>\r\n *     <YourApp />\r\n *   </ThemeProvider>\r\n * );\r\n * ```\r\n */\r\nexport function createQuickTheme(\r\n  brandColor?: string,\r\n  locale: 'default' | 'korean' = 'default',\r\n  mode: 'light' | 'dark' = 'light'\r\n): ThemeConfig {\r\n  const themeOverride: ThemeOverride = {};\r\n  \r\n  if (brandColor) {\r\n    themeOverride.colors = {\r\n      semantic: {\r\n        primary: require('./utils/themeHelpers').createColorPalette(brandColor)\r\n      }\r\n    };\r\n  }\r\n  \r\n  if (locale === 'korean') {\r\n    themeOverride.typography = require('./tokens/typography').koreanOptimizedTypography;\r\n  }\r\n  \r\n  return {\r\n    mode,\r\n    theme: themeOverride,\r\n    cssVarPrefix: 'cc',\r\n    respectSystemTheme: true,\r\n  };\r\n}\r\n\r\n// ========================================\r\n// 기본 내보내기\r\n// ========================================\r\nexport default {\r\n  ThemeProvider,\r\n  useTheme,\r\n  defaultLightTheme,\r\n  defaultDarkTheme,\r\n  createCustomTheme: require('./utils/themeHelpers').createCustomTheme,\r\n  createQuickTheme,\r\n};","// @semicolon/community-core v1.0.0\n// Community platform core components and utilities\n\n// =============================================================================\n// MAIN EXPORTS - Most commonly used items\n// =============================================================================\n\n// Essential Utilities (most frequently used)\nexport { formatNumberWithComma } from './utils/numberUtil';\nexport { formatDate, timeAgo } from './utils/dateUtil';\nexport { isAdmin } from './utils/authUtil';\n\n// Core Types (essential for TypeScript users)\nexport type { User } from './types/User';\nexport type { CommonResponse } from './types/common';\n\n// =============================================================================\n// CATEGORY EXPORTS - Organized by domain\n// =============================================================================\n\n// All utilities\nexport * as Utils from './utils';\n\n// All types (commented out due to build complexity)\n// export * as Types from './types';\n\n// Constants will be added in Phase 2\n// export * as Constants from './constants';\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n// Package initialization function\nexport { initializeCommunityCore } from './config/init';\n\n// Configuration utilities\nexport { getPackageConfig } from './config/init';\n\n// =============================================================================\n// COMPONENT EXPORTS - New design system components\n// =============================================================================\n\n// Essential components (Phase 1)\nexport { Button, Badge, Avatar } from './components/atoms';\nexport type { ButtonProps, BadgeProps, AvatarProps } from './components/atoms';\n\n// Phase 2.1 Form Components\nexport { \n  Input, \n  Select, \n  Checkbox, \n  Radio, \n  Switch, \n  TextArea \n} from './components/atoms';\nexport type { \n  InputProps, \n  SelectProps, \n  SelectOption,\n  CheckboxProps, \n  RadioProps, \n  SwitchProps, \n  TextAreaProps \n} from './components/atoms';\n\n// Phase 2.2 Loading & Feedback Components\nexport {\n  Skeleton,\n  SkeletonText,\n  SkeletonAvatar,\n  SkeletonButton,\n  SkeletonCard\n} from './components/atoms';\nexport type { SkeletonProps } from './components/atoms';\n\n// =============================================================================  \n// SERVICE LAYER EXPORTS - Phase 2 Complete\n// =============================================================================\n\n// Service Classes (Modern API)\nexport { \n  BaseService, \n  UserService, \n  PostService, \n  BoardService,\n  AuthService,\n  PermissionService\n} from './services';\n\n// Legacy Service Objects (backward compatibility)\nexport {\n  baseService,\n  userService, \n  postService,\n  boardService,\n  authService,\n  permissionService\n} from './services';\n\n// Service Types\nexport type {\n  RequestOptions,\n  HttpMethod,\n  UserServiceOptions,\n  UserPermission,\n  UserUpdateData,\n  UserSearchOptions,\n  PostServiceOptions,\n  PostListOptions,\n  PostCreateData,\n  PostUpdateData,\n  PostDownloadHistory,\n  DraftPostRequest,\n  DraftPostResponse,\n  AsyncUploadConfig,\n  UploadStartResponse,\n  UploadProgressResponse,\n  BoardServiceOptions,\n  BoardListOptions,\n  BoardCreateData,\n  BoardUpdateData,\n  BoardCategoryCreateData,\n  BoardStats,\n  AuthServiceOptions,\n  LoginCredentials,\n  RegisterData,\n  AuthTokens,\n  AuthResponse,\n  PasswordResetData,\n  PasswordChangeData,\n  SessionInfo,\n  PermissionServiceOptions,\n  PermissionCheck,\n  PermissionResult,\n  UserPermissions,\n  LevelInfo,\n  RoleInfo,\n  PermissionGrant\n} from './services';\n\n// =============================================================================\n// HOOKS LAYER EXPORTS - Phase 3 Complete ✅\n// =============================================================================\n\n// Authentication & State Management Hooks\nexport { useAuth } from './hooks/User/useAuth';\nexport { useGlobalLoader } from './hooks/common/useGlobalLoader';\nexport { usePermission } from './hooks/common/usePermission';\nexport { useAuthGuard } from './hooks/common/useAuthGuard';\n\n// React Query Data Fetching Hooks\nexport { useUserPointQuery, useUserPointHistoryQuery } from './hooks/queries/useUserQuery';\nexport { usePostQuery, usePostBookmarkQuery, useDraftPostQuery } from './hooks/queries/usePostQuery';\nexport { useBoardQuery } from './hooks/queries/useBoardQuery';\nexport { useCommentQuery } from './hooks/queries/useCommentQuery';\n\n// Common Utility Hooks\nexport { useDeviceType } from './hooks/common/useDeviceType';\nexport { useRouterWithLoader } from './hooks/common/useRouterWithLoader';\n\n// =============================================================================\n// DEVELOPMENT EXPORTS - Available but not prominently featured\n// =============================================================================\n\n// Full category exports (for advanced usage) - commented out to reduce build warnings\n// export * as Components from './components';  // All components (legacy + new)\n// export * as Hooks from './hooks';         // Phase 3\n// export * as Services from './services';   // Completed in Phase 2\n\n// =============================================================================\n// THEME SYSTEM EXPORTS - Phase 4 Complete ✅\n// =============================================================================\n\n// Theme Provider and Hooks\nexport { \n  ThemeProvider, \n  useTheme, \n  useThemeColors, \n  useThemeTypography,\n  useThemeSpacing,\n  useThemeMode,\n  useCSSVariable \n} from './theme';\n\n// Theme Creation and Customization\nexport {\n  createCustomTheme,\n  createColorPalette,\n  createSemanticColors,\n  createTypographyConfig,\n  createComponentConfig,\n  createQuickTheme\n} from './theme';\n\n// Default Themes\nexport {\n  defaultLightTheme,\n  defaultDarkTheme,\n  koreanLightTheme,\n  koreanDarkTheme,\n  getThemePreset,\n  getThemeByMode\n} from './theme';\n\n// CSS Variables and Utilities\nexport {\n  generateCSSVariables,\n  createCSSVariable,\n  createColorVariable,\n  createSpacingVariable,\n  createFontSizeVariable,\n  validateThemeOverride,\n  extractThemePreview\n} from './theme';\n\n// Theme Types\nexport type {\n  Theme,\n  ThemeConfig,\n  ThemeOverride,\n  ColorPalette,\n  SemanticColors,\n  SystemColors,\n  Typography,\n  ComponentTokens,\n  ComponentVariant,\n  ComponentSize\n} from './theme';\n\n// =============================================================================\n// VERSION INFO\n// =============================================================================\nexport const VERSION = '1.3.2';\nexport const PACKAGE_NAME = '@team-semicolon/community-core';","import { AuthChangeEvent, createClient } from \"@supabase/supabase-js\";\n\nfunction createClientSupabase() {\n  const client = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      auth: {\n        persistSession: true,\n        autoRefreshToken: true,\n        detectSessionInUrl: true,\n        storageKey: \"sb-access-token\",\n        storage: {\n          getItem: (key: string) => {\n            if (typeof window === \"undefined\") return null;\n\n            try {\n              const value = document.cookie\n                .split(\"; \")\n                .find((row) => row.startsWith(`${key}=`))\n                ?.split(\"=\")[1];\n\n              if (!value) {\n                return null;\n              }\n\n              const decodedValue = decodeURIComponent(value);\n              \n              // 토큰 유효성 검증 (만료된 토큰 자동 정리)\n              try {\n                const sessionData = JSON.parse(decodedValue);\n                if (sessionData?.access_token) {\n                  // 동적 import로 순환 참조 방지\n                  import('../../utils/jwtUtil').then(({ decodeJWTPayload, isTokenExpired, removeExpiredTokenFromCookie }) => {\n                    const payload = decodeJWTPayload(sessionData.access_token);\n                    if (payload && isTokenExpired(payload)) {\n                      console.log('🗑️ 클라이언트 Storage: 만료된 토큰 감지, 정리 중...');\n                      removeExpiredTokenFromCookie(key);\n                    }\n                  });\n                }\n              } catch (parseError) {\n                // JSON 파싱 실패 시 로그만 남기고 원본 반환\n                console.warn('클라이언트 Storage: 세션 데이터 파싱 실패:', parseError);\n              }\n              \n              return decodedValue;\n            } catch (error) {\n              console.error(\"❌ 클라이언트: 쿠키 읽기 실패:\", error);\n              return null;\n            }\n          },\n\n          setItem: (key: string, value: string) => {\n            if (typeof window === \"undefined\") return;\n\n            try {\n              // 세션 데이터 유효성 검사\n              const sessionData = JSON.parse(value);\n              if (!sessionData.access_token) {\n                // console.warn(\"⚠️  클라이언트: access_token이 없는 세션 데이터\");\n                return;\n              }\n\n              const encodedValue = encodeURIComponent(value);\n              \n              // 쿠키 설정 (30일 유효)\n              const expires = new Date();\n              expires.setDate(expires.getDate() + 30);\n              \n              document.cookie = `${key}=${encodedValue}; expires=${expires.toUTCString()}; path=/; SameSite=Lax; Secure`;\n              \n              // console.log(\"💾 클라이언트: 세션 정보 쿠키 저장 성공\");\n              // console.log(\"🔑 클라이언트: access_token 존재:\", !!sessionData.access_token);\n              // console.log(\"👤 클라이언트: 사용자 정보:\", sessionData.user?.email);\n            } catch (error) {\n              // console.error(\"❌ 클라이언트: 쿠키 저장 실패:\", error);\n            }\n          },\n\n          removeItem: (key: string) => {\n            if (typeof window === \"undefined\") return;\n\n            try {\n              document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n              // console.log(\"🗑️  클라이언트: 쿠키 삭제 완료\");\n            } catch (error) {\n              // console.error(\"❌ 클라이언트: 쿠키 삭제 실패:\", error);\n            }\n          },\n        },\n      },\n    }\n  );\n\n  // 세션 상태 변경 감지 및 처리\n  if (typeof window !== \"undefined\") {\n    let isHandlingSignOut = false;  // 로그아웃 처리 중복 방지 플래그\n\n    client.auth.onAuthStateChange((event: AuthChangeEvent, session) => {\n      // console.log(\"🔄 클라이언트: 인증 상태 변경:\", event);\n      \n      switch (event) {\n        case \"SIGNED_OUT\":\n          if (!isHandlingSignOut) {\n            isHandlingSignOut = true;\n            // 쿠키 및 로컬 상태 정리\n            client.auth.getSession().then(() => {\n              isHandlingSignOut = false;\n            });\n          }\n          break;\n          \n        case \"TOKEN_REFRESHED\":\n          if (session) {\n            // console.log(\"🔄 클라이언트: 토큰 갱신됨\");\n            // 필요한 경우 추가 처리\n          }\n          break;\n          \n        case \"USER_UPDATED\":\n          if (!session) {\n            // 세션이 없는 경우에만 로그아웃 처리\n            if (!isHandlingSignOut) {\n              isHandlingSignOut = true;\n              client.auth.signOut().then(() => {\n                isHandlingSignOut = false;\n              });\n            }\n          }\n          break;\n      }\n    });\n  }\n\n  return client;\n}\n\nexport const clientSupabase = createClientSupabase();\n"],"names":["formatNumberWithComma","num","numStr","parts","toString","split","replace","length","join","removeCommaFromString","str","parseFloat","formatDate","dateString","isSimple","date","Date","isNaN","getTime","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","timeAgo","now","Math","floor","DateUtil","toChar","input","format","map","yyyy","MM","dd","HH","mm","ss","Object","entries","reduce","result","key","value","isJWTPayload","user","sub","user_metadata","isUserObject","id","nickname","permissionType","isValidUser","checkIsAdmin","level","isAdmin","isSuperAdmin","isAdminOrSuperAdmin","hasLevelPermission","requiredLevel","keys","console","warn","userLevel","is_admin","hasBoardPermission","isLoggedIn","getUserLevel","getUserPermissionType","getUserPermissionTypeFromJWT","getUserPermissionTypeFromDB","IMAGE_SIZE","sm","md","lg","xl","xxl","transformSupabaseImageUrl","url","size","quality","includes","transformedUrl","width","validQuality","max","min","separator","params","error","generateImageSrcSet","sizes","forEach","supabaseImageLoader","src","baseUrl","normalizeImageSrc","resourceUrl","process","env","NEXT_PUBLIC_STORAGE_URL","startsWith","relativePath","optimizeImageSrc","normalizedSrc","undefined","isGifImage","lowerSrc","toLowerCase","endsWith","isAnimatedImage","getImageProps","unoptimized","LevelUtil","calculateUserLevel","currentPoints","levelTable","sortedLevels","sort","a","b","required_points","getLevelProgress","currentLevel","currentLevelPoints","nextLevel","nextLevelPoints","progressPercentage","pointsToNext","this","currentLevelInfo","find","nextLevelInfo","pointsNeededForNext","pointsEarnedInCurrentLevel","round","getNextLevelInfo","requiredPoint","levelUpPercentage","isMaxLevel","levelUpPercent","toCamelCase","_","letter","toUpperCase","toSnakeCase","keysToCamelCase","obj","Array","isArray","item","camelKey","keysToSnakeCase","snakeKey","addUrlParams","URL","window","location","origin","searchParams","URLSearchParams","search","set","pathname","Error","getPreviousUrlWithParams","storageKey","fallbackUrl","previousUrl","sessionStorage","getItem","base64UrlDecode","decodeURIComponent","atob","c","charCodeAt","slice","decodeJWTPayload","token","payload","JSON","parse","async","getCurrentUserFromToken","clientSupabase","Promise","resolve","then","client","data","session","auth","getSession","access_token","isTokenExpired","exp","getTokenTimeToExpiry","removeExpiredTokenFromCookie","cookieName","cookieString","document","cookie","row","decodedCookie","sessionData","accessToken","log","relatedCookies","name","validateAndCleanToken","signOut","shouldRefreshToken","timeToExpiry","UploadErrorType","ERROR_MESSAGES","FILE_TOO_LARGE","UNSUPPORTED_FORMAT","PERMISSION_DENIED","NETWORK_ERROR","SERVER_ERROR","UPLOAD_TIMEOUT","QUOTA_EXCEEDED","INVALID_POST","getUploadErrorMessage","errorMessage","message","errorResponse","response","code","errorCode","isRetryableError","nonRetryableErrors","logUploadError","context","errorInfo","stack","timestamp","toISOString","userAgent","navigator","NODE_ENV","group","groupEnd","calculateUploadMetrics","files","startTime","totalFiles","completedFiles","failedFiles","totalBytes","uploadedBytes","filter","f","status","sum","fileSize","progress","retryCount","estimateCompletionTime","metrics","elapsed","totalEstimated","remaining","calculateUploadSpeed","uploadedMB","globalConfig","initializeCommunityCore","config","development","getPackageConfig","freeze","defaultColorPalettes","slate","blue","emerald","amber","red","sky","gray","defaultSemanticColors","primary","secondary","success","warning","info","lightSystemColors","background","tertiary","inverse","overlay","surface","elevated","border","focus","text","disabled","link","linkHover","darkSystemColors","defaultTypography","fontFamily","sans","serif","mono","fontSize","xs","base","fontWeight","thin","extralight","light","normal","medium","semibold","bold","extrabold","black","lineHeight","none","tight","snug","relaxed","loose","letterSpacing","tighter","wide","wider","widest","koreanOptimizedTypography","defaultSpacing","px","defaultBorderRadius","full","defaultBoxShadow","inner","defaultAnimation","duration","timingFunction","linear","in","out","defaultZIndex","auto","dropdown","sticky","fixed","modal","popover","tooltip","toast","defaultBreakpoints","defaultComponentTokens","button","borderRadius","padding","height","badge","avatar","square","rounded","circle","skeleton","animation","defaultLightTheme","colors","semantic","system","typography","spacing","boxShadow","zIndex","breakpoints","components","defaultDarkTheme","koreanLightTheme","koreanDarkTheme","themePresets","getThemePreset","preset","getThemeByMode","mode","locale","presetKey","isObject","deepMerge","target","source","sourceValue","targetValue","mergeTheme","baseTheme","override","generateColorPaletteVars","palette","prefix","colorName","vars","shade","push","generateSemanticColorVars","generateSystemColorVars","category","categoryColors","generateTypographyVars","fonts","weight","generateSpacingVars","generateBorderRadiusVars","generateBoxShadowVars","generateAnimationVars","timing","generateZIndexVars","generateCSSVariables","theme","createCSSVariable","tokenPath","createColorVariable","color","createSpacingVariable","createFontSizeVariable","ThemeContext","createContext","STORAGE_KEY","getStoredMode","stored","localStorage","setStoredMode","setItem","getSystemMode","matchMedia","matches","ThemeProvider","children","initialTheme","configMode","themeOverride","cssVarPrefix","respectSystemTheme","getInitialMode","useCallback","storedMode","setMode","useState","useMemo","changeMode","newMode","toggleMode","updateTheme","resetTheme","useEffect","mediaQuery","handleChange","e","systemMode","addEventListener","removeEventListener","cssVars","styleId","existingStyle","getElementById","remove","styleElement","createElement","textContent","head","appendChild","element","contextValue","_jsx","Provider","useTheme","useContext","useThemeColors","useThemeTypography","useThemeSpacing","useThemeMode","useCSSVariable","variableName","Button","forwardRef","variant","loading","fullWidth","startIcon","endIcon","className","style","props","ref","baseStyle","display","alignItems","justifyContent","transitionProperty","transitionDuration","transitionTimingFunction","cursor","outline","sizeStyles","variantStyles","backgroundColor","ghost","danger","disabledStyle","widthStyle","combinedStyle","opacity","pointerEvents","LoadingSpinner","_jsxs","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","marginRight","marginLeft","displayName","Badge","dot","baseClasses","variantClasses","sizeClasses","dotClasses","badgeClasses","Boolean","DotIndicator","Avatar","alt","imageError","setImageError","imageLoaded","setImageLoaded","statusClasses","online","offline","away","busy","statusSizeClasses","getInitials","part","charAt","handleImageError","handleImageLoad","optimizedSrc","avatarClasses","onError","onLoad","title","Input","label","helper","type","startAdornment","endAdornment","containerClassName","labelClassName","errorClassName","helperClassName","required","inputId","random","substr","baseInputClasses","borderClasses","inputClasses","trim","htmlFor","Select","options","onChange","placeholder","multiple","searchable","searchPlaceholder","showIcon","showDescription","maxHeight","noOptionsText","dropdownClassName","isOpen","setIsOpen","searchTerm","setSearchTerm","dropdownRef","useRef","selectId","selectedOption","option","handleClickOutside","event","current","contains","handleOptionClick","toggleDropdown","baseSelectClasses","selectClasses","role","tabIndex","onClick","strokeLinecap","strokeLinejoin","isSelected","description","Checkbox","checked","indeterminate","labelPosition","checkboxId","baseCheckboxClasses","checkboxClasses","checkboxElement","labelElement","Radio","radioId","dotSizeClasses","labelText","radioElement","Switch","onText","offText","switchId","currentSize","track","thumb","translate","trackClasses","thumbClasses","switchElement","TextArea","autoResize","minHeight","maxLength","showCount","countClassName","textareaId","textareaHeight","setTextareaHeight","handleAutoResize","scrollHeight","newHeight","baseTextareaClasses","textareaClasses","currentLength","isOverLimit","Skeleton","animated","rectangular","circular","getDefaultStyles","backgroundClass","SkeletonText","lines","from","index","SkeletonAvatar","SkeletonButton","buttonVariant","getButtonSize","buttonSize","SkeletonCard","baseURL","NEXT_PUBLIC_API_URL","axiosInstance","axios","create","timeout","headers","Accept","withCredentials","CommonConstants","CommonStatus","interceptors","request","use","metadata","skipLoader","useMiniLoader","FormData","sessionCookie","decodedSession","jwtUtil","Authorization","importError","successOrNot","statusCode","CustomEvent","detail","dispatchEvent","_retried","sessionError","refreshData","refreshError","refreshSession","originalConfig","reject","BaseService","constructor","defaultHeaders","handleError","AxiosError","INTERNAL_SERVER_ERROR","buildUrl","endpoint","prepareConfig","loaderText","get","await","post","put","patch","delete","getSilent","postSilent","putSilent","patchSilent","deleteSilent","getMini","postMini","putMini","patchMini","deleteMini","baseService","service","UserService","super","getMyInfo","getMyPermission","getMyPoint","getRealtimeUser","getUserId","getUserUuid","updateUserProfile","refreshMyInfo","getUserInfo","needPoint","includePermissions","checkUserIdExist","userId","checkNicknameExist","getUserById","getUsersByIds","userIds","searchUsers","keyword","page","pageSize","updateUserLevel","updateUserBanStatus","isBanned","reason","userService","profileImage","PostService","getPostList","boardId","sortBy","searchType","searchText","needNotice","categoryId","writerId","getPostById","postId","createPost","formData","append","content","isNotice","hasFiles","downloadPoint","attachments","stringify","file","updatePost","deletePost","reactToPost","reactionType","reactionText","purchaseFiles","bookmarkPost","removeBookmark","getBookmarkedPosts","movePost","board_id","createDraftPost","publishPost","startAsyncFileUpload","needWatermark","watermarkPosition","watermarkOpacity","getUploadProgress","retryFailedFiles","failedFileUuids","cancelUpload","createPostAsync","draftResponse","getDraftPosts","searchPosts","boardIds","getPostStats","postService","getPost","reactionPost","deleteBookmarkPost","getBookmarkPosts","BoardService","getBoards","isActive","getBoard","createBoard","updateBoard","deleteBoard","getBoardCategories","createBoardCategory","updateBoardCategory","deleteBoardCategory","getBoardStats","searchBoards","getPopularBoards","limit","getRecentlyActiveBoards","getFavoriteBoards","addToFavorites","removeFromFavorites","getBoardPermissions","updateBoardPermissions","permissions","getBoardModerators","addBoardModerator","removeBoardModerator","reportBoard","getBoardActivity","boardService","AuthService","login","credentials","logout","register","refreshToken","validateSession","getCurrentUser","requestPasswordReset","resetPassword","newPassword","newPasswordConfirm","changePassword","sendEmailVerification","email","verifyEmail","checkUserIdAvailability","checkNicknameAvailability","checkEmailAvailability","getUserSessions","revokeSession","sessionId","revokeAllSessions","enable2FA","confirm2FA","disable2FA","password","verify2FACode","authService","PermissionService","checkPermission","check","resource","action","checkPermissions","checks","getMyPermissions","getUserPermissions","getLevels","getLevel","getRoles","getRole","roleId","createRole","updateRole","updates","deleteRole","assignRole","removeRole","grantPermission","grant","revokePermission","permission","getUserGrants","getPermissionHistory","checkBoardAccess","checkPostAccess","checkAdminAccess","section","getLevelProgression","banned","getUserRestrictions","permissionService","React","require$$0","is","x","y","objectIs","useSyncExternalStore","useDebugValue","useSyncExternalStoreWithSelector_production","useSyncExternalStoreWithSelector","subscribe","getSnapshot","getServerSnapshot","selector","isEqual","instRef","inst","hasValue","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","__REACT_DEVTOOLS_GLOBAL_HOOK__","registerInternalModuleStart","useSyncExternalStoreWithSelector_development","registerInternalModuleStop","withSelectorModule","exports","require$$1","ContextKey","Symbol","for","gT","globalThis","getContext","contextMap","Map","realContext","ReactReduxContext","createReduxContextHook","useReduxContext2","useReduxContext","createStoreHook","useStore2","store","assign","withTypes","useStore","createDispatchHook","useDispatch2","dispatch","useDispatch","refEquality","createSelectorHook","useSelector2","equalityFnOrOptions","equalityFn","reduxContext","subscription","getServerState","firstRun","wrappedSelector","state","selected","devModeChecks","identityFunctionCheck","stabilityCheck","finalIdentityFunctionCheck","finalStabilityCheck","toCompare","selected2","selectedState","addNestedSub","getState","useSelector","useDeviceType","deviceType","app","updateDeviceType","updateDeviceTypeFromWidth","innerWidth","isMobile","isTablet","isDesktop","isMobileOrTablet","useGlobalLoader","useAppDispatch","isAutoTransitioned","useAppSelector","selectUIState","showLoader","showMiniLoading","hideLoader","hideMiniLoading","setLoaderText","setMiniLoadingText","withLoader","asyncFn","showPostLoader","showLoading","hidePostLoader","hideAllLoaders","hideLoading","setPostLoaderText","setLoadingText","withPostLoader","showMiniLoader","hideMiniLoader","setMiniLoaderText","withMiniLoader","usePermission","userInfo","selectUserInfo","reduxUser","jwtUser","setJwtUser","currentUser","adminStatus","getJwtUser","tokenUser","showAccessDeniedToast","showToast","headerTextColor","useRouterWithLoader","router","useNextRouter","usePathname","shouldShowLoader","href","targetPath","isExternalDomain","targetUrl","currentDomain","hostname","useAuth","userState","loginWithLoader","loginData","fulfilled","match","logoutWithLoader","initializeAuth","autoLogin","checkSession","import","tokenPayload","valid","navigateWithAuth","path","adminOnly","sessionCheck","isUser","useAuthGuard","isLoading","setIsLoading","errorType","setErrorType","setTokenUser","isCheckingRef","lastTokenUserRef","checkTokenAuth","tokenUserString","boardPermissions","writeLevel","readLevel","checkPermissionAsync","hasPermission","isTokenValid","isAuthenticated","useUserPointQuery","useQuery","queryKey","queryFn","pointService","getUserPoint","staleTime","gcTime","retry","select","useUserPointHistoryQuery","getUserPointHistory","usePostQuery","enabled","placeholderData","prev","refetchOnMount","items","totalCount","notices","created_at","usePostBookmarkQuery","useDraftPostQuery","enablePolling","refetchInterval","query","allCompleted","every","attachment","refetchIntervalInBackground","useBoardQuery","useCommentQuery","commentService","getComments","createColorPalette","baseColor","saturation","lightness","steps","lightenColor","darkenColor","amount","hex","parseInt","g","createSemanticColors","brandColor","createFontScale","baseSize","ratio","pow","createTypographyConfig","fontScale","fontWeights","createComponentConfig","customizations","createCustomTheme","validateThemeOverride","warnings","errors","isValidHexColor","isValid","test","extractThemePreview","createQuickTheme","require","VERSION","PACKAGE_NAME","createClientSupabase","createClient","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","persistSession","autoRefreshToken","detectSessionInUrl","storage","decodedValue","parseError","encodedValue","encodeURIComponent","expires","setDate","toUTCString","removeItem","isHandlingSignOut","onAuthStateChange"],"mappings":"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","x_google_ignoreList":[36,37,38,39]}